(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Za(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Dt={},Cs=[],Je=()=>{},cg=()=>!1,eo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),tl=e=>e.startsWith("onUpdate:"),te=Object.assign,el=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ug=Object.prototype.hasOwnProperty,Pt=(e,t)=>ug.call(e,t),ot=Array.isArray,Rs=e=>no(e)==="[object Map]",Hh=e=>no(e)==="[object Set]",dt=e=>typeof e=="function",Ht=e=>typeof e=="string",En=e=>typeof e=="symbol",Mt=e=>e!==null&&typeof e=="object",zh=e=>(Mt(e)||dt(e))&&dt(e.then)&&dt(e.catch),Kh=Object.prototype.toString,no=e=>Kh.call(e),hg=e=>no(e).slice(8,-1),Gh=e=>no(e)==="[object Object]",nl=e=>Ht(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,yr=Za(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),so=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},fg=/-(\w)/g,$e=so(e=>e.replace(fg,(t,n)=>n?n.toUpperCase():"")),dg=/\B([A-Z])/g,fs=so(e=>e.replace(dg,"-$1").toLowerCase()),ro=so(e=>e.charAt(0).toUpperCase()+e.slice(1)),qo=so(e=>e?`on${ro(e)}`:""),On=(e,t)=>!Object.is(e,t),Ai=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},da=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},pa=e=>{const t=parseFloat(e);return isNaN(t)?e:t},pg=e=>{const t=Ht(e)?Number(e):NaN;return isNaN(t)?e:t};let Nc;const io=()=>Nc||(Nc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Gr(e){if(ot(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=Ht(s)?yg(s):Gr(s);if(r)for(const i in r)t[i]=r[i]}return t}else if(Ht(e)||Mt(e))return e}const gg=/;(?![^(]*\))/g,mg=/:([^]+)/,_g=/\/\*[^]*?\*\//g;function yg(e){const t={};return e.replace(_g,"").split(gg).forEach(n=>{if(n){const s=n.split(mg);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function je(e){let t="";if(Ht(e))t=e;else if(ot(e))for(let n=0;n<e.length;n++){const s=je(e[n]);s&&(t+=s+" ")}else if(Mt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const vg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Eg=Za(vg);function Wh(e){return!!e||e===""}const Qh=e=>!!(e&&e.__v_isRef===!0),Kt=e=>Ht(e)?e:e==null?"":ot(e)||Mt(e)&&(e.toString===Kh||!dt(e.toString))?Qh(e)?Kt(e.value):JSON.stringify(e,Xh,2):String(e),Xh=(e,t)=>Qh(t)?Xh(e,t.value):Rs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],i)=>(n[Ho(s,i)+" =>"]=r,n),{})}:Hh(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ho(n))}:En(t)?Ho(t):Mt(t)&&!ot(t)&&!Gh(t)?String(t):t,Ho=(e,t="")=>{var n;return En(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ie;class wg{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ie,!t&&Ie&&(this.index=(Ie.scopes||(Ie.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ie;try{return Ie=this,t()}finally{Ie=n}}}on(){++this._on===1&&(this.prevScope=Ie,Ie=this)}off(){this._on>0&&--this._on===0&&(Ie=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function bg(){return Ie}let Nt;const zo=new WeakSet;class Yh{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ie&&Ie.active&&Ie.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,zo.has(this)&&(zo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Oc(this),tf(this);const t=Nt,n=qe;Nt=this,qe=!0;try{return this.fn()}finally{ef(this),Nt=t,qe=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)il(t);this.deps=this.depsTail=void 0,Oc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?zo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ga(this)&&this.run()}get dirty(){return ga(this)}}let Jh=0,vr,Er;function Zh(e,t=!1){if(e.flags|=8,t){e.next=Er,Er=e;return}e.next=vr,vr=e}function sl(){Jh++}function rl(){if(--Jh>0)return;if(Er){let t=Er;for(Er=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;vr;){let t=vr;for(vr=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function tf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ef(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),il(s),Tg(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function ga(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(nf(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function nf(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Vr)||(e.globalVersion=Vr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ga(e))))return;e.flags|=2;const t=e.dep,n=Nt,s=qe;Nt=e,qe=!0;try{tf(e);const r=e.fn(e._value);(t.version===0||On(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Nt=n,qe=s,ef(e),e.flags&=-3}}function il(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)il(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Tg(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let qe=!0;const sf=[];function mn(){sf.push(qe),qe=!1}function _n(){const e=sf.pop();qe=e===void 0?!0:e}function Oc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Nt;Nt=void 0;try{t()}finally{Nt=n}}}let Vr=0;class xg{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ol{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Nt||!qe||Nt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Nt)n=this.activeLink=new xg(Nt,this),Nt.deps?(n.prevDep=Nt.depsTail,Nt.depsTail.nextDep=n,Nt.depsTail=n):Nt.deps=Nt.depsTail=n,rf(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Nt.depsTail,n.nextDep=void 0,Nt.depsTail.nextDep=n,Nt.depsTail=n,Nt.deps===n&&(Nt.deps=s)}return n}trigger(t){this.version++,Vr++,this.notify(t)}notify(t){sl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{rl()}}}function rf(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)rf(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ma=new WeakMap,os=Symbol(""),_a=Symbol(""),kr=Symbol("");function pe(e,t,n){if(qe&&Nt){let s=ma.get(e);s||ma.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new ol),r.map=s,r.key=n),r.track()}}function fn(e,t,n,s,r,i){const a=ma.get(e);if(!a){Vr++;return}const l=c=>{c&&c.trigger()};if(sl(),t==="clear")a.forEach(l);else{const c=ot(e),h=c&&nl(n);if(c&&n==="length"){const d=Number(s);a.forEach((p,g)=>{(g==="length"||g===kr||!En(g)&&g>=d)&&l(p)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),h&&l(a.get(kr)),t){case"add":c?h&&l(a.get("length")):(l(a.get(os)),Rs(e)&&l(a.get(_a)));break;case"delete":c||(l(a.get(os)),Rs(e)&&l(a.get(_a)));break;case"set":Rs(e)&&l(a.get(os));break}}rl()}function vs(e){const t=Rt(e);return t===e?t:(pe(t,"iterate",kr),Fe(e)?t:t.map(oe))}function oo(e){return pe(e=Rt(e),"iterate",kr),e}const Ig={__proto__:null,[Symbol.iterator](){return Ko(this,Symbol.iterator,oe)},concat(...e){return vs(this).concat(...e.map(t=>ot(t)?vs(t):t))},entries(){return Ko(this,"entries",e=>(e[1]=oe(e[1]),e))},every(e,t){return on(this,"every",e,t,void 0,arguments)},filter(e,t){return on(this,"filter",e,t,n=>n.map(oe),arguments)},find(e,t){return on(this,"find",e,t,oe,arguments)},findIndex(e,t){return on(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return on(this,"findLast",e,t,oe,arguments)},findLastIndex(e,t){return on(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return on(this,"forEach",e,t,void 0,arguments)},includes(...e){return Go(this,"includes",e)},indexOf(...e){return Go(this,"indexOf",e)},join(e){return vs(this).join(e)},lastIndexOf(...e){return Go(this,"lastIndexOf",e)},map(e,t){return on(this,"map",e,t,void 0,arguments)},pop(){return hr(this,"pop")},push(...e){return hr(this,"push",e)},reduce(e,...t){return Mc(this,"reduce",e,t)},reduceRight(e,...t){return Mc(this,"reduceRight",e,t)},shift(){return hr(this,"shift")},some(e,t){return on(this,"some",e,t,void 0,arguments)},splice(...e){return hr(this,"splice",e)},toReversed(){return vs(this).toReversed()},toSorted(e){return vs(this).toSorted(e)},toSpliced(...e){return vs(this).toSpliced(...e)},unshift(...e){return hr(this,"unshift",e)},values(){return Ko(this,"values",oe)}};function Ko(e,t,n){const s=oo(e),r=s[t]();return s!==e&&!Fe(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const Ag=Array.prototype;function on(e,t,n,s,r,i){const a=oo(e),l=a!==e&&!Fe(e),c=a[t];if(c!==Ag[t]){const p=c.apply(e,i);return l?oe(p):p}let h=n;a!==e&&(l?h=function(p,g){return n.call(this,oe(p),g,e)}:n.length>2&&(h=function(p,g){return n.call(this,p,g,e)}));const d=c.call(a,h,s);return l&&r?r(d):d}function Mc(e,t,n,s){const r=oo(e);let i=n;return r!==e&&(Fe(e)?n.length>3&&(i=function(a,l,c){return n.call(this,a,l,c,e)}):i=function(a,l,c){return n.call(this,a,oe(l),c,e)}),r[t](i,...s)}function Go(e,t,n){const s=Rt(e);pe(s,"iterate",kr);const r=s[t](...n);return(r===-1||r===!1)&&cl(n[0])?(n[0]=Rt(n[0]),s[t](...n)):r}function hr(e,t,n=[]){mn(),sl();const s=Rt(e)[t].apply(e,n);return rl(),_n(),s}const Cg=Za("__proto__,__v_isRef,__isVue"),of=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(En));function Rg(e){En(e)||(e=String(e));const t=Rt(this);return pe(t,"has",e),t.hasOwnProperty(e)}class af{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?Fg:hf:i?uf:cf).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const a=ot(t);if(!r){let c;if(a&&(c=Ig[n]))return c;if(n==="hasOwnProperty")return Rg}const l=Reflect.get(t,n,_e(t)?t:s);return(En(n)?of.has(n):Cg(n))||(r||pe(t,"get",n),i)?l:_e(l)?a&&nl(n)?l:l.value:Mt(l)?r?df(l):cs(l):l}}class lf extends af{constructor(t=!1){super(!1,t)}set(t,n,s,r){let i=t[n];if(!this._isShallow){const c=Bn(i);if(!Fe(s)&&!Bn(s)&&(i=Rt(i),s=Rt(s)),!ot(t)&&_e(i)&&!_e(s))return c?!1:(i.value=s,!0)}const a=ot(t)&&nl(n)?Number(n)<t.length:Pt(t,n),l=Reflect.set(t,n,s,_e(t)?t:r);return t===Rt(r)&&(a?On(s,i)&&fn(t,"set",n,s):fn(t,"add",n,s)),l}deleteProperty(t,n){const s=Pt(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&fn(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!En(n)||!of.has(n))&&pe(t,"has",n),s}ownKeys(t){return pe(t,"iterate",ot(t)?"length":os),Reflect.ownKeys(t)}}class Sg extends af{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Pg=new lf,Vg=new Sg,kg=new lf(!0);const ya=e=>e,mi=e=>Reflect.getPrototypeOf(e);function Dg(e,t,n){return function(...s){const r=this.__v_raw,i=Rt(r),a=Rs(i),l=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,h=r[e](...s),d=n?ya:t?Li:oe;return!t&&pe(i,"iterate",c?_a:os),{next(){const{value:p,done:g}=h.next();return g?{value:p,done:g}:{value:l?[d(p[0]),d(p[1])]:d(p),done:g}},[Symbol.iterator](){return this}}}}function _i(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ng(e,t){const n={get(r){const i=this.__v_raw,a=Rt(i),l=Rt(r);e||(On(r,l)&&pe(a,"get",r),pe(a,"get",l));const{has:c}=mi(a),h=t?ya:e?Li:oe;if(c.call(a,r))return h(i.get(r));if(c.call(a,l))return h(i.get(l));i!==a&&i.get(r)},get size(){const r=this.__v_raw;return!e&&pe(Rt(r),"iterate",os),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,a=Rt(i),l=Rt(r);return e||(On(r,l)&&pe(a,"has",r),pe(a,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const a=this,l=a.__v_raw,c=Rt(l),h=t?ya:e?Li:oe;return!e&&pe(c,"iterate",os),l.forEach((d,p)=>r.call(i,h(d),h(p),a))}};return te(n,e?{add:_i("add"),set:_i("set"),delete:_i("delete"),clear:_i("clear")}:{add(r){!t&&!Fe(r)&&!Bn(r)&&(r=Rt(r));const i=Rt(this);return mi(i).has.call(i,r)||(i.add(r),fn(i,"add",r,r)),this},set(r,i){!t&&!Fe(i)&&!Bn(i)&&(i=Rt(i));const a=Rt(this),{has:l,get:c}=mi(a);let h=l.call(a,r);h||(r=Rt(r),h=l.call(a,r));const d=c.call(a,r);return a.set(r,i),h?On(i,d)&&fn(a,"set",r,i):fn(a,"add",r,i),this},delete(r){const i=Rt(this),{has:a,get:l}=mi(i);let c=a.call(i,r);c||(r=Rt(r),c=a.call(i,r)),l&&l.call(i,r);const h=i.delete(r);return c&&fn(i,"delete",r,void 0),h},clear(){const r=Rt(this),i=r.size!==0,a=r.clear();return i&&fn(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Dg(r,e,t)}),n}function al(e,t){const n=Ng(e,t);return(s,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(Pt(n,r)&&r in s?n:s,r,i)}const Og={get:al(!1,!1)},Mg={get:al(!1,!0)},Lg={get:al(!0,!1)};const cf=new WeakMap,uf=new WeakMap,hf=new WeakMap,Fg=new WeakMap;function $g(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bg(e){return e.__v_skip||!Object.isExtensible(e)?0:$g(hg(e))}function cs(e){return Bn(e)?e:ll(e,!1,Pg,Og,cf)}function ff(e){return ll(e,!1,kg,Mg,uf)}function df(e){return ll(e,!0,Vg,Lg,hf)}function ll(e,t,n,s,r){if(!Mt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Bg(e);if(i===0)return e;const a=r.get(e);if(a)return a;const l=new Proxy(e,i===2?s:n);return r.set(e,l),l}function Ss(e){return Bn(e)?Ss(e.__v_raw):!!(e&&e.__v_isReactive)}function Bn(e){return!!(e&&e.__v_isReadonly)}function Fe(e){return!!(e&&e.__v_isShallow)}function cl(e){return e?!!e.__v_raw:!1}function Rt(e){const t=e&&e.__v_raw;return t?Rt(t):e}function Ug(e){return!Pt(e,"__v_skip")&&Object.isExtensible(e)&&da(e,"__v_skip",!0),e}const oe=e=>Mt(e)?cs(e):e,Li=e=>Mt(e)?df(e):e;function _e(e){return e?e.__v_isRef===!0:!1}function Te(e){return pf(e,!1)}function jg(e){return pf(e,!0)}function pf(e,t){return _e(e)?e:new qg(e,t)}class qg{constructor(t,n){this.dep=new ol,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Rt(t),this._value=n?t:oe(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Fe(t)||Bn(t);t=s?t:Rt(t),On(t,n)&&(this._rawValue=t,this._value=s?t:oe(t),this.dep.trigger())}}function Ps(e){return _e(e)?e.value:e}const Hg={get:(e,t,n)=>t==="__v_raw"?e:Ps(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return _e(r)&&!_e(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function gf(e){return Ss(e)?e:new Proxy(e,Hg)}class zg{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ol(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Nt!==this)return Zh(this,!0),!0}get value(){const t=this.dep.track();return nf(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Kg(e,t,n=!1){let s,r;return dt(e)?s=e:(s=e.get,r=e.set),new zg(s,r,n)}const yi={},Fi=new WeakMap;let ns;function Gg(e,t=!1,n=ns){if(n){let s=Fi.get(n);s||Fi.set(n,s=[]),s.push(e)}}function Wg(e,t,n=Dt){const{immediate:s,deep:r,once:i,scheduler:a,augmentJob:l,call:c}=n,h=q=>r?q:Fe(q)||r===!1||r===0?dn(q,1):dn(q);let d,p,g,w,C=!1,R=!1;if(_e(e)?(p=()=>e.value,C=Fe(e)):Ss(e)?(p=()=>h(e),C=!0):ot(e)?(R=!0,C=e.some(q=>Ss(q)||Fe(q)),p=()=>e.map(q=>{if(_e(q))return q.value;if(Ss(q))return h(q);if(dt(q))return c?c(q,2):q()})):dt(e)?t?p=c?()=>c(e,2):e:p=()=>{if(g){mn();try{g()}finally{_n()}}const q=ns;ns=d;try{return c?c(e,3,[w]):e(w)}finally{ns=q}}:p=Je,t&&r){const q=p,ht=r===!0?1/0:r;p=()=>dn(q(),ht)}const D=bg(),K=()=>{d.stop(),D&&D.active&&el(D.effects,d)};if(i&&t){const q=t;t=(...ht)=>{q(...ht),K()}}let B=R?new Array(e.length).fill(yi):yi;const U=q=>{if(!(!(d.flags&1)||!d.dirty&&!q))if(t){const ht=d.run();if(r||C||(R?ht.some((ut,A)=>On(ut,B[A])):On(ht,B))){g&&g();const ut=ns;ns=d;try{const A=[ht,B===yi?void 0:R&&B[0]===yi?[]:B,w];B=ht,c?c(t,3,A):t(...A)}finally{ns=ut}}}else d.run()};return l&&l(U),d=new Yh(p),d.scheduler=a?()=>a(U,!1):U,w=q=>Gg(q,!1,d),g=d.onStop=()=>{const q=Fi.get(d);if(q){if(c)c(q,4);else for(const ht of q)ht();Fi.delete(d)}},t?s?U(!0):B=d.run():a?a(U.bind(null,!0),!0):d.run(),K.pause=d.pause.bind(d),K.resume=d.resume.bind(d),K.stop=K,K}function dn(e,t=1/0,n){if(t<=0||!Mt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,_e(e))dn(e.value,t,n);else if(ot(e))for(let s=0;s<e.length;s++)dn(e[s],t,n);else if(Hh(e)||Rs(e))e.forEach(s=>{dn(s,t,n)});else if(Gh(e)){for(const s in e)dn(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&dn(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wr(e,t,n,s){try{return s?e(...s):e()}catch(r){ao(r,t,n)}}function He(e,t,n,s){if(dt(e)){const r=Wr(e,t,n,s);return r&&zh(r)&&r.catch(i=>{ao(i,t,n)}),r}if(ot(e)){const r=[];for(let i=0;i<e.length;i++)r.push(He(e[i],t,n,s));return r}}function ao(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Dt;if(t){let l=t.parent;const c=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,c,h)===!1)return}l=l.parent}if(i){mn(),Wr(i,null,10,[e,c,h]),_n();return}}Qg(e,n,r,s,a)}function Qg(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const we=[];let We=-1;const Vs=[];let Sn=null,Es=0;const mf=Promise.resolve();let $i=null;function _f(e){const t=$i||mf;return e?t.then(this?e.bind(this):e):t}function Xg(e){let t=We+1,n=we.length;for(;t<n;){const s=t+n>>>1,r=we[s],i=Dr(r);i<e||i===e&&r.flags&2?t=s+1:n=s}return t}function ul(e){if(!(e.flags&1)){const t=Dr(e),n=we[we.length-1];!n||!(e.flags&2)&&t>=Dr(n)?we.push(e):we.splice(Xg(t),0,e),e.flags|=1,yf()}}function yf(){$i||($i=mf.then(Ef))}function Yg(e){ot(e)?Vs.push(...e):Sn&&e.id===-1?Sn.splice(Es+1,0,e):e.flags&1||(Vs.push(e),e.flags|=1),yf()}function Lc(e,t,n=We+1){for(;n<we.length;n++){const s=we[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;we.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function vf(e){if(Vs.length){const t=[...new Set(Vs)].sort((n,s)=>Dr(n)-Dr(s));if(Vs.length=0,Sn){Sn.push(...t);return}for(Sn=t,Es=0;Es<Sn.length;Es++){const n=Sn[Es];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Sn=null,Es=0}}const Dr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ef(e){try{for(We=0;We<we.length;We++){const t=we[We];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Wr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;We<we.length;We++){const t=we[We];t&&(t.flags&=-2)}We=-1,we.length=0,vf(),$i=null,(we.length||Vs.length)&&Ef()}}let Zt=null,wf=null;function Bi(e){const t=Zt;return Zt=e,wf=e&&e.type.__scopeId||null,t}function yt(e,t=Zt,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&Qc(-1);const i=Bi(t);let a;try{a=e(...r)}finally{Bi(i),s._d&&Qc(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function un(e,t){if(Zt===null)return e;const n=po(Zt),s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,a,l,c=Dt]=t[r];i&&(dt(i)&&(i={mounted:i,updated:i}),i.deep&&dn(a),s.push({dir:i,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Jn(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let a=0;a<r.length;a++){const l=r[a];i&&(l.oldValue=i[a].value);let c=l.dir[s];c&&(mn(),He(c,n,8,[e.el,l,e,t]),_n())}}const Jg=Symbol("_vte"),bf=e=>e.__isTeleport,Pn=Symbol("_leaveCb"),vi=Symbol("_enterCb");function Zg(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return uo(()=>{e.isMounted=!0}),Vf(()=>{e.isUnmounting=!0}),e}const Le=[Function,Array],Tf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Le,onEnter:Le,onAfterEnter:Le,onEnterCancelled:Le,onBeforeLeave:Le,onLeave:Le,onAfterLeave:Le,onLeaveCancelled:Le,onBeforeAppear:Le,onAppear:Le,onAfterAppear:Le,onAppearCancelled:Le},xf=e=>{const t=e.subTree;return t.component?xf(t.component):t},tm={name:"BaseTransition",props:Tf,setup(e,{slots:t}){const n=Wm(),s=Zg();return()=>{const r=t.default&&Cf(t.default(),!0);if(!r||!r.length)return;const i=If(r),a=Rt(e),{mode:l}=a;if(s.isLeaving)return Wo(i);const c=Fc(i);if(!c)return Wo(i);let h=va(c,a,s,n,p=>h=p);c.type!==me&&Nr(c,h);let d=n.subTree&&Fc(n.subTree);if(d&&d.type!==me&&!rs(c,d)&&xf(n).type!==me){let p=va(d,a,s,n);if(Nr(d,p),l==="out-in"&&c.type!==me)return s.isLeaving=!0,p.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave,d=void 0},Wo(i);l==="in-out"&&c.type!==me?p.delayLeave=(g,w,C)=>{const R=Af(s,d);R[String(d.key)]=d,g[Pn]=()=>{w(),g[Pn]=void 0,delete h.delayedLeave,d=void 0},h.delayedLeave=()=>{C(),delete h.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return i}}};function If(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==me){t=n;break}}return t}const em=tm;function Af(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function va(e,t,n,s,r){const{appear:i,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:h,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:g,onLeave:w,onAfterLeave:C,onLeaveCancelled:R,onBeforeAppear:D,onAppear:K,onAfterAppear:B,onAppearCancelled:U}=t,q=String(e.key),ht=Af(n,e),ut=(_,x)=>{_&&He(_,s,9,x)},A=(_,x)=>{const I=x[1];ut(_,x),ot(_)?_.every(T=>T.length<=1)&&I():_.length<=1&&I()},v={mode:a,persisted:l,beforeEnter(_){let x=c;if(!n.isMounted)if(i)x=D||c;else return;_[Pn]&&_[Pn](!0);const I=ht[q];I&&rs(e,I)&&I.el[Pn]&&I.el[Pn](),ut(x,[_])},enter(_){let x=h,I=d,T=p;if(!n.isMounted)if(i)x=K||h,I=B||d,T=U||p;else return;let E=!1;const Vt=_[vi]=Qt=>{E||(E=!0,Qt?ut(T,[_]):ut(I,[_]),v.delayedLeave&&v.delayedLeave(),_[vi]=void 0)};x?A(x,[_,Vt]):Vt()},leave(_,x){const I=String(e.key);if(_[vi]&&_[vi](!0),n.isUnmounting)return x();ut(g,[_]);let T=!1;const E=_[Pn]=Vt=>{T||(T=!0,x(),Vt?ut(R,[_]):ut(C,[_]),_[Pn]=void 0,ht[I]===e&&delete ht[I])};ht[I]=e,w?A(w,[_,E]):E()},clone(_){const x=va(_,t,n,s,r);return r&&r(x),x}};return v}function Wo(e){if(lo(e))return e=Un(e),e.children=null,e}function Fc(e){if(!lo(e))return bf(e.type)&&e.children?If(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&dt(n.default))return n.default()}}function Nr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Nr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Cf(e,t=!1,n){let s=[],r=0;for(let i=0;i<e.length;i++){let a=e[i];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===jt?(a.patchFlag&128&&r++,s=s.concat(Cf(a.children,t,l))):(t||a.type!==me)&&s.push(l!=null?Un(a,{key:l}):a)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Rf(e,t){return dt(e)?te({name:e.name},t,{setup:e}):e}function Sf(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function wr(e,t,n,s,r=!1){if(ot(e)){e.forEach((C,R)=>wr(C,t&&(ot(t)?t[R]:t),n,s,r));return}if(ks(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&wr(e,t,n,s.component.subTree);return}const i=s.shapeFlag&4?po(s.component):s.el,a=r?null:i,{i:l,r:c}=e,h=t&&t.r,d=l.refs===Dt?l.refs={}:l.refs,p=l.setupState,g=Rt(p),w=p===Dt?()=>!1:C=>Pt(g,C);if(h!=null&&h!==c&&(Ht(h)?(d[h]=null,w(h)&&(p[h]=null)):_e(h)&&(h.value=null)),dt(c))Wr(c,l,12,[a,d]);else{const C=Ht(c),R=_e(c);if(C||R){const D=()=>{if(e.f){const K=C?w(c)?p[c]:d[c]:c.value;r?ot(K)&&el(K,i):ot(K)?K.includes(i)||K.push(i):C?(d[c]=[i],w(c)&&(p[c]=d[c])):(c.value=[i],e.k&&(d[e.k]=c.value))}else C?(d[c]=a,w(c)&&(p[c]=a)):R&&(c.value=a,e.k&&(d[e.k]=a))};a?(D.id=-1,ke(D,n)):D()}}}io().requestIdleCallback;io().cancelIdleCallback;const ks=e=>!!e.type.__asyncLoader,lo=e=>e.type.__isKeepAlive;function nm(e,t){Pf(e,"a",t)}function sm(e,t){Pf(e,"da",t)}function Pf(e,t,n=ae){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(co(t,s,n),n){let r=n.parent;for(;r&&r.parent;)lo(r.parent.vnode)&&rm(s,t,n,r),r=r.parent}}function rm(e,t,n,s){const r=co(t,e,s,!0);kf(()=>{el(s[t],r)},n)}function co(e,t,n=ae,s=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{mn();const l=Qr(n),c=He(t,n,e,a);return l(),_n(),c});return s?r.unshift(i):r.push(i),i}}const wn=e=>(t,n=ae)=>{(!Lr||e==="sp")&&co(e,(...s)=>t(...s),n)},im=wn("bm"),uo=wn("m"),om=wn("bu"),am=wn("u"),Vf=wn("bum"),kf=wn("um"),lm=wn("sp"),cm=wn("rtg"),um=wn("rtc");function hm(e,t=ae){co("ec",e,t)}const Df="components";function $c(e,t){return Of(Df,e,!0,t)||e}const Nf=Symbol.for("v-ndc");function fm(e){return Ht(e)?Of(Df,e,!1)||e:e||Nf}function Of(e,t,n=!0,s=!1){const r=Zt||ae;if(r){const i=r.type;{const l=Zm(i,!1);if(l&&(l===t||l===$e(t)||l===ro($e(t))))return i}const a=Bc(r[e]||i[e],t)||Bc(r.appContext[e],t);return!a&&s?i:a}}function Bc(e,t){return e&&(e[t]||e[$e(t)]||e[ro($e(t))])}function gn(e,t,n,s){let r;const i=n,a=ot(e);if(a||Ht(e)){const l=a&&Ss(e);let c=!1,h=!1;l&&(c=!Fe(e),h=Bn(e),e=oo(e)),r=new Array(e.length);for(let d=0,p=e.length;d<p;d++)r[d]=t(c?h?Li(oe(e[d])):oe(e[d]):e[d],d,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,i)}else if(Mt(e))if(e[Symbol.iterator])r=Array.from(e,(l,c)=>t(l,c,void 0,i));else{const l=Object.keys(e);r=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const d=l[c];r[c]=t(e[d],d,c,i)}}else r=[];return r}function Mf(e,t,n={},s,r){if(Zt.ce||Zt.parent&&ks(Zt.parent)&&Zt.parent.ce)return nt(),us(jt,null,[rt("slot",n,s)],64);let i=e[t];i&&i._c&&(i._d=!1),nt();const a=i&&Lf(i(n)),l=n.key||a&&a.key,c=us(jt,{key:(l&&!En(l)?l:`_${t}`)+""},a||[],a&&e._===1?64:-2);return i&&i._c&&(i._d=!0),c}function Lf(e){return e.some(t=>Mr(t)?!(t.type===me||t.type===jt&&!Lf(t.children)):!0)?e:null}const Ea=e=>e?sd(e)?po(e):Ea(e.parent):null,br=te(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ea(e.parent),$root:e=>Ea(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>$f(e),$forceUpdate:e=>e.f||(e.f=()=>{ul(e.update)}),$nextTick:e=>e.n||(e.n=_f.bind(e.proxy)),$watch:e=>Dm.bind(e)}),Qo=(e,t)=>e!==Dt&&!e.__isScriptSetup&&Pt(e,t),dm={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:a,type:l,appContext:c}=e;let h;if(t[0]!=="$"){const w=a[t];if(w!==void 0)switch(w){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(Qo(s,t))return a[t]=1,s[t];if(r!==Dt&&Pt(r,t))return a[t]=2,r[t];if((h=e.propsOptions[0])&&Pt(h,t))return a[t]=3,i[t];if(n!==Dt&&Pt(n,t))return a[t]=4,n[t];wa&&(a[t]=0)}}const d=br[t];let p,g;if(d)return t==="$attrs"&&pe(e.attrs,"get",""),d(e);if((p=l.__cssModules)&&(p=p[t]))return p;if(n!==Dt&&Pt(n,t))return a[t]=4,n[t];if(g=c.config.globalProperties,Pt(g,t))return g[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:i}=e;return Qo(r,t)?(r[t]=n,!0):s!==Dt&&Pt(s,t)?(s[t]=n,!0):Pt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:i}},a){let l;return!!n[a]||e!==Dt&&Pt(e,a)||Qo(t,a)||(l=i[0])&&Pt(l,a)||Pt(s,a)||Pt(br,a)||Pt(r.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Pt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Uc(e){return ot(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let wa=!0;function pm(e){const t=$f(e),n=e.proxy,s=e.ctx;wa=!1,t.beforeCreate&&jc(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:a,watch:l,provide:c,inject:h,created:d,beforeMount:p,mounted:g,beforeUpdate:w,updated:C,activated:R,deactivated:D,beforeDestroy:K,beforeUnmount:B,destroyed:U,unmounted:q,render:ht,renderTracked:ut,renderTriggered:A,errorCaptured:v,serverPrefetch:_,expose:x,inheritAttrs:I,components:T,directives:E,filters:Vt}=t;if(h&&gm(h,s,null),a)for(const Et in a){const vt=a[Et];dt(vt)&&(s[Et]=vt.bind(n))}if(r){const Et=r.call(n,n);Mt(Et)&&(e.data=cs(Et))}if(wa=!0,i)for(const Et in i){const vt=i[Et],Pe=dt(vt)?vt.bind(n,n):dt(vt.get)?vt.get.bind(n,n):Je,Be=!dt(vt)&&dt(vt.set)?vt.set.bind(n):Je,Ne=Ce({get:Pe,set:Be});Object.defineProperty(s,Et,{enumerable:!0,configurable:!0,get:()=>Ne.value,set:Ft=>Ne.value=Ft})}if(l)for(const Et in l)Ff(l[Et],s,n,Et);if(c){const Et=dt(c)?c.call(n):c;Reflect.ownKeys(Et).forEach(vt=>{Ci(vt,Et[vt])})}d&&jc(d,e,"c");function Lt(Et,vt){ot(vt)?vt.forEach(Pe=>Et(Pe.bind(n))):vt&&Et(vt.bind(n))}if(Lt(im,p),Lt(uo,g),Lt(om,w),Lt(am,C),Lt(nm,R),Lt(sm,D),Lt(hm,v),Lt(um,ut),Lt(cm,A),Lt(Vf,B),Lt(kf,q),Lt(lm,_),ot(x))if(x.length){const Et=e.exposed||(e.exposed={});x.forEach(vt=>{Object.defineProperty(Et,vt,{get:()=>n[vt],set:Pe=>n[vt]=Pe})})}else e.exposed||(e.exposed={});ht&&e.render===Je&&(e.render=ht),I!=null&&(e.inheritAttrs=I),T&&(e.components=T),E&&(e.directives=E),_&&Sf(e)}function gm(e,t,n=Je){ot(e)&&(e=ba(e));for(const s in e){const r=e[s];let i;Mt(r)?"default"in r?i=Ze(r.from||s,r.default,!0):i=Ze(r.from||s):i=Ze(r),_e(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[s]=i}}function jc(e,t,n){He(ot(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ff(e,t,n,s){let r=s.includes(".")?Jf(n,s):()=>n[s];if(Ht(e)){const i=t[e];dt(i)&&Ri(r,i)}else if(dt(e))Ri(r,e.bind(n));else if(Mt(e))if(ot(e))e.forEach(i=>Ff(i,t,n,s));else{const i=dt(e.handler)?e.handler.bind(n):t[e.handler];dt(i)&&Ri(r,i,e)}}function $f(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,l=i.get(t);let c;return l?c=l:!r.length&&!n&&!s?c=t:(c={},r.length&&r.forEach(h=>Ui(c,h,a,!0)),Ui(c,t,a)),Mt(t)&&i.set(t,c),c}function Ui(e,t,n,s=!1){const{mixins:r,extends:i}=t;i&&Ui(e,i,n,!0),r&&r.forEach(a=>Ui(e,a,n,!0));for(const a in t)if(!(s&&a==="expose")){const l=mm[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const mm={data:qc,props:Hc,emits:Hc,methods:pr,computed:pr,beforeCreate:Ee,created:Ee,beforeMount:Ee,mounted:Ee,beforeUpdate:Ee,updated:Ee,beforeDestroy:Ee,beforeUnmount:Ee,destroyed:Ee,unmounted:Ee,activated:Ee,deactivated:Ee,errorCaptured:Ee,serverPrefetch:Ee,components:pr,directives:pr,watch:ym,provide:qc,inject:_m};function qc(e,t){return t?e?function(){return te(dt(e)?e.call(this,this):e,dt(t)?t.call(this,this):t)}:t:e}function _m(e,t){return pr(ba(e),ba(t))}function ba(e){if(ot(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ee(e,t){return e?[...new Set([].concat(e,t))]:t}function pr(e,t){return e?te(Object.create(null),e,t):t}function Hc(e,t){return e?ot(e)&&ot(t)?[...new Set([...e,...t])]:te(Object.create(null),Uc(e),Uc(t??{})):t}function ym(e,t){if(!e)return t;if(!t)return e;const n=te(Object.create(null),e);for(const s in t)n[s]=Ee(e[s],t[s]);return n}function Bf(){return{app:null,config:{isNativeTag:cg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vm=0;function Em(e,t){return function(s,r=null){dt(s)||(s=te({},s)),r!=null&&!Mt(r)&&(r=null);const i=Bf(),a=new WeakSet,l=[];let c=!1;const h=i.app={_uid:vm++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:e_,get config(){return i.config},set config(d){},use(d,...p){return a.has(d)||(d&&dt(d.install)?(a.add(d),d.install(h,...p)):dt(d)&&(a.add(d),d(h,...p))),h},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),h},component(d,p){return p?(i.components[d]=p,h):i.components[d]},directive(d,p){return p?(i.directives[d]=p,h):i.directives[d]},mount(d,p,g){if(!c){const w=h._ceVNode||rt(s,r);return w.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),e(w,d,g),c=!0,h._container=d,d.__vue_app__=h,po(w.component)}},onUnmount(d){l.push(d)},unmount(){c&&(He(l,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(d,p){return i.provides[d]=p,h},runWithContext(d){const p=Ds;Ds=h;try{return d()}finally{Ds=p}}};return h}}let Ds=null;function Ci(e,t){if(ae){let n=ae.provides;const s=ae.parent&&ae.parent.provides;s===n&&(n=ae.provides=Object.create(s)),n[e]=t}}function Ze(e,t,n=!1){const s=ae||Zt;if(s||Ds){let r=Ds?Ds._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&dt(t)?t.call(s&&s.proxy):t}}const Uf={},jf=()=>Object.create(Uf),qf=e=>Object.getPrototypeOf(e)===Uf;function wm(e,t,n,s=!1){const r={},i=jf();e.propsDefaults=Object.create(null),Hf(e,t,r,i);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);n?e.props=s?r:ff(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function bm(e,t,n,s){const{props:r,attrs:i,vnode:{patchFlag:a}}=e,l=Rt(r),[c]=e.propsOptions;let h=!1;if((s||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let p=0;p<d.length;p++){let g=d[p];if(ho(e.emitsOptions,g))continue;const w=t[g];if(c)if(Pt(i,g))w!==i[g]&&(i[g]=w,h=!0);else{const C=$e(g);r[C]=Ta(c,l,C,w,e,!1)}else w!==i[g]&&(i[g]=w,h=!0)}}}else{Hf(e,t,r,i)&&(h=!0);let d;for(const p in l)(!t||!Pt(t,p)&&((d=fs(p))===p||!Pt(t,d)))&&(c?n&&(n[p]!==void 0||n[d]!==void 0)&&(r[p]=Ta(c,l,p,void 0,e,!0)):delete r[p]);if(i!==l)for(const p in i)(!t||!Pt(t,p))&&(delete i[p],h=!0)}h&&fn(e.attrs,"set","")}function Hf(e,t,n,s){const[r,i]=e.propsOptions;let a=!1,l;if(t)for(let c in t){if(yr(c))continue;const h=t[c];let d;r&&Pt(r,d=$e(c))?!i||!i.includes(d)?n[d]=h:(l||(l={}))[d]=h:ho(e.emitsOptions,c)||(!(c in s)||h!==s[c])&&(s[c]=h,a=!0)}if(i){const c=Rt(n),h=l||Dt;for(let d=0;d<i.length;d++){const p=i[d];n[p]=Ta(r,c,p,h[p],e,!Pt(h,p))}}return a}function Ta(e,t,n,s,r,i){const a=e[n];if(a!=null){const l=Pt(a,"default");if(l&&s===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&dt(c)){const{propsDefaults:h}=r;if(n in h)s=h[n];else{const d=Qr(r);s=h[n]=c.call(null,t),d()}}else s=c;r.ce&&r.ce._setProp(n,s)}a[0]&&(i&&!l?s=!1:a[1]&&(s===""||s===fs(n))&&(s=!0))}return s}const Tm=new WeakMap;function zf(e,t,n=!1){const s=n?Tm:t.propsCache,r=s.get(e);if(r)return r;const i=e.props,a={},l=[];let c=!1;if(!dt(e)){const d=p=>{c=!0;const[g,w]=zf(p,t,!0);te(a,g),w&&l.push(...w)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!c)return Mt(e)&&s.set(e,Cs),Cs;if(ot(i))for(let d=0;d<i.length;d++){const p=$e(i[d]);zc(p)&&(a[p]=Dt)}else if(i)for(const d in i){const p=$e(d);if(zc(p)){const g=i[d],w=a[p]=ot(g)||dt(g)?{type:g}:te({},g),C=w.type;let R=!1,D=!0;if(ot(C))for(let K=0;K<C.length;++K){const B=C[K],U=dt(B)&&B.name;if(U==="Boolean"){R=!0;break}else U==="String"&&(D=!1)}else R=dt(C)&&C.name==="Boolean";w[0]=R,w[1]=D,(R||Pt(w,"default"))&&l.push(p)}}const h=[a,l];return Mt(e)&&s.set(e,h),h}function zc(e){return e[0]!=="$"&&!yr(e)}const hl=e=>e[0]==="_"||e==="$stable",fl=e=>ot(e)?e.map(Xe):[Xe(e)],xm=(e,t,n)=>{if(t._n)return t;const s=yt((...r)=>fl(t(...r)),n);return s._c=!1,s},Kf=(e,t,n)=>{const s=e._ctx;for(const r in e){if(hl(r))continue;const i=e[r];if(dt(i))t[r]=xm(r,i,s);else if(i!=null){const a=fl(i);t[r]=()=>a}}},Gf=(e,t)=>{const n=fl(t);e.slots.default=()=>n},Wf=(e,t,n)=>{for(const s in t)(n||!hl(s))&&(e[s]=t[s])},Im=(e,t,n)=>{const s=e.slots=jf();if(e.vnode.shapeFlag&32){const r=t.__;r&&da(s,"__",r,!0);const i=t._;i?(Wf(s,t,n),n&&da(s,"_",i,!0)):Kf(t,s)}else t&&Gf(e,t)},Am=(e,t,n)=>{const{vnode:s,slots:r}=e;let i=!0,a=Dt;if(s.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:Wf(r,t,n):(i=!t.$stable,Kf(t,r)),a=t}else t&&(Gf(e,t),a={default:1});if(i)for(const l in r)!hl(l)&&a[l]==null&&delete r[l]},ke=Bm;function Cm(e){return Rm(e)}function Rm(e,t){const n=io();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:a,createText:l,createComment:c,setText:h,setElementText:d,parentNode:p,nextSibling:g,setScopeId:w=Je,insertStaticContent:C}=e,R=(y,b,P,O=null,F=null,M=null,Q=void 0,H=null,j=!!b.dynamicChildren)=>{if(y===b)return;y&&!rs(y,b)&&(O=N(y),Ft(y,F,M,!0),y=null),b.patchFlag===-2&&(j=!1,b.dynamicChildren=null);const{type:$,ref:et,shapeFlag:G}=b;switch($){case fo:D(y,b,P,O);break;case me:K(y,b,P,O);break;case Si:y==null&&B(b,P,O,Q);break;case jt:T(y,b,P,O,F,M,Q,H,j);break;default:G&1?ht(y,b,P,O,F,M,Q,H,j):G&6?E(y,b,P,O,F,M,Q,H,j):(G&64||G&128)&&$.process(y,b,P,O,F,M,Q,H,j,Z)}et!=null&&F?wr(et,y&&y.ref,M,b||y,!b):et==null&&y&&y.ref!=null&&wr(y.ref,null,M,y,!0)},D=(y,b,P,O)=>{if(y==null)s(b.el=l(b.children),P,O);else{const F=b.el=y.el;b.children!==y.children&&h(F,b.children)}},K=(y,b,P,O)=>{y==null?s(b.el=c(b.children||""),P,O):b.el=y.el},B=(y,b,P,O)=>{[y.el,y.anchor]=C(y.children,b,P,O,y.el,y.anchor)},U=({el:y,anchor:b},P,O)=>{let F;for(;y&&y!==b;)F=g(y),s(y,P,O),y=F;s(b,P,O)},q=({el:y,anchor:b})=>{let P;for(;y&&y!==b;)P=g(y),r(y),y=P;r(b)},ht=(y,b,P,O,F,M,Q,H,j)=>{b.type==="svg"?Q="svg":b.type==="math"&&(Q="mathml"),y==null?ut(b,P,O,F,M,Q,H,j):_(y,b,F,M,Q,H,j)},ut=(y,b,P,O,F,M,Q,H)=>{let j,$;const{props:et,shapeFlag:G,transition:tt,dirs:at}=y;if(j=y.el=a(y.type,M,et&&et.is,et),G&8?d(j,y.children):G&16&&v(y.children,j,null,O,F,Xo(y,M),Q,H),at&&Jn(y,null,O,"created"),A(j,y,y.scopeId,Q,O),et){for(const gt in et)gt!=="value"&&!yr(gt)&&i(j,gt,null,et[gt],M,O);"value"in et&&i(j,"value",null,et.value,M),($=et.onVnodeBeforeMount)&&Ge($,O,y)}at&&Jn(y,null,O,"beforeMount");const st=Sm(F,tt);st&&tt.beforeEnter(j),s(j,b,P),(($=et&&et.onVnodeMounted)||st||at)&&ke(()=>{$&&Ge($,O,y),st&&tt.enter(j),at&&Jn(y,null,O,"mounted")},F)},A=(y,b,P,O,F)=>{if(P&&w(y,P),O)for(let M=0;M<O.length;M++)w(y,O[M]);if(F){let M=F.subTree;if(b===M||td(M.type)&&(M.ssContent===b||M.ssFallback===b)){const Q=F.vnode;A(y,Q,Q.scopeId,Q.slotScopeIds,F.parent)}}},v=(y,b,P,O,F,M,Q,H,j=0)=>{for(let $=j;$<y.length;$++){const et=y[$]=H?Vn(y[$]):Xe(y[$]);R(null,et,b,P,O,F,M,Q,H)}},_=(y,b,P,O,F,M,Q)=>{const H=b.el=y.el;let{patchFlag:j,dynamicChildren:$,dirs:et}=b;j|=y.patchFlag&16;const G=y.props||Dt,tt=b.props||Dt;let at;if(P&&Zn(P,!1),(at=tt.onVnodeBeforeUpdate)&&Ge(at,P,b,y),et&&Jn(b,y,P,"beforeUpdate"),P&&Zn(P,!0),(G.innerHTML&&tt.innerHTML==null||G.textContent&&tt.textContent==null)&&d(H,""),$?x(y.dynamicChildren,$,H,P,O,Xo(b,F),M):Q||vt(y,b,H,null,P,O,Xo(b,F),M,!1),j>0){if(j&16)I(H,G,tt,P,F);else if(j&2&&G.class!==tt.class&&i(H,"class",null,tt.class,F),j&4&&i(H,"style",G.style,tt.style,F),j&8){const st=b.dynamicProps;for(let gt=0;gt<st.length;gt++){const wt=st[gt],ee=G[wt],ne=tt[wt];(ne!==ee||wt==="value")&&i(H,wt,ee,ne,F,P)}}j&1&&y.children!==b.children&&d(H,b.children)}else!Q&&$==null&&I(H,G,tt,P,F);((at=tt.onVnodeUpdated)||et)&&ke(()=>{at&&Ge(at,P,b,y),et&&Jn(b,y,P,"updated")},O)},x=(y,b,P,O,F,M,Q)=>{for(let H=0;H<b.length;H++){const j=y[H],$=b[H],et=j.el&&(j.type===jt||!rs(j,$)||j.shapeFlag&198)?p(j.el):P;R(j,$,et,null,O,F,M,Q,!0)}},I=(y,b,P,O,F)=>{if(b!==P){if(b!==Dt)for(const M in b)!yr(M)&&!(M in P)&&i(y,M,b[M],null,F,O);for(const M in P){if(yr(M))continue;const Q=P[M],H=b[M];Q!==H&&M!=="value"&&i(y,M,H,Q,F,O)}"value"in P&&i(y,"value",b.value,P.value,F)}},T=(y,b,P,O,F,M,Q,H,j)=>{const $=b.el=y?y.el:l(""),et=b.anchor=y?y.anchor:l("");let{patchFlag:G,dynamicChildren:tt,slotScopeIds:at}=b;at&&(H=H?H.concat(at):at),y==null?(s($,P,O),s(et,P,O),v(b.children||[],P,et,F,M,Q,H,j)):G>0&&G&64&&tt&&y.dynamicChildren?(x(y.dynamicChildren,tt,P,F,M,Q,H),(b.key!=null||F&&b===F.subTree)&&Qf(y,b,!0)):vt(y,b,P,et,F,M,Q,H,j)},E=(y,b,P,O,F,M,Q,H,j)=>{b.slotScopeIds=H,y==null?b.shapeFlag&512?F.ctx.activate(b,P,O,Q,j):Vt(b,P,O,F,M,Q,j):Qt(y,b,j)},Vt=(y,b,P,O,F,M,Q)=>{const H=y.component=Gm(y,O,F);if(lo(y)&&(H.ctx.renderer=Z),Qm(H,!1,Q),H.asyncDep){if(F&&F.registerDep(H,Lt,Q),!y.el){const j=H.subTree=rt(me);K(null,j,b,P)}}else Lt(H,y,b,P,F,M,Q)},Qt=(y,b,P)=>{const O=b.component=y.component;if(Fm(y,b,P))if(O.asyncDep&&!O.asyncResolved){Et(O,b,P);return}else O.next=b,O.update();else b.el=y.el,O.vnode=b},Lt=(y,b,P,O,F,M,Q)=>{const H=()=>{if(y.isMounted){let{next:G,bu:tt,u:at,parent:st,vnode:gt}=y;{const ce=Xf(y);if(ce){G&&(G.el=gt.el,Et(y,G,Q)),ce.asyncDep.then(()=>{y.isUnmounted||H()});return}}let wt=G,ee;Zn(y,!1),G?(G.el=gt.el,Et(y,G,Q)):G=gt,tt&&Ai(tt),(ee=G.props&&G.props.onVnodeBeforeUpdate)&&Ge(ee,st,G,gt),Zn(y,!0);const ne=Gc(y),Oe=y.subTree;y.subTree=ne,R(Oe,ne,p(Oe.el),N(Oe),y,F,M),G.el=ne.el,wt===null&&$m(y,ne.el),at&&ke(at,F),(ee=G.props&&G.props.onVnodeUpdated)&&ke(()=>Ge(ee,st,G,gt),F)}else{let G;const{el:tt,props:at}=b,{bm:st,m:gt,parent:wt,root:ee,type:ne}=y,Oe=ks(b);Zn(y,!1),st&&Ai(st),!Oe&&(G=at&&at.onVnodeBeforeMount)&&Ge(G,wt,b),Zn(y,!0);{ee.ce&&ee.ce._def.shadowRoot!==!1&&ee.ce._injectChildStyle(ne);const ce=y.subTree=Gc(y);R(null,ce,P,O,y,F,M),b.el=ce.el}if(gt&&ke(gt,F),!Oe&&(G=at&&at.onVnodeMounted)){const ce=b;ke(()=>Ge(G,wt,ce),F)}(b.shapeFlag&256||wt&&ks(wt.vnode)&&wt.vnode.shapeFlag&256)&&y.a&&ke(y.a,F),y.isMounted=!0,b=P=O=null}};y.scope.on();const j=y.effect=new Yh(H);y.scope.off();const $=y.update=j.run.bind(j),et=y.job=j.runIfDirty.bind(j);et.i=y,et.id=y.uid,j.scheduler=()=>ul(et),Zn(y,!0),$()},Et=(y,b,P)=>{b.component=y;const O=y.vnode.props;y.vnode=b,y.next=null,bm(y,b.props,O,P),Am(y,b.children,P),mn(),Lc(y),_n()},vt=(y,b,P,O,F,M,Q,H,j=!1)=>{const $=y&&y.children,et=y?y.shapeFlag:0,G=b.children,{patchFlag:tt,shapeFlag:at}=b;if(tt>0){if(tt&128){Be($,G,P,O,F,M,Q,H,j);return}else if(tt&256){Pe($,G,P,O,F,M,Q,H,j);return}}at&8?(et&16&&xe($,F,M),G!==$&&d(P,G)):et&16?at&16?Be($,G,P,O,F,M,Q,H,j):xe($,F,M,!0):(et&8&&d(P,""),at&16&&v(G,P,O,F,M,Q,H,j))},Pe=(y,b,P,O,F,M,Q,H,j)=>{y=y||Cs,b=b||Cs;const $=y.length,et=b.length,G=Math.min($,et);let tt;for(tt=0;tt<G;tt++){const at=b[tt]=j?Vn(b[tt]):Xe(b[tt]);R(y[tt],at,P,null,F,M,Q,H,j)}$>et?xe(y,F,M,!0,!1,G):v(b,P,O,F,M,Q,H,j,G)},Be=(y,b,P,O,F,M,Q,H,j)=>{let $=0;const et=b.length;let G=y.length-1,tt=et-1;for(;$<=G&&$<=tt;){const at=y[$],st=b[$]=j?Vn(b[$]):Xe(b[$]);if(rs(at,st))R(at,st,P,null,F,M,Q,H,j);else break;$++}for(;$<=G&&$<=tt;){const at=y[G],st=b[tt]=j?Vn(b[tt]):Xe(b[tt]);if(rs(at,st))R(at,st,P,null,F,M,Q,H,j);else break;G--,tt--}if($>G){if($<=tt){const at=tt+1,st=at<et?b[at].el:O;for(;$<=tt;)R(null,b[$]=j?Vn(b[$]):Xe(b[$]),P,st,F,M,Q,H,j),$++}}else if($>tt)for(;$<=G;)Ft(y[$],F,M,!0),$++;else{const at=$,st=$,gt=new Map;for($=st;$<=tt;$++){const se=b[$]=j?Vn(b[$]):Xe(b[$]);se.key!=null&&gt.set(se.key,$)}let wt,ee=0;const ne=tt-st+1;let Oe=!1,ce=0;const Tn=new Array(ne);for($=0;$<ne;$++)Tn[$]=0;for($=at;$<=G;$++){const se=y[$];if(ee>=ne){Ft(se,F,M,!0);continue}let Me;if(se.key!=null)Me=gt.get(se.key);else for(wt=st;wt<=tt;wt++)if(Tn[wt-st]===0&&rs(se,b[wt])){Me=wt;break}Me===void 0?Ft(se,F,M,!0):(Tn[Me-st]=$+1,Me>=ce?ce=Me:Oe=!0,R(se,b[Me],P,null,F,M,Q,H,j),ee++)}const Js=Oe?Pm(Tn):Cs;for(wt=Js.length-1,$=ne-1;$>=0;$--){const se=st+$,Me=b[se],ti=se+1<et?b[se+1].el:O;Tn[$]===0?R(null,Me,P,ti,F,M,Q,H,j):Oe&&(wt<0||$!==Js[wt]?Ne(Me,P,ti,2):wt--)}}},Ne=(y,b,P,O,F=null)=>{const{el:M,type:Q,transition:H,children:j,shapeFlag:$}=y;if($&6){Ne(y.component.subTree,b,P,O);return}if($&128){y.suspense.move(b,P,O);return}if($&64){Q.move(y,b,P,Z);return}if(Q===jt){s(M,b,P);for(let G=0;G<j.length;G++)Ne(j[G],b,P,O);s(y.anchor,b,P);return}if(Q===Si){U(y,b,P);return}if(O!==2&&$&1&&H)if(O===0)H.beforeEnter(M),s(M,b,P),ke(()=>H.enter(M),F);else{const{leave:G,delayLeave:tt,afterLeave:at}=H,st=()=>{y.ctx.isUnmounted?r(M):s(M,b,P)},gt=()=>{G(M,()=>{st(),at&&at()})};tt?tt(M,st,gt):gt()}else s(M,b,P)},Ft=(y,b,P,O=!1,F=!1)=>{const{type:M,props:Q,ref:H,children:j,dynamicChildren:$,shapeFlag:et,patchFlag:G,dirs:tt,cacheIndex:at}=y;if(G===-2&&(F=!1),H!=null&&(mn(),wr(H,null,P,y,!0),_n()),at!=null&&(b.renderCache[at]=void 0),et&256){b.ctx.deactivate(y);return}const st=et&1&&tt,gt=!ks(y);let wt;if(gt&&(wt=Q&&Q.onVnodeBeforeUnmount)&&Ge(wt,b,y),et&6)Ke(y.component,P,O);else{if(et&128){y.suspense.unmount(P,O);return}st&&Jn(y,null,b,"beforeUnmount"),et&64?y.type.remove(y,b,P,Z,O):$&&!$.hasOnce&&(M!==jt||G>0&&G&64)?xe($,b,P,!1,!0):(M===jt&&G&384||!F&&et&16)&&xe(j,b,P),O&&$t(y)}(gt&&(wt=Q&&Q.onVnodeUnmounted)||st)&&ke(()=>{wt&&Ge(wt,b,y),st&&Jn(y,null,b,"unmounted")},P)},$t=y=>{const{type:b,el:P,anchor:O,transition:F}=y;if(b===jt){bn(P,O);return}if(b===Si){q(y);return}const M=()=>{r(P),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(y.shapeFlag&1&&F&&!F.persisted){const{leave:Q,delayLeave:H}=F,j=()=>Q(P,M);H?H(y.el,M,j):j()}else M()},bn=(y,b)=>{let P;for(;y!==b;)P=g(y),r(y),y=P;r(b)},Ke=(y,b,P)=>{const{bum:O,scope:F,job:M,subTree:Q,um:H,m:j,a:$,parent:et,slots:{__:G}}=y;Kc(j),Kc($),O&&Ai(O),et&&ot(G)&&G.forEach(tt=>{et.renderCache[tt]=void 0}),F.stop(),M&&(M.flags|=8,Ft(Q,y,b,P)),H&&ke(H,b),ke(()=>{y.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},xe=(y,b,P,O=!1,F=!1,M=0)=>{for(let Q=M;Q<y.length;Q++)Ft(y[Q],b,P,O,F)},N=y=>{if(y.shapeFlag&6)return N(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const b=g(y.anchor||y.el),P=b&&b[Jg];return P?g(P):b};let Y=!1;const X=(y,b,P)=>{y==null?b._vnode&&Ft(b._vnode,null,null,!0):R(b._vnode||null,y,b,null,null,null,P),b._vnode=y,Y||(Y=!0,Lc(),vf(),Y=!1)},Z={p:R,um:Ft,m:Ne,r:$t,mt:Vt,mc:v,pc:vt,pbc:x,n:N,o:e};return{render:X,hydrate:void 0,createApp:Em(X)}}function Xo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Zn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Sm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Qf(e,t,n=!1){const s=e.children,r=t.children;if(ot(s)&&ot(r))for(let i=0;i<s.length;i++){const a=s[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=Vn(r[i]),l.el=a.el),!n&&l.patchFlag!==-2&&Qf(a,l)),l.type===fo&&(l.el=a.el),l.type===me&&!l.el&&(l.el=a.el)}}function Pm(e){const t=e.slice(),n=[0];let s,r,i,a,l;const c=e.length;for(s=0;s<c;s++){const h=e[s];if(h!==0){if(r=n[n.length-1],e[r]<h){t[s]=r,n.push(s);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,e[n[l]]<h?i=l+1:a=l;h<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}function Xf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Xf(t)}function Kc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Vm=Symbol.for("v-scx"),km=()=>Ze(Vm);function Ri(e,t,n){return Yf(e,t,n)}function Yf(e,t,n=Dt){const{immediate:s,deep:r,flush:i,once:a}=n,l=te({},n),c=t&&s||!t&&i!=="post";let h;if(Lr){if(i==="sync"){const w=km();h=w.__watcherHandles||(w.__watcherHandles=[])}else if(!c){const w=()=>{};return w.stop=Je,w.resume=Je,w.pause=Je,w}}const d=ae;l.call=(w,C,R)=>He(w,d,C,R);let p=!1;i==="post"?l.scheduler=w=>{ke(w,d&&d.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(w,C)=>{C?w():ul(w)}),l.augmentJob=w=>{t&&(w.flags|=4),p&&(w.flags|=2,d&&(w.id=d.uid,w.i=d))};const g=Wg(e,t,l);return Lr&&(h?h.push(g):c&&g()),g}function Dm(e,t,n){const s=this.proxy,r=Ht(e)?e.includes(".")?Jf(s,e):()=>s[e]:e.bind(s,s);let i;dt(t)?i=t:(i=t.handler,n=t);const a=Qr(this),l=Yf(r,i.bind(s),n);return a(),l}function Jf(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Nm=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${$e(t)}Modifiers`]||e[`${fs(t)}Modifiers`];function Om(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Dt;let r=n;const i=t.startsWith("update:"),a=i&&Nm(s,t.slice(7));a&&(a.trim&&(r=n.map(d=>Ht(d)?d.trim():d)),a.number&&(r=n.map(pa)));let l,c=s[l=qo(t)]||s[l=qo($e(t))];!c&&i&&(c=s[l=qo(fs(t))]),c&&He(c,e,6,r);const h=s[l+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,He(h,e,6,r)}}function Zf(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const i=e.emits;let a={},l=!1;if(!dt(e)){const c=h=>{const d=Zf(h,t,!0);d&&(l=!0,te(a,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(Mt(e)&&s.set(e,null),null):(ot(i)?i.forEach(c=>a[c]=null):te(a,i),Mt(e)&&s.set(e,a),a)}function ho(e,t){return!e||!eo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pt(e,t[0].toLowerCase()+t.slice(1))||Pt(e,fs(t))||Pt(e,t))}function Gc(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:a,attrs:l,emit:c,render:h,renderCache:d,props:p,data:g,setupState:w,ctx:C,inheritAttrs:R}=e,D=Bi(e);let K,B;try{if(n.shapeFlag&4){const q=r||s,ht=q;K=Xe(h.call(ht,q,d,p,w,g,C)),B=l}else{const q=t;K=Xe(q.length>1?q(p,{attrs:l,slots:a,emit:c}):q(p,null)),B=t.props?l:Mm(l)}}catch(q){Tr.length=0,ao(q,e,1),K=rt(me)}let U=K;if(B&&R!==!1){const q=Object.keys(B),{shapeFlag:ht}=U;q.length&&ht&7&&(i&&q.some(tl)&&(B=Lm(B,i)),U=Un(U,B,!1,!0))}return n.dirs&&(U=Un(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&Nr(U,n.transition),K=U,Bi(D),K}const Mm=e=>{let t;for(const n in e)(n==="class"||n==="style"||eo(n))&&((t||(t={}))[n]=e[n]);return t},Lm=(e,t)=>{const n={};for(const s in e)(!tl(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Fm(e,t,n){const{props:s,children:r,component:i}=e,{props:a,children:l,patchFlag:c}=t,h=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Wc(s,a,h):!!a;if(c&8){const d=t.dynamicProps;for(let p=0;p<d.length;p++){const g=d[p];if(a[g]!==s[g]&&!ho(h,g))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===a?!1:s?a?Wc(s,a,h):!0:!!a;return!1}function Wc(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i]&&!ho(n,i))return!0}return!1}function $m({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const td=e=>e.__isSuspense;function Bm(e,t){t&&t.pendingBranch?ot(e)?t.effects.push(...e):t.effects.push(e):Yg(e)}const jt=Symbol.for("v-fgt"),fo=Symbol.for("v-txt"),me=Symbol.for("v-cmt"),Si=Symbol.for("v-stc"),Tr=[];let De=null;function nt(e=!1){Tr.push(De=e?null:[])}function Um(){Tr.pop(),De=Tr[Tr.length-1]||null}let Or=1;function Qc(e,t=!1){Or+=e,e<0&&De&&t&&(De.hasOnce=!0)}function ed(e){return e.dynamicChildren=Or>0?De||Cs:null,Um(),Or>0&&De&&De.push(e),e}function ct(e,t,n,s,r,i){return ed(S(e,t,n,s,r,i,!0))}function us(e,t,n,s,r){return ed(rt(e,t,n,s,r,!0))}function Mr(e){return e?e.__v_isVNode===!0:!1}function rs(e,t){return e.type===t.type&&e.key===t.key}const nd=({key:e})=>e??null,Pi=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ht(e)||_e(e)||dt(e)?{i:Zt,r:e,k:t,f:!!n}:e:null);function S(e,t=null,n=null,s=0,r=null,i=e===jt?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&nd(t),ref:t&&Pi(t),scopeId:wf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Zt};return l?(dl(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=Ht(n)?8:16),Or>0&&!a&&De&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&De.push(c),c}const rt=jm;function jm(e,t=null,n=null,s=0,r=null,i=!1){if((!e||e===Nf)&&(e=me),Mr(e)){const l=Un(e,t,!0);return n&&dl(l,n),Or>0&&!i&&De&&(l.shapeFlag&6?De[De.indexOf(e)]=l:De.push(l)),l.patchFlag=-2,l}if(t_(e)&&(e=e.__vccOpts),t){t=qm(t);let{class:l,style:c}=t;l&&!Ht(l)&&(t.class=je(l)),Mt(c)&&(cl(c)&&!ot(c)&&(c=te({},c)),t.style=Gr(c))}const a=Ht(e)?1:td(e)?128:bf(e)?64:Mt(e)?4:dt(e)?2:0;return S(e,t,n,s,r,a,i,!0)}function qm(e){return e?cl(e)||qf(e)?te({},e):e:null}function Un(e,t,n=!1,s=!1){const{props:r,ref:i,patchFlag:a,children:l,transition:c}=e,h=t?Hm(r||{},t):r,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&nd(h),ref:t&&t.ref?n&&i?ot(i)?i.concat(Pi(t)):[i,Pi(t)]:Pi(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==jt?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Un(e.ssContent),ssFallback:e.ssFallback&&Un(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&s&&Nr(d,c.clone(d)),d}function mt(e=" ",t=0){return rt(fo,null,e,t)}function Mn(e,t){const n=rt(Si,null,e);return n.staticCount=t,n}function pn(e="",t=!1){return t?(nt(),us(me,null,e)):rt(me,null,e)}function Xe(e){return e==null||typeof e=="boolean"?rt(me):ot(e)?rt(jt,null,e.slice()):Mr(e)?Vn(e):rt(fo,null,String(e))}function Vn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Un(e)}function dl(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ot(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),dl(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!qf(t)?t._ctx=Zt:r===3&&Zt&&(Zt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else dt(t)?(t={default:t,_ctx:Zt},n=32):(t=String(t),s&64?(n=16,t=[mt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Hm(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=je([t.class,s.class]));else if(r==="style")t.style=Gr([t.style,s.style]);else if(eo(r)){const i=t[r],a=s[r];a&&i!==a&&!(ot(i)&&i.includes(a))&&(t[r]=i?[].concat(i,a):a)}else r!==""&&(t[r]=s[r])}return t}function Ge(e,t,n,s=null){He(e,t,7,[n,s])}const zm=Bf();let Km=0;function Gm(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||zm,i={uid:Km++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new wg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zf(s,r),emitsOptions:Zf(s,r),emit:null,emitted:null,propsDefaults:Dt,inheritAttrs:s.inheritAttrs,ctx:Dt,data:Dt,props:Dt,attrs:Dt,slots:Dt,refs:Dt,setupState:Dt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Om.bind(null,i),e.ce&&e.ce(i),i}let ae=null;const Wm=()=>ae||Zt;let ji,xa;{const e=io(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),i=>{r.length>1?r.forEach(a=>a(i)):r[0](i)}};ji=t("__VUE_INSTANCE_SETTERS__",n=>ae=n),xa=t("__VUE_SSR_SETTERS__",n=>Lr=n)}const Qr=e=>{const t=ae;return ji(e),e.scope.on(),()=>{e.scope.off(),ji(t)}},Xc=()=>{ae&&ae.scope.off(),ji(null)};function sd(e){return e.vnode.shapeFlag&4}let Lr=!1;function Qm(e,t=!1,n=!1){t&&xa(t);const{props:s,children:r}=e.vnode,i=sd(e);wm(e,s,i,t),Im(e,r,n||t);const a=i?Xm(e,t):void 0;return t&&xa(!1),a}function Xm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,dm);const{setup:s}=n;if(s){mn();const r=e.setupContext=s.length>1?Jm(e):null,i=Qr(e),a=Wr(s,e,0,[e.props,r]),l=zh(a);if(_n(),i(),(l||e.sp)&&!ks(e)&&Sf(e),l){if(a.then(Xc,Xc),t)return a.then(c=>{Yc(e,c)}).catch(c=>{ao(c,e,0)});e.asyncDep=a}else Yc(e,a)}else rd(e)}function Yc(e,t,n){dt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Mt(t)&&(e.setupState=gf(t)),rd(e)}function rd(e,t,n){const s=e.type;e.render||(e.render=s.render||Je);{const r=Qr(e);mn();try{pm(e)}finally{_n(),r()}}}const Ym={get(e,t){return pe(e,"get",""),e[t]}};function Jm(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Ym),slots:e.slots,emit:e.emit,expose:t}}function po(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(gf(Ug(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in br)return br[n](e)},has(t,n){return n in t||n in br}})):e.proxy}function Zm(e,t=!0){return dt(e)?e.displayName||e.name:e.name||t&&e.__name}function t_(e){return dt(e)&&"__vccOpts"in e}const Ce=(e,t)=>Kg(e,t,Lr);function pl(e,t,n){const s=arguments.length;return s===2?Mt(t)&&!ot(t)?Mr(t)?rt(e,null,[t]):rt(e,t):rt(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Mr(n)&&(n=[n]),rt(e,t,n))}const e_="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ia;const Jc=typeof window<"u"&&window.trustedTypes;if(Jc)try{Ia=Jc.createPolicy("vue",{createHTML:e=>e})}catch{}const id=Ia?e=>Ia.createHTML(e):e=>e,n_="http://www.w3.org/2000/svg",s_="http://www.w3.org/1998/Math/MathML",cn=typeof document<"u"?document:null,Zc=cn&&cn.createElement("template"),r_={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?cn.createElementNS(n_,e):t==="mathml"?cn.createElementNS(s_,e):n?cn.createElement(e,{is:n}):cn.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>cn.createTextNode(e),createComment:e=>cn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>cn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,i){const a=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Zc.innerHTML=id(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=Zc.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Cn="transition",fr="animation",Fr=Symbol("_vtc"),od={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},i_=te({},Tf,od),o_=e=>(e.displayName="Transition",e.props=i_,e),ad=o_((e,{slots:t})=>pl(em,a_(e),t)),ts=(e,t=[])=>{ot(e)?e.forEach(n=>n(...t)):e&&e(...t)},tu=e=>e?ot(e)?e.some(t=>t.length>1):e.length>1:!1;function a_(e){const t={};for(const T in e)T in od||(t[T]=e[T]);if(e.css===!1)return t;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:h=a,appearToClass:d=l,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:w=`${n}-leave-to`}=e,C=l_(r),R=C&&C[0],D=C&&C[1],{onBeforeEnter:K,onEnter:B,onEnterCancelled:U,onLeave:q,onLeaveCancelled:ht,onBeforeAppear:ut=K,onAppear:A=B,onAppearCancelled:v=U}=t,_=(T,E,Vt,Qt)=>{T._enterCancelled=Qt,es(T,E?d:l),es(T,E?h:a),Vt&&Vt()},x=(T,E)=>{T._isLeaving=!1,es(T,p),es(T,w),es(T,g),E&&E()},I=T=>(E,Vt)=>{const Qt=T?A:B,Lt=()=>_(E,T,Vt);ts(Qt,[E,Lt]),eu(()=>{es(E,T?c:i),an(E,T?d:l),tu(Qt)||nu(E,s,R,Lt)})};return te(t,{onBeforeEnter(T){ts(K,[T]),an(T,i),an(T,a)},onBeforeAppear(T){ts(ut,[T]),an(T,c),an(T,h)},onEnter:I(!1),onAppear:I(!0),onLeave(T,E){T._isLeaving=!0;const Vt=()=>x(T,E);an(T,p),T._enterCancelled?(an(T,g),iu()):(iu(),an(T,g)),eu(()=>{T._isLeaving&&(es(T,p),an(T,w),tu(q)||nu(T,s,D,Vt))}),ts(q,[T,Vt])},onEnterCancelled(T){_(T,!1,void 0,!0),ts(U,[T])},onAppearCancelled(T){_(T,!0,void 0,!0),ts(v,[T])},onLeaveCancelled(T){x(T),ts(ht,[T])}})}function l_(e){if(e==null)return null;if(Mt(e))return[Yo(e.enter),Yo(e.leave)];{const t=Yo(e);return[t,t]}}function Yo(e){return pg(e)}function an(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Fr]||(e[Fr]=new Set)).add(t)}function es(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[Fr];n&&(n.delete(t),n.size||(e[Fr]=void 0))}function eu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let c_=0;function nu(e,t,n,s){const r=e._endId=++c_,i=()=>{r===e._endId&&s()};if(n!=null)return setTimeout(i,n);const{type:a,timeout:l,propCount:c}=u_(e,t);if(!a)return s();const h=a+"end";let d=0;const p=()=>{e.removeEventListener(h,g),i()},g=w=>{w.target===e&&++d>=c&&p()};setTimeout(()=>{d<c&&p()},l+1),e.addEventListener(h,g)}function u_(e,t){const n=window.getComputedStyle(e),s=C=>(n[C]||"").split(", "),r=s(`${Cn}Delay`),i=s(`${Cn}Duration`),a=su(r,i),l=s(`${fr}Delay`),c=s(`${fr}Duration`),h=su(l,c);let d=null,p=0,g=0;t===Cn?a>0&&(d=Cn,p=a,g=i.length):t===fr?h>0&&(d=fr,p=h,g=c.length):(p=Math.max(a,h),d=p>0?a>h?Cn:fr:null,g=d?d===Cn?i.length:c.length:0);const w=d===Cn&&/\b(transform|all)(,|$)/.test(s(`${Cn}Property`).toString());return{type:d,timeout:p,propCount:g,hasTransform:w}}function su(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>ru(n)+ru(e[s])))}function ru(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function iu(){return document.body.offsetHeight}function h_(e,t,n){const s=e[Fr];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ou=Symbol("_vod"),f_=Symbol("_vsh"),d_=Symbol(""),p_=/(^|;)\s*display\s*:/;function g_(e,t,n){const s=e.style,r=Ht(n);let i=!1;if(n&&!r){if(t)if(Ht(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&Vi(s,l,"")}else for(const a in t)n[a]==null&&Vi(s,a,"");for(const a in n)a==="display"&&(i=!0),Vi(s,a,n[a])}else if(r){if(t!==n){const a=s[d_];a&&(n+=";"+a),s.cssText=n,i=p_.test(n)}}else t&&e.removeAttribute("style");ou in e&&(e[ou]=i?s.display:"",e[f_]&&(s.display="none"))}const au=/\s*!important$/;function Vi(e,t,n){if(ot(n))n.forEach(s=>Vi(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=m_(e,t);au.test(n)?e.setProperty(fs(s),n.replace(au,""),"important"):e[s]=n}}const lu=["Webkit","Moz","ms"],Jo={};function m_(e,t){const n=Jo[t];if(n)return n;let s=$e(t);if(s!=="filter"&&s in e)return Jo[t]=s;s=ro(s);for(let r=0;r<lu.length;r++){const i=lu[r]+s;if(i in e)return Jo[t]=i}return t}const cu="http://www.w3.org/1999/xlink";function uu(e,t,n,s,r,i=Eg(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(cu,t.slice(6,t.length)):e.setAttributeNS(cu,t,n):n==null||i&&!Wh(n)?e.removeAttribute(t):e.setAttribute(t,i?"":En(n)?String(n):n)}function hu(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?id(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Wh(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(r||t)}function ws(e,t,n,s){e.addEventListener(t,n,s)}function __(e,t,n,s){e.removeEventListener(t,n,s)}const fu=Symbol("_vei");function y_(e,t,n,s,r=null){const i=e[fu]||(e[fu]={}),a=i[t];if(s&&a)a.value=s;else{const[l,c]=v_(t);if(s){const h=i[t]=b_(s,r);ws(e,l,h,c)}else a&&(__(e,l,a,c),i[t]=void 0)}}const du=/(?:Once|Passive|Capture)$/;function v_(e){let t;if(du.test(e)){t={};let s;for(;s=e.match(du);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):fs(e.slice(2)),t]}let Zo=0;const E_=Promise.resolve(),w_=()=>Zo||(E_.then(()=>Zo=0),Zo=Date.now());function b_(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;He(T_(s,n.value),t,5,[s])};return n.value=e,n.attached=w_(),n}function T_(e,t){if(ot(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const pu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,x_=(e,t,n,s,r,i)=>{const a=r==="svg";t==="class"?h_(e,s,a):t==="style"?g_(e,n,s):eo(t)?tl(t)||y_(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):I_(e,t,s,a))?(hu(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&uu(e,t,s,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ht(s))?hu(e,$e(t),s,i,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),uu(e,t,s,a))};function I_(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&pu(t)&&dt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return pu(t)&&Ht(n)?!1:t in e}const gu=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ot(t)?n=>Ai(t,n):t};function A_(e){e.target.composing=!0}function mu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ta=Symbol("_assign"),hn={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[ta]=gu(r);const i=s||r.props&&r.props.type==="number";ws(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=pa(l)),e[ta](l)}),n&&ws(e,"change",()=>{e.value=e.value.trim()}),t||(ws(e,"compositionstart",A_),ws(e,"compositionend",mu),ws(e,"change",mu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},a){if(e[ta]=gu(a),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?pa(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||r&&e.value.trim()===c)||(e.value=c))}},C_=["ctrl","shift","alt","meta"],R_={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>C_.some(n=>e[`${n}Key`]&&!t.includes(n))},gl=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...i)=>{for(let a=0;a<t.length;a++){const l=R_[t[a]];if(l&&l(r,t))return}return e(r,...i)})},S_=te({patchProp:x_},r_);let _u;function P_(){return _u||(_u=Cm(S_))}const V_=(...e)=>{const t=P_().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=D_(s);if(!r)return;const i=t._component;!dt(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=n(r,!1,k_(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t};function k_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function D_(e){return Ht(e)?document.querySelector(e):e}const N_="/assets/red-panda-logo-black-DpGi6YeW.svg",O_="/assets/red-panda-logo-white-BkC1hS2c.svg",M_="/assets/QR-site-DNZWVpLo.svg",L_="/assets/QR-instagram-O6sPWECS.svg";/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const bs=typeof document<"u";function ld(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function F_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&ld(e.default)}const St=Object.assign;function ea(e,t){const n={};for(const s in t){const r=t[s];n[s]=ze(r)?r.map(e):e(r)}return n}const xr=()=>{},ze=Array.isArray,cd=/#/g,$_=/&/g,B_=/\//g,U_=/=/g,j_=/\?/g,ud=/\+/g,q_=/%5B/g,H_=/%5D/g,hd=/%5E/g,z_=/%60/g,fd=/%7B/g,K_=/%7C/g,dd=/%7D/g,G_=/%20/g;function ml(e){return encodeURI(""+e).replace(K_,"|").replace(q_,"[").replace(H_,"]")}function W_(e){return ml(e).replace(fd,"{").replace(dd,"}").replace(hd,"^")}function Aa(e){return ml(e).replace(ud,"%2B").replace(G_,"+").replace(cd,"%23").replace($_,"%26").replace(z_,"`").replace(fd,"{").replace(dd,"}").replace(hd,"^")}function Q_(e){return Aa(e).replace(U_,"%3D")}function X_(e){return ml(e).replace(cd,"%23").replace(j_,"%3F")}function Y_(e){return e==null?"":X_(e).replace(B_,"%2F")}function $r(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const J_=/\/$/,Z_=e=>e.replace(J_,"");function na(e,t,n="/"){let s,r={},i="",a="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=t.slice(0,c),i=t.slice(c+1,l>-1?l:t.length),r=e(i)),l>-1&&(s=s||t.slice(0,l),a=t.slice(l,t.length)),s=sy(s??t,n),{fullPath:s+(i&&"?")+i+a,path:s,query:r,hash:$r(a)}}function ty(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function yu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ey(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Fs(t.matched[s],n.matched[r])&&pd(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Fs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function pd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!ny(e[n],t[n]))return!1;return!0}function ny(e,t){return ze(e)?vu(e,t):ze(t)?vu(t,e):e===t}function vu(e,t){return ze(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function sy(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,a,l;for(a=0;a<s.length;a++)if(l=s[a],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(a).join("/")}const Rn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Br;(function(e){e.pop="pop",e.push="push"})(Br||(Br={}));var Ir;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ir||(Ir={}));function ry(e){if(!e)if(bs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Z_(e)}const iy=/^[^#]+#/;function oy(e,t){return e.replace(iy,"#")+t}function ay(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const go=()=>({left:window.scrollX,top:window.scrollY});function ly(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=ay(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Eu(e,t){return(history.state?history.state.position-t:-1)+e}const Ca=new Map;function cy(e,t){Ca.set(e,t)}function uy(e){const t=Ca.get(e);return Ca.delete(e),t}let hy=()=>location.protocol+"//"+location.host;function gd(e,t){const{pathname:n,search:s,hash:r}=t,i=e.indexOf("#");if(i>-1){let l=r.includes(e.slice(i))?e.slice(i).length:1,c=r.slice(l);return c[0]!=="/"&&(c="/"+c),yu(c,"")}return yu(n,e)+s+r}function fy(e,t,n,s){let r=[],i=[],a=null;const l=({state:g})=>{const w=gd(e,location),C=n.value,R=t.value;let D=0;if(g){if(n.value=w,t.value=g,a&&a===C){a=null;return}D=R?g.position-R.position:0}else s(w);r.forEach(K=>{K(n.value,C,{delta:D,type:Br.pop,direction:D?D>0?Ir.forward:Ir.back:Ir.unknown})})};function c(){a=n.value}function h(g){r.push(g);const w=()=>{const C=r.indexOf(g);C>-1&&r.splice(C,1)};return i.push(w),w}function d(){const{history:g}=window;g.state&&g.replaceState(St({},g.state,{scroll:go()}),"")}function p(){for(const g of i)g();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:h,destroy:p}}function wu(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?go():null}}function dy(e){const{history:t,location:n}=window,s={value:gd(e,n)},r={value:t.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,h,d){const p=e.indexOf("#"),g=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+c:hy()+e+c;try{t[d?"replaceState":"pushState"](h,"",g),r.value=h}catch(w){console.error(w),n[d?"replace":"assign"](g)}}function a(c,h){const d=St({},t.state,wu(r.value.back,c,r.value.forward,!0),h,{position:r.value.position});i(c,d,!0),s.value=c}function l(c,h){const d=St({},r.value,t.state,{forward:c,scroll:go()});i(d.current,d,!0);const p=St({},wu(s.value,c,null),{position:d.position+1},h);i(c,p,!1),s.value=c}return{location:s,state:r,push:l,replace:a}}function py(e){e=ry(e);const t=dy(e),n=fy(e,t.state,t.location,t.replace);function s(i,a=!0){a||n.pauseListeners(),history.go(i)}const r=St({location:"",base:e,go:s,createHref:oy.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function gy(e){return typeof e=="string"||e&&typeof e=="object"}function md(e){return typeof e=="string"||typeof e=="symbol"}const _d=Symbol("");var bu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(bu||(bu={}));function $s(e,t){return St(new Error,{type:e,[_d]:!0},t)}function ln(e,t){return e instanceof Error&&_d in e&&(t==null||!!(e.type&t))}const Tu="[^/]+?",my={sensitive:!1,strict:!1,start:!0,end:!0},_y=/[.+*?^${}()[\]/\\]/g;function yy(e,t){const n=St({},my,t),s=[];let r=n.start?"^":"";const i=[];for(const h of e){const d=h.length?[]:[90];n.strict&&!h.length&&(r+="/");for(let p=0;p<h.length;p++){const g=h[p];let w=40+(n.sensitive?.25:0);if(g.type===0)p||(r+="/"),r+=g.value.replace(_y,"\\$&"),w+=40;else if(g.type===1){const{value:C,repeatable:R,optional:D,regexp:K}=g;i.push({name:C,repeatable:R,optional:D});const B=K||Tu;if(B!==Tu){w+=10;try{new RegExp(`(${B})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${C}" (${B}): `+q.message)}}let U=R?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;p||(U=D&&h.length<2?`(?:/${U})`:"/"+U),D&&(U+="?"),r+=U,w+=20,D&&(w+=-8),R&&(w+=-20),B===".*"&&(w+=-50)}d.push(w)}s.push(d)}if(n.strict&&n.end){const h=s.length-1;s[h][s[h].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function l(h){const d=h.match(a),p={};if(!d)return null;for(let g=1;g<d.length;g++){const w=d[g]||"",C=i[g-1];p[C.name]=w&&C.repeatable?w.split("/"):w}return p}function c(h){let d="",p=!1;for(const g of e){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const w of g)if(w.type===0)d+=w.value;else if(w.type===1){const{value:C,repeatable:R,optional:D}=w,K=C in h?h[C]:"";if(ze(K)&&!R)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const B=ze(K)?K.join("/"):K;if(!B)if(D)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${C}"`);d+=B}}return d||"/"}return{re:a,score:s,keys:i,parse:l,stringify:c}}function vy(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function yd(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const i=vy(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(xu(s))return 1;if(xu(r))return-1}return r.length-s.length}function xu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ey={type:0,value:""},wy=/[a-zA-Z0-9_]/;function by(e){if(!e)return[[]];if(e==="/")return[[Ey]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(w){throw new Error(`ERR (${n})/"${h}": ${w}`)}let n=0,s=n;const r=[];let i;function a(){i&&r.push(i),i=[]}let l=0,c,h="",d="";function p(){h&&(n===0?i.push({type:0,value:h}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:h,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),h="")}function g(){h+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(h&&p(),a()):c===":"?(p(),n=1):g();break;case 4:g(),n=s;break;case 1:c==="("?n=2:wy.test(c)?g():(p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:n=3:d+=c;break;case 3:p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),p(),a(),r}function Ty(e,t,n){const s=yy(by(e.path),n),r=St(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function xy(e,t){const n=[],s=new Map;t=Ru({strict:!1,end:!0,sensitive:!1},t);function r(p){return s.get(p)}function i(p,g,w){const C=!w,R=Au(p);R.aliasOf=w&&w.record;const D=Ru(t,p),K=[R];if("alias"in p){const q=typeof p.alias=="string"?[p.alias]:p.alias;for(const ht of q)K.push(Au(St({},R,{components:w?w.record.components:R.components,path:ht,aliasOf:w?w.record:R})))}let B,U;for(const q of K){const{path:ht}=q;if(g&&ht[0]!=="/"){const ut=g.record.path,A=ut[ut.length-1]==="/"?"":"/";q.path=g.record.path+(ht&&A+ht)}if(B=Ty(q,g,D),w?w.alias.push(B):(U=U||B,U!==B&&U.alias.push(B),C&&p.name&&!Cu(B)&&a(p.name)),vd(B)&&c(B),R.children){const ut=R.children;for(let A=0;A<ut.length;A++)i(ut[A],B,w&&w.children[A])}w=w||B}return U?()=>{a(U)}:xr}function a(p){if(md(p)){const g=s.get(p);g&&(s.delete(p),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(p);g>-1&&(n.splice(g,1),p.record.name&&s.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function c(p){const g=Cy(p,n);n.splice(g,0,p),p.record.name&&!Cu(p)&&s.set(p.record.name,p)}function h(p,g){let w,C={},R,D;if("name"in p&&p.name){if(w=s.get(p.name),!w)throw $s(1,{location:p});D=w.record.name,C=St(Iu(g.params,w.keys.filter(U=>!U.optional).concat(w.parent?w.parent.keys.filter(U=>U.optional):[]).map(U=>U.name)),p.params&&Iu(p.params,w.keys.map(U=>U.name))),R=w.stringify(C)}else if(p.path!=null)R=p.path,w=n.find(U=>U.re.test(R)),w&&(C=w.parse(R),D=w.record.name);else{if(w=g.name?s.get(g.name):n.find(U=>U.re.test(g.path)),!w)throw $s(1,{location:p,currentLocation:g});D=w.record.name,C=St({},g.params,p.params),R=w.stringify(C)}const K=[];let B=w;for(;B;)K.unshift(B.record),B=B.parent;return{name:D,path:R,params:C,matched:K,meta:Ay(K)}}e.forEach(p=>i(p));function d(){n.length=0,s.clear()}return{addRoute:i,resolve:h,removeRoute:a,clearRoutes:d,getRoutes:l,getRecordMatcher:r}}function Iu(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Au(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Iy(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Iy(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Cu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ay(e){return e.reduce((t,n)=>St(t,n.meta),{})}function Ru(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Cy(e,t){let n=0,s=t.length;for(;n!==s;){const i=n+s>>1;yd(e,t[i])<0?s=i:n=i+1}const r=Ry(e);return r&&(s=t.lastIndexOf(r,s-1)),s}function Ry(e){let t=e;for(;t=t.parent;)if(vd(t)&&yd(e,t)===0)return t}function vd({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Sy(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(ud," "),a=i.indexOf("="),l=$r(a<0?i:i.slice(0,a)),c=a<0?null:$r(i.slice(a+1));if(l in t){let h=t[l];ze(h)||(h=t[l]=[h]),h.push(c)}else t[l]=c}return t}function Su(e){let t="";for(let n in e){const s=e[n];if(n=Q_(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(ze(s)?s.map(i=>i&&Aa(i)):[s&&Aa(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Py(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=ze(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const Vy=Symbol(""),Pu=Symbol(""),_l=Symbol(""),yl=Symbol(""),Ra=Symbol("");function dr(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function kn(e,t,n,s,r,i=a=>a()){const a=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((l,c)=>{const h=g=>{g===!1?c($s(4,{from:n,to:t})):g instanceof Error?c(g):gy(g)?c($s(2,{from:t,to:g})):(a&&s.enterCallbacks[r]===a&&typeof g=="function"&&a.push(g),l())},d=i(()=>e.call(s&&s.instances[r],t,n,h));let p=Promise.resolve(d);e.length<3&&(p=p.then(h)),p.catch(g=>c(g))})}function sa(e,t,n,s,r=i=>i()){const i=[];for(const a of e)for(const l in a.components){let c=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(ld(c)){const d=(c.__vccOpts||c)[t];d&&i.push(kn(d,n,s,a,l,r))}else{let h=c();i.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const p=F_(d)?d.default:d;a.mods[l]=d,a.components[l]=p;const w=(p.__vccOpts||p)[t];return w&&kn(w,n,s,a,l,r)()}))}}return i}function Vu(e){const t=Ze(_l),n=Ze(yl),s=Ce(()=>{const c=Ps(e.to);return t.resolve(c)}),r=Ce(()=>{const{matched:c}=s.value,{length:h}=c,d=c[h-1],p=n.matched;if(!d||!p.length)return-1;const g=p.findIndex(Fs.bind(null,d));if(g>-1)return g;const w=ku(c[h-2]);return h>1&&ku(d)===w&&p[p.length-1].path!==w?p.findIndex(Fs.bind(null,c[h-2])):g}),i=Ce(()=>r.value>-1&&My(n.params,s.value.params)),a=Ce(()=>r.value>-1&&r.value===n.matched.length-1&&pd(n.params,s.value.params));function l(c={}){if(Oy(c)){const h=t[Ps(e.replace)?"replace":"push"](Ps(e.to)).catch(xr);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:s,href:Ce(()=>s.value.href),isActive:i,isExactActive:a,navigate:l}}function ky(e){return e.length===1?e[0]:e}const Dy=Rf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Vu,setup(e,{slots:t}){const n=cs(Vu(e)),{options:s}=Ze(_l),r=Ce(()=>({[Du(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Du(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&ky(t.default(n));return e.custom?i:pl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),Ny=Dy;function Oy(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function My(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!ze(r)||r.length!==s.length||s.some((i,a)=>i!==r[a]))return!1}return!0}function ku(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Du=(e,t,n)=>e??t??n,Ly=Rf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Ze(Ra),r=Ce(()=>e.route||s.value),i=Ze(Pu,0),a=Ce(()=>{let h=Ps(i);const{matched:d}=r.value;let p;for(;(p=d[h])&&!p.components;)h++;return h}),l=Ce(()=>r.value.matched[a.value]);Ci(Pu,Ce(()=>a.value+1)),Ci(Vy,l),Ci(Ra,r);const c=Te();return Ri(()=>[c.value,l.value,e.name],([h,d,p],[g,w,C])=>{d&&(d.instances[p]=h,w&&w!==d&&h&&h===g&&(d.leaveGuards.size||(d.leaveGuards=w.leaveGuards),d.updateGuards.size||(d.updateGuards=w.updateGuards))),h&&d&&(!w||!Fs(d,w)||!g)&&(d.enterCallbacks[p]||[]).forEach(R=>R(h))},{flush:"post"}),()=>{const h=r.value,d=e.name,p=l.value,g=p&&p.components[d];if(!g)return Nu(n.default,{Component:g,route:h});const w=p.props[d],C=w?w===!0?h.params:typeof w=="function"?w(h):w:null,D=pl(g,St({},C,t,{onVnodeUnmounted:K=>{K.component.isUnmounted&&(p.instances[d]=null)},ref:c}));return Nu(n.default,{Component:D,route:h})||D}}});function Nu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Fy=Ly;function $y(e){const t=xy(e.routes,e),n=e.parseQuery||Sy,s=e.stringifyQuery||Su,r=e.history,i=dr(),a=dr(),l=dr(),c=jg(Rn);let h=Rn;bs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=ea.bind(null,N=>""+N),p=ea.bind(null,Y_),g=ea.bind(null,$r);function w(N,Y){let X,Z;return md(N)?(X=t.getRecordMatcher(N),Z=Y):Z=N,t.addRoute(Z,X)}function C(N){const Y=t.getRecordMatcher(N);Y&&t.removeRoute(Y)}function R(){return t.getRoutes().map(N=>N.record)}function D(N){return!!t.getRecordMatcher(N)}function K(N,Y){if(Y=St({},Y||c.value),typeof N=="string"){const P=na(n,N,Y.path),O=t.resolve({path:P.path},Y),F=r.createHref(P.fullPath);return St(P,O,{params:g(O.params),hash:$r(P.hash),redirectedFrom:void 0,href:F})}let X;if(N.path!=null)X=St({},N,{path:na(n,N.path,Y.path).path});else{const P=St({},N.params);for(const O in P)P[O]==null&&delete P[O];X=St({},N,{params:p(P)}),Y.params=p(Y.params)}const Z=t.resolve(X,Y),At=N.hash||"";Z.params=d(g(Z.params));const y=ty(s,St({},N,{hash:W_(At),path:Z.path})),b=r.createHref(y);return St({fullPath:y,hash:At,query:s===Su?Py(N.query):N.query||{}},Z,{redirectedFrom:void 0,href:b})}function B(N){return typeof N=="string"?na(n,N,c.value.path):St({},N)}function U(N,Y){if(h!==N)return $s(8,{from:Y,to:N})}function q(N){return A(N)}function ht(N){return q(St(B(N),{replace:!0}))}function ut(N){const Y=N.matched[N.matched.length-1];if(Y&&Y.redirect){const{redirect:X}=Y;let Z=typeof X=="function"?X(N):X;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=B(Z):{path:Z},Z.params={}),St({query:N.query,hash:N.hash,params:Z.path!=null?{}:N.params},Z)}}function A(N,Y){const X=h=K(N),Z=c.value,At=N.state,y=N.force,b=N.replace===!0,P=ut(X);if(P)return A(St(B(P),{state:typeof P=="object"?St({},At,P.state):At,force:y,replace:b}),Y||X);const O=X;O.redirectedFrom=Y;let F;return!y&&ey(s,Z,X)&&(F=$s(16,{to:O,from:Z}),Ne(Z,Z,!0,!1)),(F?Promise.resolve(F):x(O,Z)).catch(M=>ln(M)?ln(M,2)?M:Be(M):vt(M,O,Z)).then(M=>{if(M){if(ln(M,2))return A(St({replace:b},B(M.to),{state:typeof M.to=="object"?St({},At,M.to.state):At,force:y}),Y||O)}else M=T(O,Z,!0,b,At);return I(O,Z,M),M})}function v(N,Y){const X=U(N,Y);return X?Promise.reject(X):Promise.resolve()}function _(N){const Y=bn.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(N):N()}function x(N,Y){let X;const[Z,At,y]=By(N,Y);X=sa(Z.reverse(),"beforeRouteLeave",N,Y);for(const P of Z)P.leaveGuards.forEach(O=>{X.push(kn(O,N,Y))});const b=v.bind(null,N,Y);return X.push(b),xe(X).then(()=>{X=[];for(const P of i.list())X.push(kn(P,N,Y));return X.push(b),xe(X)}).then(()=>{X=sa(At,"beforeRouteUpdate",N,Y);for(const P of At)P.updateGuards.forEach(O=>{X.push(kn(O,N,Y))});return X.push(b),xe(X)}).then(()=>{X=[];for(const P of y)if(P.beforeEnter)if(ze(P.beforeEnter))for(const O of P.beforeEnter)X.push(kn(O,N,Y));else X.push(kn(P.beforeEnter,N,Y));return X.push(b),xe(X)}).then(()=>(N.matched.forEach(P=>P.enterCallbacks={}),X=sa(y,"beforeRouteEnter",N,Y,_),X.push(b),xe(X))).then(()=>{X=[];for(const P of a.list())X.push(kn(P,N,Y));return X.push(b),xe(X)}).catch(P=>ln(P,8)?P:Promise.reject(P))}function I(N,Y,X){l.list().forEach(Z=>_(()=>Z(N,Y,X)))}function T(N,Y,X,Z,At){const y=U(N,Y);if(y)return y;const b=Y===Rn,P=bs?history.state:{};X&&(Z||b?r.replace(N.fullPath,St({scroll:b&&P&&P.scroll},At)):r.push(N.fullPath,At)),c.value=N,Ne(N,Y,X,b),Be()}let E;function Vt(){E||(E=r.listen((N,Y,X)=>{if(!Ke.listening)return;const Z=K(N),At=ut(Z);if(At){A(St(At,{replace:!0,force:!0}),Z).catch(xr);return}h=Z;const y=c.value;bs&&cy(Eu(y.fullPath,X.delta),go()),x(Z,y).catch(b=>ln(b,12)?b:ln(b,2)?(A(St(B(b.to),{force:!0}),Z).then(P=>{ln(P,20)&&!X.delta&&X.type===Br.pop&&r.go(-1,!1)}).catch(xr),Promise.reject()):(X.delta&&r.go(-X.delta,!1),vt(b,Z,y))).then(b=>{b=b||T(Z,y,!1),b&&(X.delta&&!ln(b,8)?r.go(-X.delta,!1):X.type===Br.pop&&ln(b,20)&&r.go(-1,!1)),I(Z,y,b)}).catch(xr)}))}let Qt=dr(),Lt=dr(),Et;function vt(N,Y,X){Be(N);const Z=Lt.list();return Z.length?Z.forEach(At=>At(N,Y,X)):console.error(N),Promise.reject(N)}function Pe(){return Et&&c.value!==Rn?Promise.resolve():new Promise((N,Y)=>{Qt.add([N,Y])})}function Be(N){return Et||(Et=!N,Vt(),Qt.list().forEach(([Y,X])=>N?X(N):Y()),Qt.reset()),N}function Ne(N,Y,X,Z){const{scrollBehavior:At}=e;if(!bs||!At)return Promise.resolve();const y=!X&&uy(Eu(N.fullPath,0))||(Z||!X)&&history.state&&history.state.scroll||null;return _f().then(()=>At(N,Y,y)).then(b=>b&&ly(b)).catch(b=>vt(b,N,Y))}const Ft=N=>r.go(N);let $t;const bn=new Set,Ke={currentRoute:c,listening:!0,addRoute:w,removeRoute:C,clearRoutes:t.clearRoutes,hasRoute:D,getRoutes:R,resolve:K,options:e,push:q,replace:ht,go:Ft,back:()=>Ft(-1),forward:()=>Ft(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:Lt.add,isReady:Pe,install(N){const Y=this;N.component("RouterLink",Ny),N.component("RouterView",Fy),N.config.globalProperties.$router=Y,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Ps(c)}),bs&&!$t&&c.value===Rn&&($t=!0,q(r.location).catch(At=>{}));const X={};for(const At in Rn)Object.defineProperty(X,At,{get:()=>c.value[At],enumerable:!0});N.provide(_l,Y),N.provide(yl,ff(X)),N.provide(Ra,c);const Z=N.unmount;bn.add(N),N.unmount=function(){bn.delete(N),bn.size<1&&(h=Rn,E&&E(),E=null,c.value=Rn,$t=!1,Et=!1),Z()}}};function xe(N){return N.reduce((Y,X)=>Y.then(()=>_(X)),Promise.resolve())}return Ke}function By(e,t){const n=[],s=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const l=t.matched[a];l&&(e.matched.find(h=>Fs(h,l))?s.push(l):n.push(l));const c=e.matched[a];c&&(t.matched.find(h=>Fs(h,c))||r.push(c))}return[n,s,r]}function Uy(e){return Ze(yl)}const ds=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},jy={id:"map",style:{width:"100%",height:"500px"}},qy={__name:"InteractiveMap",setup(e){return uo(()=>{window.DG?window.DG.then(function(){const t=51.148757,n=71.384275,s=window.DG.map("map",{center:[t,n],zoom:16});window.DG.marker([t,n]).addTo(s).bindPopup("<b>Название вашей компании</b><br>Дополнительная информация здесь.")}):console.error("2GIS API не загружено.")}),(t,n)=>(nt(),ct("div",jy))}},Hy=ds(qy,[["__scopeId","data-v-11110691"]]),zy="/assets/preview-home-CpDXDXj5.jpg",Ky="/assets/preview-gallery-CM2B4CSr.jpg",Gy="/assets/preview-shop-D2wC6BoW.jpg",Wy={class:"site-container"},Qy={class:"site-header"},Xy={class:"flex items-center space-x-8 text-header-panda"},Yy=["onMouseenter"],Jy={key:1,class:"nav-item"},Zy={key:2,class:"dropdown-menu"},tv={class:"main-content"},ev={class:"text-light-gray bg-panda-black text-gray-400 font-medium"},nv={class:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-16"},sv={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-y-10 md:gap-x-8"},rv={class:"flex flex-col space-y-6"},iv={class:"flex flex-col items-start md:items-center text-left md:text-center space-y-4"},ov={class:"w-full max-w-sm h-80 rounded-2xl overflow-hidden"},av=["src"],lv={__name:"App",setup(e){const t=[{name:"Главная",path:"/",preview:zy},{name:"О нас",isDropdown:!0,children:[{name:"Команда",path:"/team"},{name:"Новости",path:"/news"},{name:"Вакансии",path:"/vacancies"},{name:"Оборудование",path:"/equipment"}]},{name:"Наши работы",path:"/gallery",preview:Ky},{name:"Акции",path:"/promotions",preview:null},{name:"Магазин",path:"/shop",preview:Gy},{name:"Подготовка к печати",path:"/preparation",preview:null}],n=Uy(),s=Te(null),r=Te({}),i=Te(!1);let a=null;const l=(d,p)=>{if(a&&clearTimeout(a),p.preview&&n.path!==p.path){const g=d.currentTarget.getBoundingClientRect(),C=g.left+g.width/2-320/2,R=g.bottom+20;r.value={top:`${R}px`,left:`${C}px`},s.value=p,i.value=!0}else i.value=!1,s.value=null},c=()=>{a=setTimeout(()=>{i.value=!1,s.value=null},300)},h=()=>{a&&clearTimeout(a)};return(d,p)=>{const g=$c("router-link"),w=$c("router-view");return nt(),ct("div",Wy,[S("header",Qy,[rt(g,{to:"/",class:"cursor-pointer"},{default:yt(()=>p[1]||(p[1]=[S("img",{src:N_,alt:"Логотип Red Panda",class:"h-10"},null,-1)])),_:1,__:[1]}),S("nav",null,[S("ul",Xy,[(nt(),ct(jt,null,gn(t,C=>S("li",{key:C.name,class:je(["relative",{dropdown:C.isDropdown}]),onMouseenter:R=>l(R,C),onMouseleave:c},[C.isDropdown?(nt(),ct("div",Jy,[mt(Kt(C.name)+" ",1),p[2]||(p[2]=S("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))])):(nt(),us(g,{key:0,to:C.path},{default:yt(()=>[mt(Kt(C.name),1)]),_:2},1032,["to"])),C.isDropdown?(nt(),ct("ul",Zy,[(nt(!0),ct(jt,null,gn(C.children,R=>(nt(),ct("li",{key:R.name},[rt(g,{to:R.path,class:"dropdown-item"},{default:yt(()=>[mt(Kt(R.name),1)]),_:2},1032,["to"])]))),128))])):pn("",!0)],42,Yy)),64))])])]),S("main",tv,[rt(w)]),S("footer",ev,[S("div",nv,[S("div",sv,[S("div",rv,[p[4]||(p[4]=Mn('<div class="flex items-center space-x-3" data-v-ea354a6c><img src="'+O_+'" alt="Логотип Red Panda" class="h-10" data-v-ea354a6c></div><div class="pt-2" data-v-ea354a6c><h3 class="font-semibold text-white text-h5-panda" data-v-ea354a6c>Подпишитесь на рассылку</h3><p class="text-sm text-dark-gray" data-v-ea354a6c>о будущих акциях</p></div>',2)),S("form",{class:"space-y-4 max-w-sm",onSubmit:p[0]||(p[0]=gl(()=>{},["prevent"]))},p[3]||(p[3]=[Mn('<input type="email" placeholder="Ваш email-адрес" class="w-full px-4 py-3 bg-transparent border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-panda-orange focus:ring-1 focus:ring-panda-orange" data-v-ea354a6c><div class="flex items-start" data-v-ea354a6c><input id="consent" type="checkbox" class="h-4 w-4 mt-1 bg-transparent rounded border-gray-500 text-panda-orange focus:ring-panda-orange focus:ring-offset-panda-black" data-v-ea354a6c><label for="consent" class="ml-3 text-xs" data-v-ea354a6c> Вы соглашаетесь на информационную рассылку. Отписаться можно в любое время. </label></div><button type="submit" class="w-full bg-white text-panda-black font-bold py-3 px-4 rounded-full hover:bg-gray-200 transition-colors" data-v-ea354a6c> Подписаться </button>',3)]),32)]),S("div",iv,[S("div",ov,[rt(Hy)]),p[5]||(p[5]=S("div",{class:"text-sm"},[S("p",null,"Астана, Шоссе Коргалжын, 6"),S("p",null,"ПН-ПТ 10:00-18:00")],-1))]),p[6]||(p[6]=Mn('<div class="flex flex-col items-start lg:items-end space-y-5 text-left lg:text-right" data-v-ea354a6c><div class="flex space-x-4" data-v-ea354a6c><div class="text-center" data-v-ea354a6c><img src="'+M_+'" alt="QR Code redpanda.kz" class="w-24 h-24 rounded-md p-1" data-v-ea354a6c><p class="text-md mt-1" data-v-ea354a6c>redpanda.kz</p></div><div class="text-center" data-v-ea354a6c><img src="'+L_+'" alt="QR Code redpandakz" class="w-24 h-24 rounded-md p-1" data-v-ea354a6c><p class="text-md mt-1" data-v-ea354a6c>redpandakz</p></div></div><div class="flex flex-wrap justify-start lg:justify-end gap-2" data-v-ea354a6c><a href="https://wa.me/77007257799" class="px-5 py-1.5 bg-gray-700 text-light-gray text-sm font-semibold border rounded-full hover:bg-gray-600 transition-colors" data-v-ea354a6c>Whatsapp</a><a href="https://www.instagram.com/redpandakz/" class="px-5 py-1.5 bg-gray-700 text-light-gray text-sm font-semibold border rounded-full hover:bg-gray-600 transition-colors" data-v-ea354a6c>Instagram</a><a href="https://2gis.kz/astana/firm/70000001067520759" class="px-5 py-1.5 bg-gray-700 text-light-gray text-sm font-semibold border rounded-full hover:bg-gray-600 transition-colors" data-v-ea354a6c>2GIS</a></div><div class="text-sm" data-v-ea354a6c><p data-v-ea354a6c>+7 (700) 725-77-99</p><p data-v-ea354a6c>infoprint@redpanda.kz</p><p data-v-ea354a6c>TOO «RED PANDA» БИН 221240030264</p></div></div>',1))])])]),rt(ad,{name:"preview"},{default:yt(()=>[i.value&&s.value?(nt(),us(g,{key:0,to:s.value.path,class:"preview-window",style:Gr(r.value),onMouseenter:h,onMouseleave:c},{default:yt(()=>[S("img",{src:s.value.preview,alt:"Page preview",class:"preview-image"},null,8,av)]),_:1},8,["to","style"])):pn("",!0)]),_:1})])}}},cv=ds(lv,[["__scopeId","data-v-ea354a6c"]]),uv="px-5 py-2.5 rounded-full inline-block text-center transition-colors duration-200 ease-in-out cursor-pointer",hv={__name:"BaseButton",props:{to:{type:String,default:null},href:{type:String,default:null},variant:{type:String,default:"fill-black"}},setup(e){const t=e,n=Ce(()=>t.to?"router-link":t.href?"a":"button"),s=Ce(()=>{switch(t.variant){case"stroke":return"bg-white text-panda-orange border-2 border-panda-orange hover:bg-panda-orange hover:text-light-gray";case"stroke-white":return"bg-white text-panda-black border border-gray-300 hover:bg-panda-orange hover:text-light-gray hover:border-panda-orange";case"gray":return"bg-gray text-dark-gray hover:bg-panda-orange hover:text-light-gray";case"fill-orange":return"bg-panda-orange text-light-gray hover:bg-panda-black";case"fill-black":default:return"bg-panda-black text-light-gray hover:bg-panda-orange"}});return(r,i)=>(nt(),us(fm(n.value),{to:e.to,href:e.href,class:je([uv,s.value,"text-button-panda font-semibold"])},{default:yt(()=>[Mf(r.$slots,"default",{},void 0,!0)]),_:3},8,["to","href","class"]))}},ye=ds(hv,[["__scopeId","data-v-fa329209"]]),fv={class:"flex items-center"},dv={class:"font-semibold text-panda-orange text-[18px] leading-[130%] mr-4 whitespace-nowrap uppercase"},pv={__name:"SectionHeader",setup(e){return(t,n)=>(nt(),ct("div",fv,[S("h2",dv,[Mf(t.$slots,"default",{},void 0)]),n[0]||(n[0]=S("div",{class:"flex-grow custom-dashed-line"},null,-1))]))}},Se=ds(pv,[["__scopeId","data-v-39c84625"]]),gv={class:"w-full border-collapse overflow-hidden"},mv=["onMouseenter"],_v={key:0,class:"font-semibold text-header-panda"},yv=["src","alt"],vv={__name:"ServicesGrid",setup(e){const t=[{id:"badges",name:"Бейджи",link:"/services/badges",previewImage:"https://optim.tildacdn.com/tild6139-3965-4432-b839-393363343431/-/format/webp/2.jpg.webp"},{id:"wobblers",name:"Воблеры",link:"/services/wobblers",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"envelopes",name:"Конверты",link:"/services/envelopes",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"stamps",name:"Печати",link:"/services/stamps",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"flyers",name:"Флаера",link:"/services/flyers",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"labels",name:"Ярлыки",link:"/services/labels",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"tickets",name:"Билеты",link:"/services/tickets",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"diplomas",name:"Дипломы",link:"/services/diplomas",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"leaflets",name:"Листовки",link:"/services/leaflets",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"posters",name:"Плакаты",link:"/services/posters",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"photobooks",name:"Фотобуки",link:"/services/photobooks",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"boxes",name:"Ящики",link:"/services/boxes",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"tags",name:"Бирки",link:"/services/tags",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"badges_2",name:"Значки",link:"/services/badges_2",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"menus",name:"Меню",link:"/services/menus",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"photoposters",name:"Фотопостеры",link:"/services/photoposters",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"tshirts",name:"Футболки",link:"/services/tshirts",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"forms",name:"Бланки",link:"/services/forms",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"instructions",name:"Инструкции",link:"/services/instructions",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"stickers",name:"Наклейки",link:"/services/stickers",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"presentations",name:"Презентации",link:"/services/presentations",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"canvases",name:"Холсты",link:"/services/canvases",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"hangers",name:"Хэнгеры",link:"/services/hangers",previewImage:"https://images.unsplash.com/photo-1562911791-c9a91f42d209?q=80&w=2070&auto=format&fit=crop"},{id:"notebooks",name:"Блокноты",link:"/services/notebooks",previewImage:"https://images.unsplash.com/photo-1586282393202-74d1c9483863?q=80&w=1974&auto=format&fit=crop"},{id:"calendars",name:"Календари",link:"/services/calendars",previewImage:"https://images.unsplash.com/photo-1542867657-162235e19759?q=80&w=1974&auto=format&fit=crop"},{id:"postcards",name:"Открытки",link:"/services/postcards",previewImage:"https://optim.tildacdn.com/tild3530-3435-4535-b839-613166636163/-/format/webp/4.jpg.webp"},{id:"invitations",name:"Приглашения",link:"/services/invitations",previewImage:"https://images.unsplash.com/photo-1533038590840-1cde6e668a91?q=80&w=1970&auto=format&fit=crop"},{id:"certificates",name:"Сертификаты",link:"/services/certificates",previewImage:"https://images.unsplash.com/photo-1579969406231-7521c79c8646?q=80&w=1969&auto=format&fit=crop"},{id:"price_tags",name:"Ценники",link:"/services/price_tags",previewImage:"https://images.unsplash.com/photo-1596701198433-40a2c3a51052?q=80&w=1974&auto=format&fit=crop"},{id:"brochures",name:"Брошюры",link:"/services/brochures",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"paintings",name:"Картины",link:"/services/paintings",previewImage:"https://images.unsplash.com/photo-1547891654-e66ed711b934?q=80&w=2070&auto=format&fit=crop"},{id:"packages",name:"Пакеты",link:"/services/packages",previewImage:"https://images.unsplash.com/photo-1576425345799-a1b74a3822d5?q=80&w=1974&auto=format&fit=crop"},{id:"souvenirs",name:"Сувениры",link:"/services/souvenirs",previewImage:"https://images.unsplash.com/photo-1614028591873-e3386e8a4a2a?q=80&w=2070&auto=format&fit=crop"},{id:"booklets",name:"Буклеты",link:"/services/booklets",previewImage:"https://images.unsplash.com/photo-1585749718443-41c3354b2344?q=80&w=2070&auto=format&fit=crop"},{id:"catalogs",name:"Каталоги",link:"/services/catalogs",previewImage:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974&auto=format&fit=crop"},{id:"folders",name:"Папки",link:"/services/folders",previewImage:"https://images.unsplash.com/photo-1588665753194-874a1742479d?q=80&w=1974&auto=format&fit=crop"},{id:"signs",name:"Таблички",link:"/services/signs",previewImage:"https://images.unsplash.com/photo-1562911791-c9a91f42d209?q=80&w=2070&auto=format&fit=crop"},{id:"business_cards",name:"Визитки",link:"/services/business_cards",previewImage:"https://images.unsplash.com/photo-1556742502-ec7c0e2424d8?q=80&w=1974&auto=format&fit=crop"},{id:"books",name:"Книги",link:"/services/books",previewImage:"https://images.unsplash.com/photo-1517842645767-c6f90415ad90?q=80&w=2070&auto=format&fit=crop"},{id:"plakaty_2",name:"Плакаты",link:"/services/plakaty_2",previewImage:"https://images.unsplash.com/photo-1604933235339-3543b5e4f71a?q=80&w=1974&auto=format&fit=crop"},{id:"stickers_2",name:"Этикетки",link:"/services/stickers_2",previewImage:"https://images.unsplash.com/photo-1620336224333-135b0210a6dd?q=80&w=2070&auto=format&fit=crop"}],n=[["Бейджи","Воблеры","Конверты","Печати","Флаера","Ярлыки"],["Билеты","Дипломы","Листовки","Плакаты","Фотобуки","Ящики"],["Бирки","Значки","Меню","Фотопостеры","Футболки",""],["Бланки","Инструкции","Наклейки","Презентации","Штампы",""],["Блокноты","Календари","Открытки","Приглашения","Холсты",""],["Брошюры","Картины","Пакеты","Сертификаты","Хэнгеры",""],["Буклеты","Каталоги","Папки","Сувениры","Ценники",""],["Визитки","Книги","Плакаты","Таблички","Этикетки",""]],s=Te(null),r=Te(null),i=l=>l?t.find(c=>c.name===l):null,a=(l,c)=>{const h=i(l);h&&(s.value=h,r.value=c.target.closest("td"))};return(l,c)=>(nt(),ct("div",{class:"relative",onMouseleave:c[0]||(c[0]=h=>{s.value=null,r.value=null})},[S("table",gv,[S("tbody",null,[(nt(),ct(jt,null,gn(n,(h,d)=>S("tr",{key:d},[(nt(!0),ct(jt,null,gn(h,(p,g)=>(nt(),ct("td",{key:g,class:je(["border p-3 h-12 text-left cursor-pointer transition-colors duration-200 ease-in-out",{"bg-panda-black text-light-gray":s.value&&s.value.name===p,"text-panda-black":!s.value||s.value.name!==p,"border-gray":d<n.length-1||g<h.length-1,"hover:bg-panda-black hover:text-panda-white":p}]),onMouseenter:w=>p&&a(p,w)},[p?(nt(),ct("span",_v,Kt(p),1)):pn("",!0)],42,mv))),128))])),64))])]),rt(ad,{"enter-active-class":"transition-opacity duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:yt(()=>[s.value&&r.value?(nt(),ct("div",{key:0,class:"absolute w-64 h-48 shadow-2xl pointer-events-none overflow-hidden z-10",style:Gr({top:r.value.offsetTop+"px",left:r.value.offsetLeft+r.value.offsetWidth+"px"})},[S("img",{src:s.value.previewImage,alt:s.value.name,class:"w-full h-full object-cover"},null,8,yv)],4)):pn("",!0)]),_:1})],32))}},Ev=ds(vv,[["__scopeId","data-v-e75aeab0"]]),wv={class:"py-10 md:py-25"},bv={class:"max-w-6xl mx-auto px-4"},Tv={class:"gap-page"},xv={class:"gap-page"},Iv={class:"form-wrapper"},Av={class:"form-body"},Cv={class:"form-group"},Rv={key:0,class:"error-message"},Sv={class:"form-group"},Pv={key:0,class:"error-message"},Vv={class:"form-group"},kv={key:0,class:"error-message"},Dv={class:"form-group"},Nv={class:"form-group"},Ov={key:0,class:"error-message"},Mv={class:"form-group"},Lv={key:0,class:"flex items-center justify-center"},Fv={key:1},$v={__name:"HomePage",setup(e){const t=cs({name:"",phone:"",email:"",company:"",task:"",promo:""}),n=cs({name:"",phone:"",email:"",task:""}),s=Te(!1),r=Te(""),i=Te("success"),a=Ce(()=>t.name&&!n.name&&t.phone&&!n.phone&&t.email&&!n.email&&t.task&&!n.task),l=(C,R="success")=>{r.value=C,i.value=R,setTimeout(()=>{r.value=""},5e3)},c=C=>/^[a-zA-Z0-9]([a-zA-Z0-9._-]*[a-zA-Z0-9])?@[a-zA-Z0-9]([a-zA-Z0-9.-]*[a-zA-Z0-9])?\.[a-zA-Z]{2,}$/.test(String(C).toLowerCase().trim()),h=C=>{const R=C.replace(/[\s\-()]/g,"");return[/^\+7[0-9]{10}$/,/^8[0-9]{10}$/,/^7[0-9]{10}$/,/^\+[1-9][0-9]{7,14}$/].some(D=>D.test(R))},d=()=>{let C=t.phone.replace(/\D/g,"");if(C.length>0&&(C.startsWith("8")&&(C="7"+C.slice(1)),C.startsWith("7")?C="+7"+C.slice(1):C.startsWith("+")||(C="+"+C),C.startsWith("+7")&&C.length>2)){const R=C.slice(2);R.length<=3?C=`+7 (${R}`:R.length<=6?C=`+7 (${R.slice(0,3)}) ${R.slice(3)}`:R.length<=8?C=`+7 (${R.slice(0,3)}) ${R.slice(3,6)}-${R.slice(6)}`:C=`+7 (${R.slice(0,3)}) ${R.slice(3,6)}-${R.slice(6,8)}-${R.slice(8,10)}`}t.phone=C,p("phone")},p=C=>{n[C]="";const R=t[C];switch(C){case"name":R?R.length<2&&(n.name="Имя должно содержать минимум 2 символа"):n.name="Пожалуйста, введите ваше имя";break;case"phone":R?h(R)||(n.phone="Введите корректный номер телефона"):n.phone="Пожалуйста, введите номер телефона";break;case"email":R?c(R)||(n.email="Введите корректный email адрес"):n.email="Пожалуйста, введите email адрес";break;case"task":R?R.length<10&&(n.task="Описание должно быть не менее 10 символов"):n.task="Пожалуйста, опишите задачу";break}return!n[C]},g=()=>["name","phone","email","task"].every(p),w=async()=>{if(!g()){l("Пожалуйста, исправьте ошибки в форме.","error");return}s.value=!0;try{const C=await fetch("/api/submit-form",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),R=await C.json();if(!C.ok)throw new Error(R.message||"Ошибка сервера");l(R.message,"success"),Object.keys(t).forEach(D=>t[D]="")}catch(C){console.error("Ошибка отправки формы:",C),l(C.message||"Ошибка соединения с сервером. Проверьте консоль.","error")}finally{s.value=!1}};return(C,R)=>(nt(),ct("main",wv,[S("div",bv,[S("section",Tv,[rt(Se,{class:"gap-container text-center"},{default:yt(()=>R[9]||(R[9]=[mt(" Все виды продукции от А до Я ")])),_:1,__:[9]}),R[10]||(R[10]=S("p",{class:"text-h5-panda text-dark-gray text-center max-w-3xl mx-auto mb-15"}," Мы — современное печатное агентство, которое предоставляет полный спектр полиграфических услуг. Наведите курсор на услугу в таблице ниже, чтобы увидеть краткий предпросмотр. ",-1)),rt(Ev)]),S("section",xv,[S("div",Iv,[R[12]||(R[12]=S("div",{class:"form-info"},[S("h2",{class:"text-h2-panda font-bold"},[mt("Расчёт"),S("br"),mt("стоимости")]),S("p",{class:"text-h5-panda font-medium"},[mt("С вами свяжется наш менеджер"),S("br"),mt("в ближайшее время. Спасибо, что"),S("br"),mt("обратились в наше печатное агентство!")])],-1)),S("div",Av,[S("form",{onSubmit:gl(w,["prevent"]),novalidate:""},[S("div",Cv,[un(S("input",{type:"text",placeholder:"Ваше имя",required:"","onUpdate:modelValue":R[0]||(R[0]=D=>t.name=D),onInput:R[1]||(R[1]=D=>p("name")),class:je({"border-panda-orange":n.name})},null,34),[[hn,t.name,void 0,{trim:!0}]]),n.name?(nt(),ct("div",Rv,Kt(n.name),1)):pn("",!0)]),S("div",Sv,[un(S("input",{type:"tel",placeholder:"Телефон",required:"","onUpdate:modelValue":R[2]||(R[2]=D=>t.phone=D),onInput:d,class:je({"border-panda-orange":n.phone})},null,34),[[hn,t.phone]]),n.phone?(nt(),ct("div",Pv,Kt(n.phone),1)):pn("",!0)]),S("div",Vv,[un(S("input",{type:"email",placeholder:"@email",required:"","onUpdate:modelValue":R[3]||(R[3]=D=>t.email=D),onInput:R[4]||(R[4]=D=>p("email")),class:je({"border-panda-orange":n.email})},null,34),[[hn,t.email,void 0,{trim:!0}]]),n.email?(nt(),ct("div",kv,Kt(n.email),1)):pn("",!0)]),S("div",Dv,[un(S("input",{type:"text",placeholder:"Компания","onUpdate:modelValue":R[5]||(R[5]=D=>t.company=D)},null,512),[[hn,t.company,void 0,{trim:!0}]])]),S("div",Nv,[un(S("textarea",{placeholder:"Опишите задачу",required:"","onUpdate:modelValue":R[6]||(R[6]=D=>t.task=D),onInput:R[7]||(R[7]=D=>p("task")),class:je({"border-panda-orange":n.task})},null,34),[[hn,t.task,void 0,{trim:!0}]]),n.task?(nt(),ct("div",Ov,Kt(n.task),1)):pn("",!0)]),S("div",Mv,[un(S("input",{type:"text",placeholder:"Промокод","onUpdate:modelValue":R[8]||(R[8]=D=>t.promo=D)},null,512),[[hn,t.promo,void 0,{trim:!0}]])]),rt(ye,{type:"submit",disabled:s.value||!a.value},{default:yt(()=>[s.value?(nt(),ct("div",Lv,R[11]||(R[11]=[S("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[S("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),S("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),mt(" Отправка... ")]))):(nt(),ct("span",Fv,"Отправить заявку"))]),_:1},8,["disabled"])],32)])]),r.value?(nt(),ct("div",{key:0,class:je(["success-message mt-5",[i.value==="success"?"bg-panda-green":"bg-red-500"]])},Kt(r.value),3)):pn("",!0)])])]))}},Bv=ds($v,[["__scopeId","data-v-227c27b1"]]),Uv={class:"py-10 md:py-25"},jv={class:"max-w-6xl mx-auto px-4"},qv={class:"flex flex-wrap gap-2 mb-10"},Hv={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},zv={class:"bg-light-gray rounded-lg overflow-hidden flex flex-col md:flex-row items-center p-6 gap-6"},Kv={class:"flex flex-col justify-center items-center md:items-start p-0 md:p-4 text-center md:text-left"},Gv={class:"bg-light-gray rounded-lg overflow-hidden flex flex-col md:flex-row items-center p-6 gap-6"},Wv={class:"flex flex-col justify-center items-center md:items-start p-0 md:p-4 text-center md:text-left"},Qv={key:1,class:"text-center py-10 text-dark-gray text-xl"},Xv={__name:"GalleryPage",setup(e){const t=cs([{id:"badges",name:"Бейджи и номерки"},{id:"notebooks",name:"Блокноты и тетради"},{id:"businessCards",name:"Визитки"},{id:"outdoorAdvertising",name:"Наружная реклама"},{id:"calendarsPlanners",name:"Календари и планеры"},{id:"boxesPackaging",name:"Коробки и Упаковка"},{id:"bags",name:"Пакеты"},{id:"souvenirs",name:"Сувенирная продукция"},{id:"merchGifts",name:"Мерч и подарки"},{id:"catalogsAlbums",name:"Каталоги и альбомы"},{id:"stickersLabels",name:"Наклейки и этикетки"},{id:"certificatesInvitations",name:"Сертификаты и пригласительные"},{id:"corporateIdentity",name:"Фирменный стиль"}]),n=Te("catalogsAlbums");return(s,r)=>(nt(),ct("main",Uv,[S("div",jv,[rt(Se,{class:"gap-container"},{default:yt(()=>r[0]||(r[0]=[mt(" Наши работы ")])),_:1,__:[0]}),r[9]||(r[9]=S("p",{class:"text-h5-panda text-dark-gray leading-relaxed text-center max-w-2xl mx-auto mb-10"},'Примеры наших проектов. Нажмите "Смотреть", чтобы увидеть детали.',-1)),S("div",qv,[(nt(!0),ct(jt,null,gn(t,i=>(nt(),us(ye,{key:i.id,onClick:a=>n.value=i.id,variant:n.value===i.id?"fill-orange":"gray"},{default:yt(()=>[mt(Kt(i.name),1)]),_:2},1032,["onClick","variant"]))),128))]),n.value==="catalogsAlbums"?(nt(),ct("div",Hv,[S("div",zv,[r[4]||(r[4]=S("img",{src:"https://placehold.co/250x200/F7F7F7/131C26?text=Каталог%20Лудэ-Каз",alt:"Каталог Лудэ-Каз",class:"w-full md:w-1/2 h-auto object-cover rounded-md"},null,-1)),S("div",Kv,[r[2]||(r[2]=S("h3",{class:"font-semibold text-panda-black text-h4-panda mb-2"},"Каталог «Лудэ-Каз»",-1)),r[3]||(r[3]=S("p",{class:"text-body-panda text-dark-gray mb-4"},"Каталог в фирменных цветах с нотками современного искусства.",-1)),rt(ye,{to:"/project-detail",variant:"fill-black"},{default:yt(()=>r[1]||(r[1]=[mt("Смотреть")])),_:1,__:[1]})])]),S("div",Gv,[r[8]||(r[8]=S("img",{src:"https://placehold.co/250x200/F7F7F7/131C26?text=Каталог%20Мир%20охоты",alt:"Каталог Мир охоты",class:"w-full md:w-1/2 h-auto object-cover rounded-md"},null,-1)),S("div",Wv,[r[6]||(r[6]=S("h3",{class:"font-semibold text-panda-black text-h4-panda mb-2"},"Каталог «Мир охоты»",-1)),r[7]||(r[7]=S("p",{class:"text-body-panda text-dark-gray mb-4"},"Музейный фонд охотничьего центра г. Костанай.",-1)),rt(ye,{to:"/project-detail",variant:"fill-black"},{default:yt(()=>r[5]||(r[5]=[mt("Смотреть")])),_:1,__:[5]})])])])):(nt(),ct("div",Qv,"Примеров для этой категории пока нет."))])]))}},Yv={class:"py-10 md:py-25"},Jv={class:"max-w-6xl mx-auto px-4"},Zv={class:"gap-page"},t0={class:"text-center mt-10"},e0={__name:"ProjectDetailPage",setup(e){return(t,n)=>(nt(),ct("main",Yv,[S("div",Jv,[S("section",null,[rt(Se,{class:"gap-container"},{default:yt(()=>n[0]||(n[0]=[mt(" Фирменный стиль для гостиницы Dostyk Lux ")])),_:1,__:[0]}),n[1]||(n[1]=Mn('<p class="text-h5-panda text-dark-gray leading-relaxed text-center max-w-2xl mx-auto mb-10">Современный стиль, с заботой о людях. Здесь представлены различные элементы разработанного фирменного стиля.</p><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="bg-light-gray rounded-lg overflow-hidden flex flex-col items-center"><img src="https://placehold.co/800x400/F7F7F7/131C26?text=Визитка%20Dostyk%20lux" alt="Визитка Dostyk lux" class="w-full h-auto object-cover"><div class="p-4 text-center"><h3 class="font-semibold text-panda-black text-h5-panda mb-1">Визитная карточка</h3><p class="text-body-panda text-dark-gray">Современный дизайн с акцентом на бренд.</p></div></div><div class="grid grid-cols-2 gap-4"><div class="bg-light-gray rounded-lg"><img src="https://placehold.co/400x200/F7F7F7/131C26?text=Ключ" alt="Ключ" class="w-full h-auto object-cover"><div class="p-2 text-center"><p class="text-small-panda text-dark-gray">Брелок для ключей</p></div></div><div class="bg-light-gray rounded-lg"><img src="https://placehold.co/400x200/F7F7F7/131C26?text=Календарь" alt="Календарь" class="w-full h-auto object-cover"><div class="p-2 text-center"><p class="text-small-panda text-dark-gray">Настольный календарь</p></div></div><div class="bg-light-gray rounded-lg"><img src="https://placehold.co/400x200/F7F7F7/131C26?text=Меню" alt="Меню" class="w-full h-auto object-cover"><div class="p-2 text-center"><p class="text-small-panda text-dark-gray">Дизайн меню</p></div></div><div class="bg-light-gray rounded-lg"><img src="https://placehold.co/400x200/F7F7F7/131C26?text=Табличка" alt="Табличка" class="w-full h-auto object-cover"><div class="p-2 text-center"><p class="text-small-panda text-dark-gray">Дверные таблички</p></div></div></div></div>',2))]),S("section",Zv,[rt(Se,{class:"gap-container"},{default:yt(()=>n[2]||(n[2]=[mt(" Дополнительные элементы стиля ")])),_:1,__:[2]}),n[4]||(n[4]=S("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},[S("img",{src:"https://placehold.co/600x400/F7F7F7/131C26?text=Рекламный%20макет",alt:"Рекламный макет",class:"w-full h-auto object-cover rounded-lg"}),S("img",{src:"https://placehold.co/600x400/F7F7F7/131C26?text=Набор%20фирменного%20стиля",alt:"Набор фирменного стиля",class:"w-full h-auto object-cover rounded-lg"}),S("img",{src:"https://placehold.co/600x400/F7F7F7/131C26?text=Пример%20вывески",alt:"Пример вывески",class:"w-full h-auto object-cover rounded-lg"})],-1)),S("div",t0,[rt(ye,{to:"/gallery",variant:"fill-black"},{default:yt(()=>n[3]||(n[3]=[mt("← Вернуться к нашим работам")])),_:1,__:[3]})])])])]))}},n0={class:"py-10 md:py-25"},s0={class:"max-w-6xl mx-auto px-4"},r0={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},i0={class:"bg-light-gray rounded-lg overflow-hidden"},o0={class:"p-4"},a0={class:"bg-light-gray rounded-lg overflow-hidden"},l0={class:"p-4"},c0={class:"bg-light-gray rounded-lg overflow-hidden"},u0={class:"p-4"},h0={__name:"ShopPage",setup(e){return(t,n)=>(nt(),ct("main",n0,[S("div",s0,[rt(Se,{class:"gap-container"},{default:yt(()=>n[0]||(n[0]=[mt(" Наш Магазин ")])),_:1,__:[0]}),n[16]||(n[16]=S("p",{class:"text-h5-panda text-dark-gray leading-relaxed text-center max-w-2xl mx-auto mb-10"},"Здесь вы найдете наши продукты и услуги. В будущем здесь будут динамически загружаться товары с ценами и возможностью добавления в корзину.",-1)),S("div",r0,[S("div",i0,[n[5]||(n[5]=S("img",{src:"https://placehold.co/400x300/F7F7F7/131C26?text=Товар%201",alt:"Товар 1",class:"w-full h-48 object-cover rounded-t-lg"},null,-1)),S("div",o0,[n[2]||(n[2]=S("h3",{class:"font-semibold text-panda-black text-h5-panda mb-1"},"Печать листовок",-1)),n[3]||(n[3]=S("p",{class:"text-small-panda text-dark-gray"},"От 1000 шт.",-1)),n[4]||(n[4]=S("p",{class:"font-bold text-panda-orange mt-2 text-body-panda"},"Цена: $50",-1)),rt(ye,{class:"mt-3"},{default:yt(()=>n[1]||(n[1]=[mt("В корзину")])),_:1,__:[1]})])]),S("div",a0,[n[10]||(n[10]=S("img",{src:"https://placehold.co/400x300/F7F7F7/131C26?text=Товар%202",alt:"Товар 2",class:"w-full h-48 object-cover rounded-t-lg"},null,-1)),S("div",l0,[n[7]||(n[7]=S("h3",{class:"font-semibold text-panda-black text-h5-panda mb-1"},"Дизайн логотипов",-1)),n[8]||(n[8]=S("p",{class:"text-small-panda text-dark-gray"},"Разработка уникального стиля.",-1)),n[9]||(n[9]=S("p",{class:"font-bold text-panda-orange mt-2 text-body-panda"},"Цена: $200",-1)),rt(ye,{class:"mt-3"},{default:yt(()=>n[6]||(n[6]=[mt("В корзину")])),_:1,__:[6]})])]),S("div",c0,[n[15]||(n[15]=S("img",{src:"https://placehold.co/400x300/F7F7F7/131C26?text=Товар%203",alt:"Товар 3",class:"w-full h-48 object-cover rounded-t-lg"},null,-1)),S("div",u0,[n[12]||(n[12]=S("h3",{class:"font-semibold text-panda-black text-h5-panda mb-1"},"Изготовление наклеек",-1)),n[13]||(n[13]=S("p",{class:"text-small-panda text-dark-gray"},"Виниловые, бумажные и др.",-1)),n[14]||(n[14]=S("p",{class:"font-bold text-panda-orange mt-2 text-body-panda"},"Цена: $30",-1)),rt(ye,{class:"mt-3"},{default:yt(()=>n[11]||(n[11]=[mt("В корзину")])),_:1,__:[11]})])])])])]))}},f0={class:"py-10 md:py-25"},d0={class:"max-w-6xl mx-auto px-4"},p0={class:"gap-page"},g0={__name:"TeamPage",setup(e){return(t,n)=>(nt(),ct("main",f0,[S("div",d0,[S("section",null,[rt(Se,{class:"gap-container"},{default:yt(()=>n[0]||(n[0]=[mt(" Наша команда ")])),_:1,__:[0]}),n[1]||(n[1]=Mn('<p class="text-h5-panda text-dark-gray leading-relaxed text-center max-w-2xl mx-auto mb-10">Познакомьтесь с нашей профессиональной командой. Мы - лучшие!</p><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><div class="bg-light-gray rounded-lg p-4 text-center"><img src="https://placehold.co/150x150/F7F7F7/131C26?text=Андрей" alt="Андрей Федорович" class="rounded-full w-32 h-32 mx-auto mb-4 object-cover"><h3 class="font-semibold text-panda-black text-xl mb-1">Андрей Федорович</h3><p class="text-sm text-dark-gray">Руководитель</p></div><div class="bg-light-gray rounded-lg p-4 text-center"><img src="https://placehold.co/150x150/F7F7F7/131C26?text=Светлана" alt="Светлана" class="rounded-full w-32 h-32 mx-auto mb-4 object-cover"><h3 class="font-semibold text-panda-black text-xl mb-1">Светлана</h3><p class="text-sm text-dark-gray">Менеджер по продажам</p></div><div class="bg-light-gray rounded-lg p-4 text-center"><img src="https://placehold.co/150x150/F7F7F7/131C26?text=Лаура" alt="Лаура" class="rounded-full w-32 h-32 mx-auto mb-4 object-cover"><h3 class="font-semibold text-panda-black text-xl mb-1">Лаура</h3><p class="text-sm text-dark-gray">Дизайнер</p></div><div class="bg-light-gray rounded-lg p-4 text-center"><img src="https://placehold.co/150x150/F7F7F7/131C26?text=Дмитрий" alt="Дмитрий" class="rounded-full w-32 h-32 mx-auto mb-4 object-cover"><h3 class="font-semibold text-panda-black text-xl mb-1">Дмитрий</h3><p class="text-sm text-dark-gray">Печатник</p></div></div>',2))]),S("section",p0,[rt(Se,{class:"gap-container"},{default:yt(()=>n[2]||(n[2]=[mt(" Наша история ")])),_:1,__:[2]}),n[3]||(n[3]=Mn('<div class="relative border-l-2 border-panda-orange pl-8 py-4"><div class="mb-8"><h3 class="font-semibold text-panda-black text-2xl">2024 Декабрь</h3><p class="text-lg text-dark-gray">Провели незабываемый корпоратив, завершивший успешный год.</p></div><div class="mb-8"><h3 class="font-semibold text-panda-black text-2xl">2023 Июнь</h3><p class="text-lg text-dark-gray">Расширение производства, закупка нового оборудования.</p></div><div class="mb-8"><h3 class="font-semibold text-panda-black text-2xl">2022 Февраль</h3><p class="text-lg text-dark-gray">Открытие первого филиала в другом городе.</p></div></div>',1))])])]))}},m0=()=>{};var Ou={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},_0=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const r=e[n++];if(r<128)t[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=e[n++];t[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=e[n++],a=e[n++],l=e[n++],c=((r&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;t[s++]=String.fromCharCode(55296+(c>>10)),t[s++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],a=e[n++];t[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63)}}return t.join("")},wd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<e.length;r+=3){const i=e[r],a=r+1<e.length,l=a?e[r+1]:0,c=r+2<e.length,h=c?e[r+2]:0,d=i>>2,p=(i&3)<<4|l>>4;let g=(l&15)<<2|h>>6,w=h&63;c||(w=64,a||(g=64)),s.push(n[d],n[p],n[g],n[w])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ed(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):_0(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<e.length;){const i=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,i==null||l==null||h==null||p==null)throw new y0;const g=i<<2|l>>4;if(s.push(g),h!==64){const w=l<<4&240|h>>2;if(s.push(w),p!==64){const C=h<<6&192|p;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class y0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v0=function(e){const t=Ed(e);return wd.encodeByteArray(t,!0)},qi=function(e){return v0(e).replace(/\./g,"")},E0=function(e){try{return wd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=()=>w0().__FIREBASE_DEFAULTS__,T0=()=>{if(typeof process>"u"||typeof Ou>"u")return;const e=Ou.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},x0=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&E0(e[1]);return t&&JSON.parse(t)},vl=()=>{try{return m0()||b0()||T0()||x0()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},I0=e=>{var t,n;return(n=(t=vl())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},A0=e=>{const t=I0(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},bd=()=>{var e;return(e=vl())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(e){return e.endsWith(".cloudworkstations.dev")}async function R0(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[qi(JSON.stringify(n)),qi(JSON.stringify(a)),""].join(".")}const Ar={};function P0(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ar))Ar[t]?e.emulator.push(t):e.prod.push(t);return e}function V0(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Mu=!1;function k0(e,t){if(typeof window>"u"||typeof document>"u"||!El(window.location.host)||Ar[e]===t||Ar[e]||Mu)return;Ar[e]=t;function n(g){return`__firebase__banner__${g}`}const s="__firebase__banner",i=P0().prod.length>0;function a(){const g=document.getElementById(s);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,w){g.setAttribute("width","24"),g.setAttribute("id",w),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Mu=!0,a()},g}function d(g,w){g.setAttribute("id",w),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=V0(s),w=n("text"),C=document.getElementById(w)||document.createElement("span"),R=n("learnmore"),D=document.getElementById(R)||document.createElement("a"),K=n("preprendIcon"),B=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const U=g.element;l(U),d(D,R);const q=h();c(B,K),U.append(B,C,D,q),document.body.appendChild(U)}i?(C.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N0(){var e;const t=(e=vl())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O0(){return!N0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M0(){try{return typeof indexedDB=="object"}catch{return!1}}function L0(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;t(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="FirebaseError";class Gs extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=F0,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Td.prototype.create)}}class Td{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},r=`${this.service}/${t}`,i=this.errors[t],a=i?$0(i,s):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Gs(r,l,s)}}function $0(e,t){return e.replace(B0,(n,s)=>{const r=t[s];return r!=null?String(r):`<${s}?>`})}const B0=/\{\$([^}]+)}/g;function Hi(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const r of n){if(!s.includes(r))return!1;const i=e[r],a=t[r];if(Lu(i)&&Lu(a)){if(!Hi(i,a))return!1}else if(i!==a)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Lu(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(e){return e&&e._delegate?e._delegate:e}class Ur{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new C0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(H0(t))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(t=ss){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ss){return this.instances.has(t)}getOptions(t=ss){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&a.resolve(r)}return r}onInit(t,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(t),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&t(a,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:q0(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ss){return this.component?this.component.multipleInstances?t:ss:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q0(e){return e===ss?void 0:e}function H0(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new j0(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Tt||(Tt={}));const K0={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},G0=Tt.INFO,W0={[Tt.DEBUG]:"log",[Tt.VERBOSE]:"log",[Tt.INFO]:"info",[Tt.WARN]:"warn",[Tt.ERROR]:"error"},Q0=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),r=W0[t];if(r)console[r](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xd{constructor(t){this.name=t,this._logLevel=G0,this._logHandler=Q0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Tt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?K0[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Tt.DEBUG,...t),this._logHandler(this,Tt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Tt.VERBOSE,...t),this._logHandler(this,Tt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Tt.INFO,...t),this._logHandler(this,Tt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Tt.WARN,...t),this._logHandler(this,Tt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Tt.ERROR,...t),this._logHandler(this,Tt.ERROR,...t)}}const X0=(e,t)=>t.some(n=>e instanceof n);let Fu,$u;function Y0(){return Fu||(Fu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J0(){return $u||($u=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Id=new WeakMap,Sa=new WeakMap,Ad=new WeakMap,ra=new WeakMap,wl=new WeakMap;function Z0(e){const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{n(Ln(e.result)),r()},a=()=>{s(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&Id.set(n,e)}).catch(()=>{}),wl.set(t,e),t}function t1(e){if(Sa.has(e))return;const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{n(),r()},a=()=>{s(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Sa.set(e,t)}let Pa={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Sa.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Ad.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ln(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function e1(e){Pa=e(Pa)}function n1(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(ia(this),t,...n);return Ad.set(s,t.sort?t.sort():[t]),Ln(s)}:J0().includes(e)?function(...t){return e.apply(ia(this),t),Ln(Id.get(this))}:function(...t){return Ln(e.apply(ia(this),t))}}function s1(e){return typeof e=="function"?n1(e):(e instanceof IDBTransaction&&t1(e),X0(e,Y0())?new Proxy(e,Pa):e)}function Ln(e){if(e instanceof IDBRequest)return Z0(e);if(ra.has(e))return ra.get(e);const t=s1(e);return t!==e&&(ra.set(e,t),wl.set(t,e)),t}const ia=e=>wl.get(e);function r1(e,t,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const a=indexedDB.open(e,t),l=Ln(a);return s&&a.addEventListener("upgradeneeded",c=>{s(Ln(a.result),c.oldVersion,c.newVersion,Ln(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const i1=["get","getKey","getAll","getAllKeys","count"],o1=["put","add","delete","clear"],oa=new Map;function Bu(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(oa.get(t))return oa.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=o1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||i1.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let h=c.store;return s&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&c.done]))[0]};return oa.set(t,i),i}e1(e=>({...e,get:(t,n,s)=>Bu(t,n)||e.get(t,n,s),has:(t,n)=>!!Bu(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(l1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function l1(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Va="@firebase/app",Uu="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn=new xd("@firebase/app"),c1="@firebase/app-compat",u1="@firebase/analytics-compat",h1="@firebase/analytics",f1="@firebase/app-check-compat",d1="@firebase/app-check",p1="@firebase/auth",g1="@firebase/auth-compat",m1="@firebase/database",_1="@firebase/data-connect",y1="@firebase/database-compat",v1="@firebase/functions",E1="@firebase/functions-compat",w1="@firebase/installations",b1="@firebase/installations-compat",T1="@firebase/messaging",x1="@firebase/messaging-compat",I1="@firebase/performance",A1="@firebase/performance-compat",C1="@firebase/remote-config",R1="@firebase/remote-config-compat",S1="@firebase/storage",P1="@firebase/storage-compat",V1="@firebase/firestore",k1="@firebase/ai",D1="@firebase/firestore-compat",N1="firebase",O1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]",M1={[Va]:"fire-core",[c1]:"fire-core-compat",[h1]:"fire-analytics",[u1]:"fire-analytics-compat",[d1]:"fire-app-check",[f1]:"fire-app-check-compat",[p1]:"fire-auth",[g1]:"fire-auth-compat",[m1]:"fire-rtdb",[_1]:"fire-data-connect",[y1]:"fire-rtdb-compat",[v1]:"fire-fn",[E1]:"fire-fn-compat",[w1]:"fire-iid",[b1]:"fire-iid-compat",[T1]:"fire-fcm",[x1]:"fire-fcm-compat",[I1]:"fire-perf",[A1]:"fire-perf-compat",[C1]:"fire-rc",[R1]:"fire-rc-compat",[S1]:"fire-gcs",[P1]:"fire-gcs-compat",[V1]:"fire-fst",[D1]:"fire-fst-compat",[k1]:"fire-vertex","fire-js":"fire-js",[N1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Map,L1=new Map,Da=new Map;function ju(e,t){try{e.container.addComponent(t)}catch(n){yn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ki(e){const t=e.name;if(Da.has(t))return yn.debug(`There were multiple attempts to register component ${t}.`),!1;Da.set(t,e);for(const n of zi.values())ju(n,e);for(const n of L1.values())ju(n,e);return!0}function F1(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function $1(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fn=new Td("app","Firebase",B1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=O1;function Cd(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:ka,automaticDataCollectionEnabled:!0},t),r=s.name;if(typeof r!="string"||!r)throw Fn.create("bad-app-name",{appName:String(r)});if(n||(n=bd()),!n)throw Fn.create("no-options");const i=zi.get(r);if(i){if(Hi(n,i.options)&&Hi(s,i.config))return i;throw Fn.create("duplicate-app",{appName:r})}const a=new z0(r);for(const c of Da.values())a.addComponent(c);const l=new U1(n,s,a);return zi.set(r,l),l}function q1(e=ka){const t=zi.get(e);if(!t&&e===ka&&bd())return Cd();if(!t)throw Fn.create("no-app",{appName:e});return t}function Ns(e,t,n){var s;let r=(s=M1[e])!==null&&s!==void 0?s:e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${t}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yn.warn(l.join(" "));return}Ki(new Ur(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firebase-heartbeat-database",z1=1,jr="firebase-heartbeat-store";let aa=null;function Rd(){return aa||(aa=r1(H1,z1,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(jr)}catch(n){console.warn(n)}}}}).catch(e=>{throw Fn.create("idb-open",{originalErrorMessage:e.message})})),aa}async function K1(e){try{const n=(await Rd()).transaction(jr),s=await n.objectStore(jr).get(Sd(e));return await n.done,s}catch(t){if(t instanceof Gs)yn.warn(t.message);else{const n=Fn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});yn.warn(n.message)}}}async function qu(e,t){try{const s=(await Rd()).transaction(jr,"readwrite");await s.objectStore(jr).put(t,Sd(e)),await s.done}catch(n){if(n instanceof Gs)yn.warn(n.message);else{const s=Fn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yn.warn(s.message)}}}function Sd(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=1024,W1=30;class Q1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Y1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Hu();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>W1){const a=J1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){yn.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hu(),{heartbeatsToSend:s,unsentEntries:r}=X1(this._heartbeatsCache.heartbeats),i=qi(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return yn.warn(n),""}}}function Hu(){return new Date().toISOString().substring(0,10)}function X1(e,t=G1){const n=[];let s=e.slice();for(const r of e){const i=n.find(a=>a.agent===r.agent);if(i){if(i.dates.push(r.date),zu(n)>t){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),zu(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Y1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M0()?L0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return qu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return qu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function zu(e){return qi(JSON.stringify({version:2,heartbeats:e})).length}function J1(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(e){Ki(new Ur("platform-logger",t=>new a1(t),"PRIVATE")),Ki(new Ur("heartbeat",t=>new Q1(t),"PRIVATE")),Ns(Va,Uu,e),Ns(Va,Uu,"esm2017"),Ns("fire-js","")}Z1("");var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $n,Pd;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,v){function _(){}_.prototype=v.prototype,A.D=v.prototype,A.prototype=new _,A.prototype.constructor=A,A.C=function(x,I,T){for(var E=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)E[Vt-2]=arguments[Vt];return v.prototype[I].apply(x,E)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,v,_){_||(_=0);var x=Array(16);if(typeof v=="string")for(var I=0;16>I;++I)x[I]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(I=0;16>I;++I)x[I]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=A.g[0],_=A.g[1],I=A.g[2];var T=A.g[3],E=v+(T^_&(I^T))+x[0]+3614090360&4294967295;v=_+(E<<7&4294967295|E>>>25),E=T+(I^v&(_^I))+x[1]+3905402710&4294967295,T=v+(E<<12&4294967295|E>>>20),E=I+(_^T&(v^_))+x[2]+606105819&4294967295,I=T+(E<<17&4294967295|E>>>15),E=_+(v^I&(T^v))+x[3]+3250441966&4294967295,_=I+(E<<22&4294967295|E>>>10),E=v+(T^_&(I^T))+x[4]+4118548399&4294967295,v=_+(E<<7&4294967295|E>>>25),E=T+(I^v&(_^I))+x[5]+1200080426&4294967295,T=v+(E<<12&4294967295|E>>>20),E=I+(_^T&(v^_))+x[6]+2821735955&4294967295,I=T+(E<<17&4294967295|E>>>15),E=_+(v^I&(T^v))+x[7]+4249261313&4294967295,_=I+(E<<22&4294967295|E>>>10),E=v+(T^_&(I^T))+x[8]+1770035416&4294967295,v=_+(E<<7&4294967295|E>>>25),E=T+(I^v&(_^I))+x[9]+2336552879&4294967295,T=v+(E<<12&4294967295|E>>>20),E=I+(_^T&(v^_))+x[10]+4294925233&4294967295,I=T+(E<<17&4294967295|E>>>15),E=_+(v^I&(T^v))+x[11]+2304563134&4294967295,_=I+(E<<22&4294967295|E>>>10),E=v+(T^_&(I^T))+x[12]+1804603682&4294967295,v=_+(E<<7&4294967295|E>>>25),E=T+(I^v&(_^I))+x[13]+4254626195&4294967295,T=v+(E<<12&4294967295|E>>>20),E=I+(_^T&(v^_))+x[14]+2792965006&4294967295,I=T+(E<<17&4294967295|E>>>15),E=_+(v^I&(T^v))+x[15]+1236535329&4294967295,_=I+(E<<22&4294967295|E>>>10),E=v+(I^T&(_^I))+x[1]+4129170786&4294967295,v=_+(E<<5&4294967295|E>>>27),E=T+(_^I&(v^_))+x[6]+3225465664&4294967295,T=v+(E<<9&4294967295|E>>>23),E=I+(v^_&(T^v))+x[11]+643717713&4294967295,I=T+(E<<14&4294967295|E>>>18),E=_+(T^v&(I^T))+x[0]+3921069994&4294967295,_=I+(E<<20&4294967295|E>>>12),E=v+(I^T&(_^I))+x[5]+3593408605&4294967295,v=_+(E<<5&4294967295|E>>>27),E=T+(_^I&(v^_))+x[10]+38016083&4294967295,T=v+(E<<9&4294967295|E>>>23),E=I+(v^_&(T^v))+x[15]+3634488961&4294967295,I=T+(E<<14&4294967295|E>>>18),E=_+(T^v&(I^T))+x[4]+3889429448&4294967295,_=I+(E<<20&4294967295|E>>>12),E=v+(I^T&(_^I))+x[9]+568446438&4294967295,v=_+(E<<5&4294967295|E>>>27),E=T+(_^I&(v^_))+x[14]+3275163606&4294967295,T=v+(E<<9&4294967295|E>>>23),E=I+(v^_&(T^v))+x[3]+4107603335&4294967295,I=T+(E<<14&4294967295|E>>>18),E=_+(T^v&(I^T))+x[8]+1163531501&4294967295,_=I+(E<<20&4294967295|E>>>12),E=v+(I^T&(_^I))+x[13]+2850285829&4294967295,v=_+(E<<5&4294967295|E>>>27),E=T+(_^I&(v^_))+x[2]+4243563512&4294967295,T=v+(E<<9&4294967295|E>>>23),E=I+(v^_&(T^v))+x[7]+1735328473&4294967295,I=T+(E<<14&4294967295|E>>>18),E=_+(T^v&(I^T))+x[12]+2368359562&4294967295,_=I+(E<<20&4294967295|E>>>12),E=v+(_^I^T)+x[5]+4294588738&4294967295,v=_+(E<<4&4294967295|E>>>28),E=T+(v^_^I)+x[8]+2272392833&4294967295,T=v+(E<<11&4294967295|E>>>21),E=I+(T^v^_)+x[11]+1839030562&4294967295,I=T+(E<<16&4294967295|E>>>16),E=_+(I^T^v)+x[14]+4259657740&4294967295,_=I+(E<<23&4294967295|E>>>9),E=v+(_^I^T)+x[1]+2763975236&4294967295,v=_+(E<<4&4294967295|E>>>28),E=T+(v^_^I)+x[4]+1272893353&4294967295,T=v+(E<<11&4294967295|E>>>21),E=I+(T^v^_)+x[7]+4139469664&4294967295,I=T+(E<<16&4294967295|E>>>16),E=_+(I^T^v)+x[10]+3200236656&4294967295,_=I+(E<<23&4294967295|E>>>9),E=v+(_^I^T)+x[13]+681279174&4294967295,v=_+(E<<4&4294967295|E>>>28),E=T+(v^_^I)+x[0]+3936430074&4294967295,T=v+(E<<11&4294967295|E>>>21),E=I+(T^v^_)+x[3]+3572445317&4294967295,I=T+(E<<16&4294967295|E>>>16),E=_+(I^T^v)+x[6]+76029189&4294967295,_=I+(E<<23&4294967295|E>>>9),E=v+(_^I^T)+x[9]+3654602809&4294967295,v=_+(E<<4&4294967295|E>>>28),E=T+(v^_^I)+x[12]+3873151461&4294967295,T=v+(E<<11&4294967295|E>>>21),E=I+(T^v^_)+x[15]+530742520&4294967295,I=T+(E<<16&4294967295|E>>>16),E=_+(I^T^v)+x[2]+3299628645&4294967295,_=I+(E<<23&4294967295|E>>>9),E=v+(I^(_|~T))+x[0]+4096336452&4294967295,v=_+(E<<6&4294967295|E>>>26),E=T+(_^(v|~I))+x[7]+1126891415&4294967295,T=v+(E<<10&4294967295|E>>>22),E=I+(v^(T|~_))+x[14]+2878612391&4294967295,I=T+(E<<15&4294967295|E>>>17),E=_+(T^(I|~v))+x[5]+4237533241&4294967295,_=I+(E<<21&4294967295|E>>>11),E=v+(I^(_|~T))+x[12]+1700485571&4294967295,v=_+(E<<6&4294967295|E>>>26),E=T+(_^(v|~I))+x[3]+2399980690&4294967295,T=v+(E<<10&4294967295|E>>>22),E=I+(v^(T|~_))+x[10]+4293915773&4294967295,I=T+(E<<15&4294967295|E>>>17),E=_+(T^(I|~v))+x[1]+2240044497&4294967295,_=I+(E<<21&4294967295|E>>>11),E=v+(I^(_|~T))+x[8]+1873313359&4294967295,v=_+(E<<6&4294967295|E>>>26),E=T+(_^(v|~I))+x[15]+4264355552&4294967295,T=v+(E<<10&4294967295|E>>>22),E=I+(v^(T|~_))+x[6]+2734768916&4294967295,I=T+(E<<15&4294967295|E>>>17),E=_+(T^(I|~v))+x[13]+1309151649&4294967295,_=I+(E<<21&4294967295|E>>>11),E=v+(I^(_|~T))+x[4]+4149444226&4294967295,v=_+(E<<6&4294967295|E>>>26),E=T+(_^(v|~I))+x[11]+3174756917&4294967295,T=v+(E<<10&4294967295|E>>>22),E=I+(v^(T|~_))+x[2]+718787259&4294967295,I=T+(E<<15&4294967295|E>>>17),E=_+(T^(I|~v))+x[9]+3951481745&4294967295,A.g[0]=A.g[0]+v&4294967295,A.g[1]=A.g[1]+(I+(E<<21&4294967295|E>>>11))&4294967295,A.g[2]=A.g[2]+I&4294967295,A.g[3]=A.g[3]+T&4294967295}s.prototype.u=function(A,v){v===void 0&&(v=A.length);for(var _=v-this.blockSize,x=this.B,I=this.h,T=0;T<v;){if(I==0)for(;T<=_;)r(this,A,T),T+=this.blockSize;if(typeof A=="string"){for(;T<v;)if(x[I++]=A.charCodeAt(T++),I==this.blockSize){r(this,x),I=0;break}}else for(;T<v;)if(x[I++]=A[T++],I==this.blockSize){r(this,x),I=0;break}}this.h=I,this.o+=v},s.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var v=1;v<A.length-8;++v)A[v]=0;var _=8*this.o;for(v=A.length-8;v<A.length;++v)A[v]=_&255,_/=256;for(this.u(A),A=Array(16),v=_=0;4>v;++v)for(var x=0;32>x;x+=8)A[_++]=this.g[v]>>>x&255;return A};function i(A,v){var _=l;return Object.prototype.hasOwnProperty.call(_,A)?_[A]:_[A]=v(A)}function a(A,v){this.h=v;for(var _=[],x=!0,I=A.length-1;0<=I;I--){var T=A[I]|0;x&&T==v||(_[I]=T,x=!1)}this.g=_}var l={};function c(A){return-128<=A&&128>A?i(A,function(v){return new a([v|0],0>v?-1:0)}):new a([A|0],0>A?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return p;if(0>A)return D(h(-A));for(var v=[],_=1,x=0;A>=_;x++)v[x]=A/_|0,_*=4294967296;return new a(v,0)}function d(A,v){if(A.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(A.charAt(0)=="-")return D(d(A.substring(1),v));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=h(Math.pow(v,8)),x=p,I=0;I<A.length;I+=8){var T=Math.min(8,A.length-I),E=parseInt(A.substring(I,I+T),v);8>T?(T=h(Math.pow(v,T)),x=x.j(T).add(h(E))):(x=x.j(_),x=x.add(h(E)))}return x}var p=c(0),g=c(1),w=c(16777216);e=a.prototype,e.m=function(){if(R(this))return-D(this).m();for(var A=0,v=1,_=0;_<this.g.length;_++){var x=this.i(_);A+=(0<=x?x:4294967296+x)*v,v*=4294967296}return A},e.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C(this))return"0";if(R(this))return"-"+D(this).toString(A);for(var v=h(Math.pow(A,6)),_=this,x="";;){var I=q(_,v).g;_=K(_,I.j(v));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(A);if(_=I,C(_))return T+x;for(;6>T.length;)T="0"+T;x=T+x}},e.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function C(A){if(A.h!=0)return!1;for(var v=0;v<A.g.length;v++)if(A.g[v]!=0)return!1;return!0}function R(A){return A.h==-1}e.l=function(A){return A=K(this,A),R(A)?-1:C(A)?0:1};function D(A){for(var v=A.g.length,_=[],x=0;x<v;x++)_[x]=~A.g[x];return new a(_,~A.h).add(g)}e.abs=function(){return R(this)?D(this):this},e.add=function(A){for(var v=Math.max(this.g.length,A.g.length),_=[],x=0,I=0;I<=v;I++){var T=x+(this.i(I)&65535)+(A.i(I)&65535),E=(T>>>16)+(this.i(I)>>>16)+(A.i(I)>>>16);x=E>>>16,T&=65535,E&=65535,_[I]=E<<16|T}return new a(_,_[_.length-1]&-2147483648?-1:0)};function K(A,v){return A.add(D(v))}e.j=function(A){if(C(this)||C(A))return p;if(R(this))return R(A)?D(this).j(D(A)):D(D(this).j(A));if(R(A))return D(this.j(D(A)));if(0>this.l(w)&&0>A.l(w))return h(this.m()*A.m());for(var v=this.g.length+A.g.length,_=[],x=0;x<2*v;x++)_[x]=0;for(x=0;x<this.g.length;x++)for(var I=0;I<A.g.length;I++){var T=this.i(x)>>>16,E=this.i(x)&65535,Vt=A.i(I)>>>16,Qt=A.i(I)&65535;_[2*x+2*I]+=E*Qt,B(_,2*x+2*I),_[2*x+2*I+1]+=T*Qt,B(_,2*x+2*I+1),_[2*x+2*I+1]+=E*Vt,B(_,2*x+2*I+1),_[2*x+2*I+2]+=T*Vt,B(_,2*x+2*I+2)}for(x=0;x<v;x++)_[x]=_[2*x+1]<<16|_[2*x];for(x=v;x<2*v;x++)_[x]=0;return new a(_,0)};function B(A,v){for(;(A[v]&65535)!=A[v];)A[v+1]+=A[v]>>>16,A[v]&=65535,v++}function U(A,v){this.g=A,this.h=v}function q(A,v){if(C(v))throw Error("division by zero");if(C(A))return new U(p,p);if(R(A))return v=q(D(A),v),new U(D(v.g),D(v.h));if(R(v))return v=q(A,D(v)),new U(D(v.g),v.h);if(30<A.g.length){if(R(A)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var _=g,x=v;0>=x.l(A);)_=ht(_),x=ht(x);var I=ut(_,1),T=ut(x,1);for(x=ut(x,2),_=ut(_,2);!C(x);){var E=T.add(x);0>=E.l(A)&&(I=I.add(_),T=E),x=ut(x,1),_=ut(_,1)}return v=K(A,I.j(v)),new U(I,v)}for(I=p;0<=A.l(v);){for(_=Math.max(1,Math.floor(A.m()/v.m())),x=Math.ceil(Math.log(_)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),T=h(_),E=T.j(v);R(E)||0<E.l(A);)_-=x,T=h(_),E=T.j(v);C(T)&&(T=g),I=I.add(T),A=K(A,E)}return new U(I,A)}e.A=function(A){return q(this,A).h},e.and=function(A){for(var v=Math.max(this.g.length,A.g.length),_=[],x=0;x<v;x++)_[x]=this.i(x)&A.i(x);return new a(_,this.h&A.h)},e.or=function(A){for(var v=Math.max(this.g.length,A.g.length),_=[],x=0;x<v;x++)_[x]=this.i(x)|A.i(x);return new a(_,this.h|A.h)},e.xor=function(A){for(var v=Math.max(this.g.length,A.g.length),_=[],x=0;x<v;x++)_[x]=this.i(x)^A.i(x);return new a(_,this.h^A.h)};function ht(A){for(var v=A.g.length+1,_=[],x=0;x<v;x++)_[x]=A.i(x)<<1|A.i(x-1)>>>31;return new a(_,A.h)}function ut(A,v){var _=v>>5;v%=32;for(var x=A.g.length-_,I=[],T=0;T<x;T++)I[T]=0<v?A.i(T+_)>>>v|A.i(T+_+1)<<32-v:A.i(T+_);return new a(I,A.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Pd=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,$n=a}).apply(typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{});var Ei=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vd,gr,kd,ki,Na,Dd,Nd,Od;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){return o==Array.prototype||o==Object.prototype||(o[u]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ei=="object"&&Ei];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var s=n(this);function r(o,u){if(u)t:{var f=s;o=o.split(".");for(var m=0;m<o.length-1;m++){var V=o[m];if(!(V in f))break t;f=f[V]}o=o[o.length-1],m=f[o],u=u(m),u!=m&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function i(o,u){o instanceof String&&(o+="");var f=0,m=!1,V={next:function(){if(!m&&f<o.length){var k=f++;return{value:u(k,o[k]),done:!1}}return m=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}r("Array.prototype.values",function(o){return o||function(){return i(this,function(u,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function h(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function d(o,u,f){return o.call.apply(o.bind,arguments)}function p(o,u,f){if(!o)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,m),o.apply(u,V)}}return function(){return o.apply(u,arguments)}}function g(o,u,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function w(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),o.apply(this,m)}}function C(o,u){function f(){}f.prototype=u.prototype,o.aa=u.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(m,V,k){for(var z=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)z[kt-2]=arguments[kt];return u.prototype[V].apply(m,z)}}function R(o){const u=o.length;if(0<u){const f=Array(u);for(let m=0;m<u;m++)f[m]=o[m];return f}return[]}function D(o,u){for(let f=1;f<arguments.length;f++){const m=arguments[f];if(c(m)){const V=o.length||0,k=m.length||0;o.length=V+k;for(let z=0;z<k;z++)o[V+z]=m[z]}else o.push(m)}}class K{constructor(u,f){this.i=u,this.j=f,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function B(o){return/^[\s\xa0]*$/.test(o)}function U(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function q(o){return q[" "](o),o}q[" "]=function(){};var ht=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function ut(o,u,f){for(const m in o)u.call(f,o[m],m,o)}function A(o,u){for(const f in o)u.call(void 0,o[f],f,o)}function v(o){const u={};for(const f in o)u[f]=o[f];return u}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(o,u){let f,m;for(let V=1;V<arguments.length;V++){m=arguments[V];for(f in m)o[f]=m[f];for(let k=0;k<_.length;k++)f=_[k],Object.prototype.hasOwnProperty.call(m,f)&&(o[f]=m[f])}}function I(o){var u=1;o=o.split(":");const f=[];for(;0<u&&o.length;)f.push(o.shift()),u--;return o.length&&f.push(o.join(":")),f}function T(o){l.setTimeout(()=>{throw o},0)}function E(){var o=Pe;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class Vt{constructor(){this.h=this.g=null}add(u,f){const m=Qt.get();m.set(u,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Qt=new K(()=>new Lt,o=>o.reset());class Lt{constructor(){this.next=this.g=this.h=null}set(u,f){this.h=u,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Et,vt=!1,Pe=new Vt,Be=()=>{const o=l.Promise.resolve(void 0);Et=()=>{o.then(Ne)}};var Ne=()=>{for(var o;o=E();){try{o.h.call(o.g)}catch(f){T(f)}var u=Qt;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}vt=!1};function Ft(){this.s=this.s,this.C=this.C}Ft.prototype.s=!1,Ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $t(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}$t.prototype.h=function(){this.defaultPrevented=!0};var bn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,u),l.removeEventListener("test",f,u)}catch{}return o}();function Ke(o,u){if($t.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,m=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(ht){t:{try{q(u.nodeName);var V=!0;break t}catch{}V=!1}V||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:xe[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Ke.aa.h.call(this)}}C(Ke,$t);var xe={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var N="closure_listenable_"+(1e6*Math.random()|0),Y=0;function X(o,u,f,m,V){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!m,this.ha=V,this.key=++Y,this.da=this.fa=!1}function Z(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function At(o){this.src=o,this.g={},this.h=0}At.prototype.add=function(o,u,f,m,V){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var z=b(o,u,m,V);return-1<z?(u=o[z],f||(u.fa=!1)):(u=new X(u,this.src,k,!!m,V),u.fa=f,o.push(u)),u};function y(o,u){var f=u.type;if(f in o.g){var m=o.g[f],V=Array.prototype.indexOf.call(m,u,void 0),k;(k=0<=V)&&Array.prototype.splice.call(m,V,1),k&&(Z(u),o.g[f].length==0&&(delete o.g[f],o.h--))}}function b(o,u,f,m){for(var V=0;V<o.length;++V){var k=o[V];if(!k.da&&k.listener==u&&k.capture==!!f&&k.ha==m)return V}return-1}var P="closure_lm_"+(1e6*Math.random()|0),O={};function F(o,u,f,m,V){if(Array.isArray(u)){for(var k=0;k<u.length;k++)F(o,u[k],f,m,V);return null}return f=at(f),o&&o[N]?o.K(u,f,h(m)?!!m.capture:!1,V):M(o,u,f,!1,m,V)}function M(o,u,f,m,V,k){if(!u)throw Error("Invalid event type");var z=h(V)?!!V.capture:!!V,kt=G(o);if(kt||(o[P]=kt=new At(o)),f=kt.add(u,f,m,z,k),f.proxy)return f;if(m=Q(),f.proxy=m,m.src=o,m.listener=f,o.addEventListener)bn||(V=z),V===void 0&&(V=!1),o.addEventListener(u.toString(),m,V);else if(o.attachEvent)o.attachEvent($(u.toString()),m);else if(o.addListener&&o.removeListener)o.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Q(){function o(f){return u.call(o.src,o.listener,f)}const u=et;return o}function H(o,u,f,m,V){if(Array.isArray(u))for(var k=0;k<u.length;k++)H(o,u[k],f,m,V);else m=h(m)?!!m.capture:!!m,f=at(f),o&&o[N]?(o=o.i,u=String(u).toString(),u in o.g&&(k=o.g[u],f=b(k,f,m,V),-1<f&&(Z(k[f]),Array.prototype.splice.call(k,f,1),k.length==0&&(delete o.g[u],o.h--)))):o&&(o=G(o))&&(u=o.g[u.toString()],o=-1,u&&(o=b(u,f,m,V)),(f=-1<o?u[o]:null)&&j(f))}function j(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[N])y(u.i,o);else{var f=o.type,m=o.proxy;u.removeEventListener?u.removeEventListener(f,m,o.capture):u.detachEvent?u.detachEvent($(f),m):u.addListener&&u.removeListener&&u.removeListener(m),(f=G(u))?(y(f,o),f.h==0&&(f.src=null,u[P]=null)):Z(o)}}}function $(o){return o in O?O[o]:O[o]="on"+o}function et(o,u){if(o.da)o=!0;else{u=new Ke(u,this);var f=o.listener,m=o.ha||o.src;o.fa&&j(o),o=f.call(m,u)}return o}function G(o){return o=o[P],o instanceof At?o:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function at(o){return typeof o=="function"?o:(o[tt]||(o[tt]=function(u){return o.handleEvent(u)}),o[tt])}function st(){Ft.call(this),this.i=new At(this),this.M=this,this.F=null}C(st,Ft),st.prototype[N]=!0,st.prototype.removeEventListener=function(o,u,f,m){H(this,o,u,f,m)};function gt(o,u){var f,m=o.F;if(m)for(f=[];m;m=m.F)f.push(m);if(o=o.M,m=u.type||u,typeof u=="string")u=new $t(u,o);else if(u instanceof $t)u.target=u.target||o;else{var V=u;u=new $t(m,o),x(u,V)}if(V=!0,f)for(var k=f.length-1;0<=k;k--){var z=u.g=f[k];V=wt(z,m,!0,u)&&V}if(z=u.g=o,V=wt(z,m,!0,u)&&V,V=wt(z,m,!1,u)&&V,f)for(k=0;k<f.length;k++)z=u.g=f[k],V=wt(z,m,!1,u)&&V}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var f=o.g[u],m=0;m<f.length;m++)Z(f[m]);delete o.g[u],o.h--}}this.F=null},st.prototype.K=function(o,u,f,m){return this.i.add(String(o),u,!1,f,m)},st.prototype.L=function(o,u,f,m){return this.i.add(String(o),u,!0,f,m)};function wt(o,u,f,m){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var V=!0,k=0;k<u.length;++k){var z=u[k];if(z&&!z.da&&z.capture==f){var kt=z.listener,re=z.ha||z.src;z.fa&&y(o.i,z),V=kt.call(re,m)!==!1&&V}}return V&&!m.defaultPrevented}function ee(o,u,f){if(typeof o=="function")f&&(o=g(o,f));else if(o&&typeof o.handleEvent=="function")o=g(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function ne(o){o.g=ee(()=>{o.g=null,o.i&&(o.i=!1,ne(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class Oe extends Ft{constructor(u,f){super(),this.m=u,this.l=f,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:ne(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ce(o){Ft.call(this),this.h=o,this.g={}}C(ce,Ft);var Tn=[];function Js(o){ut(o.g,function(u,f){this.g.hasOwnProperty(f)&&j(u)},o),o.g={}}ce.prototype.N=function(){ce.aa.N.call(this),Js(this)},ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=l.JSON.stringify,Me=l.JSON.parse,ti=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Ro(){}Ro.prototype.h=null;function ql(o){return o.h||(o.h=o.i())}function Hl(){}var Zs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function So(){$t.call(this,"d")}C(So,$t);function Po(){$t.call(this,"c")}C(Po,$t);var Wn={},zl=null;function ei(){return zl=zl||new st}Wn.La="serverreachability";function Kl(o){$t.call(this,Wn.La,o)}C(Kl,$t);function tr(o){const u=ei();gt(u,new Kl(u))}Wn.STAT_EVENT="statevent";function Gl(o,u){$t.call(this,Wn.STAT_EVENT,o),this.stat=u}C(Gl,$t);function ve(o){const u=ei();gt(u,new Gl(u,o))}Wn.Ma="timingevent";function Wl(o,u){$t.call(this,Wn.Ma,o),this.size=u}C(Wl,$t);function er(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},u)}function nr(){this.g=!0}nr.prototype.xa=function(){this.g=!1};function Bp(o,u,f,m,V,k){o.info(function(){if(o.g)if(k)for(var z="",kt=k.split("&"),re=0;re<kt.length;re++){var Ct=kt[re].split("=");if(1<Ct.length){var ue=Ct[0];Ct=Ct[1];var he=ue.split("_");z=2<=he.length&&he[1]=="type"?z+(ue+"="+Ct+"&"):z+(ue+"=redacted&")}}else z=null;else z=k;return"XMLHTTP REQ ("+m+") [attempt "+V+"]: "+u+`
`+f+`
`+z})}function Up(o,u,f,m,V,k,z){o.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+V+"]: "+u+`
`+f+`
`+k+" "+z})}function gs(o,u,f,m){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+qp(o,f)+(m?" "+m:"")})}function jp(o,u){o.info(function(){return"TIMEOUT: "+u})}nr.prototype.info=function(){};function qp(o,u){if(!o.g)return u;if(!u)return null;try{var f=JSON.parse(u);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var m=f[o];if(!(2>m.length)){var V=m[1];if(Array.isArray(V)&&!(1>V.length)){var k=V[0];if(k!="noop"&&k!="stop"&&k!="close")for(var z=1;z<V.length;z++)V[z]=""}}}}return se(f)}catch{return u}}var ni={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ql={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vo;function si(){}C(si,Ro),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},Vo=new si;function xn(o,u,f,m){this.j=o,this.i=u,this.l=f,this.R=m||1,this.U=new ce(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xl}function Xl(){this.i=null,this.g="",this.h=!1}var Yl={},ko={};function Do(o,u,f){o.L=1,o.v=ai(sn(u)),o.m=f,o.P=!0,Jl(o,null)}function Jl(o,u){o.F=Date.now(),ri(o),o.A=sn(o.v);var f=o.A,m=o.R;Array.isArray(m)||(m=[String(m)]),fc(f.i,"t",m),o.C=0,f=o.j.J,o.h=new Xl,o.g=Pc(o.j,f?u:null,!o.m),0<o.O&&(o.M=new Oe(g(o.Y,o,o.g),o.O)),u=o.U,f=o.g,m=o.ca;var V="readystatechange";Array.isArray(V)||(V&&(Tn[0]=V.toString()),V=Tn);for(var k=0;k<V.length;k++){var z=F(f,V[k],m||u.handleEvent,!1,u.h||u);if(!z)break;u.g[z.key]=z}u=o.H?v(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),tr(),Bp(o.i,o.u,o.A,o.l,o.R,o.m)}xn.prototype.ca=function(o){o=o.target;const u=this.M;u&&rn(o)==3?u.j():this.Y(o)},xn.prototype.Y=function(o){try{if(o==this.g)t:{const he=rn(this.g);var u=this.g.Ba();const ys=this.g.Z();if(!(3>he)&&(he!=3||this.g&&(this.h.h||this.g.oa()||vc(this.g)))){this.J||he!=4||u==7||(u==8||0>=ys?tr(3):tr(2)),No(this);var f=this.g.Z();this.X=f;e:if(Zl(this)){var m=vc(this.g);o="";var V=m.length,k=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),sr(this);var z="";break e}this.h.i=new l.TextDecoder}for(u=0;u<V;u++)this.h.h=!0,o+=this.h.i.decode(m[u],{stream:!(k&&u==V-1)});m.length=0,this.h.g+=o,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=f==200,Up(this.i,this.u,this.A,this.l,this.R,he,f),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,re=this.g;if((kt=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(kt)){var Ct=kt;break e}}Ct=null}if(f=Ct)gs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oo(this,f);else{this.o=!1,this.s=3,ve(12),Qn(this),sr(this);break t}}if(this.P){f=!0;let Ue;for(;!this.J&&this.C<z.length;)if(Ue=Hp(this,z),Ue==ko){he==4&&(this.s=4,ve(14),f=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Yl){this.s=4,ve(15),gs(this.i,this.l,z,"[Invalid Chunk]"),f=!1;break}else gs(this.i,this.l,Ue,null),Oo(this,Ue);if(Zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||z.length!=0||this.h.h||(this.s=1,ve(16),f=!1),this.o=this.o&&f,!f)gs(this.i,this.l,z,"[Invalid Chunked Response]"),Qn(this),sr(this);else if(0<z.length&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.ba&&!ue.M&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Uo(ue),ue.M=!0,ve(11))}}else gs(this.i,this.l,z,null),Oo(this,z);he==4&&Qn(this),this.o&&!this.J&&(he==4?Ac(this.j,this):(this.o=!1,ri(this)))}else ag(this.g),f==400&&0<z.indexOf("Unknown SID")?(this.s=3,ve(12)):(this.s=0,ve(13)),Qn(this),sr(this)}}}catch{}finally{}};function Zl(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Hp(o,u){var f=o.C,m=u.indexOf(`
`,f);return m==-1?ko:(f=Number(u.substring(f,m)),isNaN(f)?Yl:(m+=1,m+f>u.length?ko:(u=u.slice(m,m+f),o.C=m+f,u)))}xn.prototype.cancel=function(){this.J=!0,Qn(this)};function ri(o){o.S=Date.now()+o.I,tc(o,o.I)}function tc(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=er(g(o.ba,o),u)}function No(o){o.B&&(l.clearTimeout(o.B),o.B=null)}xn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(jp(this.i,this.A),this.L!=2&&(tr(),ve(17)),Qn(this),this.s=2,sr(this)):tc(this,this.S-o)};function sr(o){o.j.G==0||o.J||Ac(o.j,o)}function Qn(o){No(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,Js(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function Oo(o,u){try{var f=o.j;if(f.G!=0&&(f.g==o||Mo(f.h,o))){if(!o.K&&Mo(f.h,o)&&f.G==3){try{var m=f.Da.g.parse(u)}catch{m=null}if(Array.isArray(m)&&m.length==3){var V=m;if(V[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)di(f),hi(f);else break t;Bo(f),ve(18)}}else f.za=V[1],0<f.za-f.T&&37500>V[2]&&f.F&&f.v==0&&!f.C&&(f.C=er(g(f.Za,f),6e3));if(1>=sc(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Yn(f,11)}else if((o.K||f.g==o)&&di(f),!B(u))for(V=f.Da.g.parse(u),u=0;u<V.length;u++){let Ct=V[u];if(f.T=Ct[0],Ct=Ct[1],f.G==2)if(Ct[0]=="c"){f.K=Ct[1],f.ia=Ct[2];const ue=Ct[3];ue!=null&&(f.la=ue,f.j.info("VER="+f.la));const he=Ct[4];he!=null&&(f.Aa=he,f.j.info("SVER="+f.Aa));const ys=Ct[5];ys!=null&&typeof ys=="number"&&0<ys&&(m=1.5*ys,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;const Ue=o.g;if(Ue){const gi=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var k=m.h;k.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Lo(k,k.h),k.h=null))}if(m.D){const jo=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(m.ya=jo,Ot(m.I,m.D,jo))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var z=o;if(m.qa=Sc(m,m.J?m.ia:null,m.W),z.K){rc(m.h,z);var kt=z,re=m.L;re&&(kt.I=re),kt.B&&(No(kt),ri(kt)),m.g=z}else xc(m);0<f.i.length&&fi(f)}else Ct[0]!="stop"&&Ct[0]!="close"||Yn(f,7);else f.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?Yn(f,7):$o(f):Ct[0]!="noop"&&f.l&&f.l.ta(Ct),f.v=0)}}tr(4)}catch{}}var zp=class{constructor(o,u){this.g=o,this.map=u}};function ec(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nc(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function sc(o){return o.h?1:o.g?o.g.size:0}function Mo(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function Lo(o,u){o.g?o.g.add(u):o.h=u}function rc(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}ec.prototype.cancel=function(){if(this.i=ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function ic(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const f of o.g.values())u=u.concat(f.D);return u}return R(o.i)}function Kp(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(c(o)){for(var u=[],f=o.length,m=0;m<f;m++)u.push(o[m]);return u}u=[],f=0;for(m in o)u[f++]=o[m];return u}function Gp(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(c(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(const m in o)u[f++]=m;return u}}}function oc(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(c(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var f=Gp(o),m=Kp(o),V=m.length,k=0;k<V;k++)u.call(void 0,m[k],f&&f[k],o)}var ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wp(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var m=o[f].indexOf("="),V=null;if(0<=m){var k=o[f].substring(0,m);V=o[f].substring(m+1)}else k=o[f];u(k,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Xn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Xn){this.h=o.h,ii(this,o.j),this.o=o.o,this.g=o.g,oi(this,o.s),this.l=o.l;var u=o.i,f=new or;f.i=u.i,u.g&&(f.g=new Map(u.g),f.h=u.h),lc(this,f),this.m=o.m}else o&&(u=String(o).match(ac))?(this.h=!1,ii(this,u[1]||"",!0),this.o=rr(u[2]||""),this.g=rr(u[3]||"",!0),oi(this,u[4]),this.l=rr(u[5]||"",!0),lc(this,u[6]||"",!0),this.m=rr(u[7]||"")):(this.h=!1,this.i=new or(null,this.h))}Xn.prototype.toString=function(){var o=[],u=this.j;u&&o.push(ir(u,cc,!0),":");var f=this.g;return(f||u=="file")&&(o.push("//"),(u=this.o)&&o.push(ir(u,cc,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(ir(f,f.charAt(0)=="/"?Yp:Xp,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",ir(f,Zp)),o.join("")};function sn(o){return new Xn(o)}function ii(o,u,f){o.j=f?rr(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function oi(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function lc(o,u,f){u instanceof or?(o.i=u,tg(o.i,o.h)):(f||(u=ir(u,Jp)),o.i=new or(u,o.h))}function Ot(o,u,f){o.i.set(u,f)}function ai(o){return Ot(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function rr(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ir(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,Qp),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Qp(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var cc=/[#\/\?@]/g,Xp=/[#\?:]/g,Yp=/[#\?]/g,Jp=/[#\?@]/g,Zp=/#/g;function or(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function In(o){o.g||(o.g=new Map,o.h=0,o.i&&Wp(o.i,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}e=or.prototype,e.add=function(o,u){In(this),this.i=null,o=ms(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(u),this.h+=1,this};function uc(o,u){In(o),u=ms(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function hc(o,u){return In(o),u=ms(o,u),o.g.has(u)}e.forEach=function(o,u){In(this),this.g.forEach(function(f,m){f.forEach(function(V){o.call(u,V,m,this)},this)},this)},e.na=function(){In(this);const o=Array.from(this.g.values()),u=Array.from(this.g.keys()),f=[];for(let m=0;m<u.length;m++){const V=o[m];for(let k=0;k<V.length;k++)f.push(u[m])}return f},e.V=function(o){In(this);let u=[];if(typeof o=="string")hc(this,o)&&(u=u.concat(this.g.get(ms(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)u=u.concat(o[f])}return u},e.set=function(o,u){return In(this),this.i=null,o=ms(this,o),hc(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},e.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function fc(o,u,f){uc(o,u),0<f.length&&(o.i=null,o.g.set(ms(o,u),R(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(var f=0;f<u.length;f++){var m=u[f];const k=encodeURIComponent(String(m)),z=this.V(m);for(m=0;m<z.length;m++){var V=k;z[m]!==""&&(V+="="+encodeURIComponent(String(z[m]))),o.push(V)}}return this.i=o.join("&")};function ms(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function tg(o,u){u&&!o.j&&(In(o),o.i=null,o.g.forEach(function(f,m){var V=m.toLowerCase();m!=V&&(uc(this,m),fc(this,V,f))},o)),o.j=u}function eg(o,u){const f=new nr;if(l.Image){const m=new Image;m.onload=w(An,f,"TestLoadImage: loaded",!0,u,m),m.onerror=w(An,f,"TestLoadImage: error",!1,u,m),m.onabort=w(An,f,"TestLoadImage: abort",!1,u,m),m.ontimeout=w(An,f,"TestLoadImage: timeout",!1,u,m),l.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=o}else u(!1)}function ng(o,u){const f=new nr,m=new AbortController,V=setTimeout(()=>{m.abort(),An(f,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:m.signal}).then(k=>{clearTimeout(V),k.ok?An(f,"TestPingServer: ok",!0,u):An(f,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(V),An(f,"TestPingServer: error",!1,u)})}function An(o,u,f,m,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),m(f)}catch{}}function sg(){this.g=new ti}function rg(o,u,f){const m=f||"";try{oc(o,function(V,k){let z=V;h(V)&&(z=se(V)),u.push(m+k+"="+encodeURIComponent(z))})}catch(V){throw u.push(m+"type="+encodeURIComponent("_badmap")),V}}function li(o){this.l=o.Ub||null,this.j=o.eb||!1}C(li,Ro),li.prototype.g=function(){return new ci(this.l,this.j)},li.prototype.i=function(o){return function(){return o}}({});function ci(o,u){st.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ci,st),e=ci.prototype,e.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,lr(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||l).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ar(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dc(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function dc(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?ar(this):lr(this),this.readyState==3&&dc(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,ar(this))},e.Qa=function(o){this.g&&(this.response=o,ar(this))},e.ga=function(){this.g&&ar(this)};function ar(o){o.readyState=4,o.l=null,o.j=null,o.v=null,lr(o)}e.setRequestHeader=function(o,u){this.u.append(o,u)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function lr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function pc(o){let u="";return ut(o,function(f,m){u+=m,u+=":",u+=f,u+=`\r
`}),u}function Fo(o,u,f){t:{for(m in f){var m=!1;break t}m=!0}m||(f=pc(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Ot(o,u,f))}function Ut(o){st.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ut,st);var ig=/^https?$/i,og=["POST","PUT"];e=Ut.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,u,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vo.g(),this.v=this.o?ql(this.o):ql(Vo),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(k){gc(this,k);return}if(o=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var V in m)f.set(V,m[V]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const k of m.keys())f.set(k,m.get(k));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(k=>k.toLowerCase()=="content-type"),V=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(og,u,void 0))||m||V||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,z]of f)this.g.setRequestHeader(k,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yc(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){gc(this,k)}};function gc(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,mc(o),ui(o)}function mc(o){o.A||(o.A=!0,gt(o,"complete"),gt(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,gt(this,"complete"),gt(this,"abort"),ui(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),Ut.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?_c(this):this.bb())},e.bb=function(){_c(this)};function _c(o){if(o.h&&typeof a<"u"&&(!o.v[1]||rn(o)!=4||o.Z()!=2)){if(o.u&&rn(o)==4)ee(o.Ea,0,o);else if(gt(o,"readystatechange"),rn(o)==4){o.h=!1;try{const z=o.Z();t:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var f;if(!(f=u)){var m;if(m=z===0){var V=String(o.D).match(ac)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),m=!ig.test(V?V.toLowerCase():"")}f=m}if(f)gt(o,"complete"),gt(o,"success");else{o.m=6;try{var k=2<rn(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",mc(o)}}finally{ui(o)}}}}function ui(o,u){if(o.g){yc(o);const f=o.g,m=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||gt(o,"ready");try{f.onreadystatechange=m}catch{}}}function yc(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function rn(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),Me(u)}};function vc(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function ag(o){const u={};o=(o.g&&2<=rn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<o.length;m++){if(B(o[m]))continue;var f=I(o[m]);const V=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const k=u[V]||[];u[V]=k,k.push(f)}A(u,function(m){return m.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(o,u,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||u}function Ec(o){this.Aa=0,this.i=[],this.j=new nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cr("baseRetryDelayMs",5e3,o),this.cb=cr("retryDelaySeedMs",1e4,o),this.Wa=cr("forwardChannelMaxRetries",2,o),this.wa=cr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ec(o&&o.concurrentRequestLimit),this.Da=new sg,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ec.prototype,e.la=8,e.G=1,e.connect=function(o,u,f,m){ve(0),this.W=o,this.H=u||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Sc(this,null,this.W),fi(this)};function $o(o){if(wc(o),o.G==3){var u=o.U++,f=sn(o.I);if(Ot(f,"SID",o.K),Ot(f,"RID",u),Ot(f,"TYPE","terminate"),ur(o,f),u=new xn(o,o.j,u),u.L=2,u.v=ai(sn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(u.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=u.v,f=!0),f||(u.g=Pc(u.j,null),u.g.ea(u.v)),u.F=Date.now(),ri(u)}Rc(o)}function hi(o){o.g&&(Uo(o),o.g.cancel(),o.g=null)}function wc(o){hi(o),o.u&&(l.clearTimeout(o.u),o.u=null),di(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function fi(o){if(!nc(o.h)&&!o.s){o.s=!0;var u=o.Ga;Et||Be(),vt||(Et(),vt=!0),Pe.add(u,o),o.B=0}}function lg(o,u){return sc(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=er(g(o.Ga,o,u),Cc(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const V=new xn(this,this.j,o);let k=this.o;if(this.S&&(k?(k=v(k),x(k,this.S)):k=this.S),this.m!==null||this.O||(V.H=k,k=null),this.P)t:{for(var u=0,f=0;f<this.i.length;f++){e:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break e}m=void 0}if(m===void 0)break;if(u+=m,4096<u){u=f;break t}if(u===4096||f===this.i.length-1){u=f+1;break t}}u=1e3}else u=1e3;u=Tc(this,V,u),f=sn(this.I),Ot(f,"RID",o),Ot(f,"CVER",22),this.D&&Ot(f,"X-HTTP-Session-Id",this.D),ur(this,f),k&&(this.O?u="headers="+encodeURIComponent(String(pc(k)))+"&"+u:this.m&&Fo(f,this.m,k)),Lo(this.h,V),this.Ua&&Ot(f,"TYPE","init"),this.P?(Ot(f,"$req",u),Ot(f,"SID","null"),V.T=!0,Do(V,f,null)):Do(V,f,u),this.G=2}}else this.G==3&&(o?bc(this,o):this.i.length==0||nc(this.h)||bc(this))};function bc(o,u){var f;u?f=u.l:f=o.U++;const m=sn(o.I);Ot(m,"SID",o.K),Ot(m,"RID",f),Ot(m,"AID",o.T),ur(o,m),o.m&&o.o&&Fo(m,o.m,o.o),f=new xn(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),u&&(o.i=u.D.concat(o.i)),u=Tc(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Lo(o.h,f),Do(f,m,u)}function ur(o,u){o.H&&ut(o.H,function(f,m){Ot(u,m,f)}),o.l&&oc({},function(f,m){Ot(u,m,f)})}function Tc(o,u,f){f=Math.min(o.i.length,f);var m=o.l?g(o.l.Na,o.l,o):null;t:{var V=o.i;let k=-1;for(;;){const z=["count="+f];k==-1?0<f?(k=V[0].g,z.push("ofs="+k)):k=0:z.push("ofs="+k);let kt=!0;for(let re=0;re<f;re++){let Ct=V[re].g;const ue=V[re].map;if(Ct-=k,0>Ct)k=Math.max(0,V[re].g-100),kt=!1;else try{rg(ue,z,"req"+Ct+"_")}catch{m&&m(ue)}}if(kt){m=z.join("&");break t}}}return o=o.i.splice(0,f),u.D=o,m}function xc(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;Et||Be(),vt||(Et(),vt=!0),Pe.add(u,o),o.v=0}}function Bo(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=er(g(o.Fa,o),Cc(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,Ic(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=er(g(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ve(10),hi(this),Ic(this))};function Uo(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Ic(o){o.g=new xn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=sn(o.qa);Ot(u,"RID","rpc"),Ot(u,"SID",o.K),Ot(u,"AID",o.T),Ot(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ot(u,"TO",o.ja),Ot(u,"TYPE","xmlhttp"),ur(o,u),o.m&&o.o&&Fo(u,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=ai(sn(u)),f.m=null,f.P=!0,Jl(f,o)}e.Za=function(){this.C!=null&&(this.C=null,hi(this),Bo(this),ve(19))};function di(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Ac(o,u){var f=null;if(o.g==u){di(o),Uo(o),o.g=null;var m=2}else if(Mo(o.h,u))f=u.D,rc(o.h,u),m=1;else return;if(o.G!=0){if(u.o)if(m==1){f=u.m?u.m.length:0,u=Date.now()-u.F;var V=o.B;m=ei(),gt(m,new Wl(m,f)),fi(o)}else xc(o);else if(V=u.s,V==3||V==0&&0<u.X||!(m==1&&lg(o,u)||m==2&&Bo(o)))switch(f&&0<f.length&&(u=o.h,u.i=u.i.concat(f)),V){case 1:Yn(o,5);break;case 4:Yn(o,10);break;case 3:Yn(o,6);break;default:Yn(o,2)}}}function Cc(o,u){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*u}function Yn(o,u){if(o.j.info("Error code "+u),u==2){var f=g(o.fb,o),m=o.Xa;const V=!m;m=new Xn(m||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ii(m,"https"),ai(m),V?eg(m.toString(),f):ng(m.toString(),f)}else ve(2);o.G=0,o.l&&o.l.sa(u),Rc(o),wc(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Rc(o){if(o.G=0,o.ka=[],o.l){const u=ic(o.h);(u.length!=0||o.i.length!=0)&&(D(o.ka,u),D(o.ka,o.i),o.h.i.length=0,R(o.i),o.i.length=0),o.l.ra()}}function Sc(o,u,f){var m=f instanceof Xn?sn(f):new Xn(f);if(m.g!="")u&&(m.g=u+"."+m.g),oi(m,m.s);else{var V=l.location;m=V.protocol,u=u?u+"."+V.hostname:V.hostname,V=+V.port;var k=new Xn(null);m&&ii(k,m),u&&(k.g=u),V&&oi(k,V),f&&(k.l=f),m=k}return f=o.D,u=o.ya,f&&u&&Ot(m,f,u),Ot(m,"VER",o.la),ur(o,m),m}function Pc(o,u,f){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new Ut(new li({eb:f})):new Ut(o.pa),u.Ha(o.J),u}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vc(){}e=Vc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function pi(){}pi.prototype.g=function(o,u){return new Ve(o,u)};function Ve(o,u){st.call(this),this.g=new Ec(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!B(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!B(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new _s(this)}C(Ve,st),Ve.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ve.prototype.close=function(){$o(this.g)},Ve.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=se(o),o=f);u.i.push(new zp(u.Ya++,o)),u.G==3&&fi(u)},Ve.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,Ve.aa.N.call(this)};function kc(o){So.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){t:{for(const f in u){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}C(kc,So);function Dc(){Po.call(this),this.status=1}C(Dc,Po);function _s(o){this.g=o}C(_s,Vc),_s.prototype.ua=function(){gt(this.g,"a")},_s.prototype.ta=function(o){gt(this.g,new kc(o))},_s.prototype.sa=function(o){gt(this.g,new Dc)},_s.prototype.ra=function(){gt(this.g,"b")},pi.prototype.createWebChannel=pi.prototype.g,Ve.prototype.send=Ve.prototype.o,Ve.prototype.open=Ve.prototype.m,Ve.prototype.close=Ve.prototype.close,Od=function(){return new pi},Nd=function(){return ei()},Dd=Wn,Na={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ni.NO_ERROR=0,ni.TIMEOUT=8,ni.HTTP_ERROR=6,ki=ni,Ql.COMPLETE="complete",kd=Ql,Hl.EventType=Zs,Zs.OPEN="a",Zs.CLOSE="b",Zs.ERROR="c",Zs.MESSAGE="d",st.prototype.listen=st.prototype.K,gr=Hl,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,Vd=Ut}).apply(typeof Ei<"u"?Ei:typeof self<"u"?self:typeof window<"u"?window:{});const Gu="@firebase/firestore",Wu="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}de.UNAUTHENTICATED=new de(null),de.GOOGLE_CREDENTIALS=new de("google-credentials-uid"),de.FIRST_PARTY=new de("first-party-uid"),de.MOCK_USER=new de("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ws="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new xd("@firebase/firestore");function Ts(){return hs.logLevel}function J(e,...t){if(hs.logLevel<=Tt.DEBUG){const n=t.map(bl);hs.debug(`Firestore (${Ws}): ${e}`,...n)}}function vn(e,...t){if(hs.logLevel<=Tt.ERROR){const n=t.map(bl);hs.error(`Firestore (${Ws}): ${e}`,...n)}}function Bs(e,...t){if(hs.logLevel<=Tt.WARN){const n=t.map(bl);hs.warn(`Firestore (${Ws}): ${e}`,...n)}}function bl(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,Md(e,s,n)}function Md(e,t,n){let s=`FIRESTORE (${Ws}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw vn(s),new Error(s)}function Bt(e,t,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,e||Md(t,r,s)}function xt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Gs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(de.UNAUTHENTICATED))}shutdown(){}}class eE{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nE{constructor(t){this.t=t,this.currentUser=de.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Bt(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new as;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new as,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=i;t.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new as)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt(typeof s.accessToken=="string",31837,{l:s}),new Ld(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bt(t===null||typeof t=="string",2055,{h:t}),new de(t)}}class sE{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=de.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rE{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new sE(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(de.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qu{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iE{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$1(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Bt(this.o===void 0,3512);const s=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,J("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>s(i))};const r=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qu(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Qu(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=oE(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=t.charAt(r[i]%62))}return s}}function _t(e,t){return e<t?-1:e>t?1:0}function Oa(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=e.codePointAt(n),r=t.codePointAt(n);if(s!==r){if(s<128&&r<128)return _t(s,r);{const i=Fd(),a=lE(i.encode(Xu(e,n)),i.encode(Xu(t,n)));return a!==0?a:_t(s,r)}}n+=s>65535?2:1}return _t(e.length,t.length)}function Xu(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function lE(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return _t(e[n],t[n]);return _t(e.length,t.length)}function Us(e,t,n){return e.length===t.length&&e.every((s,r)=>n(s,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=-62135596800,Ju=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Ju);return new Re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new it(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Yu)throw new it(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ju}_compareTo(t){return this.seconds===t.seconds?_t(this.nanoseconds,t.nanoseconds):_t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Yu;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{static fromTimestamp(t){return new ft(t)}static min(){return new ft(new Re(0,0))}static max(){return new ft(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu="__name__";class Qe{constructor(t,n,s){n===void 0?n=0:n>t.length&&pt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&pt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Qe.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Qe?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let r=0;r<s;r++){const i=Qe.compareSegments(t.get(r),n.get(r));if(i!==0)return i}return _t(t.length,n.length)}static compareSegments(t,n){const s=Qe.isNumericId(t),r=Qe.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Qe.extractNumericId(t).compare(Qe.extractNumericId(n)):Oa(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $n.fromString(t.substring(4,t.length-2))}}class qt extends Qe{construct(t,n,s){return new qt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new it(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new qt(n)}static emptyPath(){return new qt([])}}const cE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class be extends Qe{construct(t,n,s){return new be(t,n,s)}static isValidIdentifier(t){return cE.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),be.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zu}static keyField(){return new be([Zu])}static fromServerFormat(t){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new it(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new it(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new it(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(s+=l,r++):(i(),r++)}if(i(),a)throw new it(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new be(n)}static emptyPath(){return new be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.path=t}static fromPath(t){return new lt(qt.fromString(t))}static fromName(t){return new lt(qt.fromString(t).popFirst(5))}static empty(){return new lt(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&qt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return qt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new qt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=-1;function uE(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,r=ft.fromTimestamp(s===1e9?new Re(n+1,0):new Re(n,s));return new jn(r,lt.empty(),t)}function hE(e){return new jn(e.readTime,e.key,qr)}class jn{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new jn(ft.min(),lt.empty(),qr)}static max(){return new jn(ft.max(),lt.empty(),qr)}}function fE(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=lt.comparator(e.documentKey,t.documentKey),n!==0?n:_t(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(e){if(e.code!==W.FAILED_PRECONDITION||e.message!==dE)throw e;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new L((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):L.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):L.reject(n)}static resolve(t){return new L((n,s)=>{n(t)})}static reject(t){return new L((n,s)=>{s(t)})}static waitFor(t){return new L((n,s)=>{let r=0,i=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++i,a&&i===r&&n()},c=>s(c))}),a=!0,i===r&&n()})}static or(t){let n=L.resolve(!1);for(const s of t)n=n.next(r=>r?L.resolve(r):s());return n}static forEach(t,n){const s=[];return t.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(t,n){return new L((s,r)=>{const i=t.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const h=c;n(t[h]).next(d=>{a[h]=d,++l,l===i&&s(a)},d=>r(d))}})}static doWhile(t,n){return new L((s,r)=>{const i=()=>{t()===!0?n().next(()=>{i()},r):s()};i()})}}function gE(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qs(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}_o.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=-1;function yo(e){return e==null}function Ma(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="";function _E(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=th(t)),t=yE(e.get(n),t);return th(t)}function yE(e,t){let n=t;const s=e.length;for(let r=0;r<s;r++){const i=e.charAt(r);switch(i){case"\0":n+="";break;case $d:n+="";break;default:n+=i}}return n}function th(e){return e+$d+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,n){this.comparator=t,this.root=n||ie.EMPTY}insert(t,n){return new Gt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ie.BLACK,null,null))}remove(t){return new Gt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ie.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(t,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wi(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wi(this.root,t,this.comparator,!1)}getReverseIterator(){return new wi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wi(this.root,t,this.comparator,!0)}}class wi{constructor(t,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?s(t.key,n):1,n&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ie{constructor(t,n,s,r,i){this.key=t,this.value=n,this.color=s??ie.RED,this.left=r??ie.EMPTY,this.right=i??ie.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,r,i){return new ie(t??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let r=this;const i=s(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ie.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return ie.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ie.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ie.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}ie.EMPTY=null,ie.RED=!0,ie.BLACK=!1;ie.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,n,s,r,i){return this}insert(t,n,s){return new ie(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.comparator=t,this.data=new Gt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new nh(this.data.getIterator())}getIteratorFrom(t){return new nh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Yt)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Yt(this.comparator);return n.data=t,n}}class nh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.fields=t,t.sort(be.comparator)}static empty(){return new Dn([])}unionWith(t){let n=new Yt(be.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Dn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Us(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Bd("Invalid base64 string: "+i):i}}(t);return new le(n)}static fromUint8Array(t){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(t);return new le(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}le.EMPTY_BYTE_STRING=new le("");const EE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qn(e){if(Bt(!!e,39018),typeof e=="string"){let t=0;const n=EE.exec(e);if(Bt(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:zt(e.seconds),nanos:zt(e.nanos)}}function zt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Hn(e){return typeof e=="string"?le.fromBase64String(e):le.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="server_timestamp",jd="__type__",qd="__previous_value__",Hd="__local_write_time__";function Tl(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[jd])===null||n===void 0?void 0:n.stringValue)===Ud}function vo(e){const t=e.mapValue.fields[qd];return Tl(t)?vo(t):t}function Hr(e){const t=qn(e.mapValue.fields[Hd].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,n,s,r,i,a,l,c,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=d}}const Gi="(default)";class zr{constructor(t,n){this.projectId=t,this.database=n||Gi}static empty(){return new zr("","")}get isDefaultDatabase(){return this.database===Gi}isEqual(t){return t instanceof zr&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="__type__",TE="__max__",bi={mapValue:{}},xE="__vector__",La="value";function zn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Tl(e)?4:AE(e)?9007199254740991:IE(e)?10:11:pt(28295,{value:e})}function en(e,t){if(e===t)return!0;const n=zn(e);if(n!==zn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Hr(e).isEqual(Hr(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=qn(r.timestampValue),l=qn(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Hn(r.bytesValue).isEqual(Hn(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return zt(r.geoPointValue.latitude)===zt(i.geoPointValue.latitude)&&zt(r.geoPointValue.longitude)===zt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return zt(r.integerValue)===zt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=zt(r.doubleValue),l=zt(i.doubleValue);return a===l?Ma(a)===Ma(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return Us(e.arrayValue.values||[],t.arrayValue.values||[],en);case 10:case 11:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(eh(a)!==eh(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!en(a[c],l[c])))return!1;return!0}(e,t);default:return pt(52216,{left:e})}}function Kr(e,t){return(e.values||[]).find(n=>en(n,t))!==void 0}function js(e,t){if(e===t)return 0;const n=zn(e),s=zn(t);if(n!==s)return _t(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return _t(e.booleanValue,t.booleanValue);case 2:return function(i,a){const l=zt(i.integerValue||i.doubleValue),c=zt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(e,t);case 3:return sh(e.timestampValue,t.timestampValue);case 4:return sh(Hr(e),Hr(t));case 5:return Oa(e.stringValue,t.stringValue);case 6:return function(i,a){const l=Hn(i),c=Hn(a);return l.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const d=_t(l[h],c[h]);if(d!==0)return d}return _t(l.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,a){const l=_t(zt(i.latitude),zt(a.latitude));return l!==0?l:_t(zt(i.longitude),zt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return rh(e.arrayValue,t.arrayValue);case 10:return function(i,a){var l,c,h,d;const p=i.fields||{},g=a.fields||{},w=(l=p[La])===null||l===void 0?void 0:l.arrayValue,C=(c=g[La])===null||c===void 0?void 0:c.arrayValue,R=_t(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((d=C==null?void 0:C.values)===null||d===void 0?void 0:d.length)||0);return R!==0?R:rh(w,C)}(e.mapValue,t.mapValue);case 11:return function(i,a){if(i===bi.mapValue&&a===bi.mapValue)return 0;if(i===bi.mapValue)return 1;if(a===bi.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),h=a.fields||{},d=Object.keys(h);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const g=Oa(c[p],d[p]);if(g!==0)return g;const w=js(l[c[p]],h[d[p]]);if(w!==0)return w}return _t(c.length,d.length)}(e.mapValue,t.mapValue);default:throw pt(23264,{Pe:n})}}function sh(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return _t(e,t);const n=qn(e),s=qn(t),r=_t(n.seconds,s.seconds);return r!==0?r:_t(n.nanos,s.nanos)}function rh(e,t){const n=e.values||[],s=t.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=js(n[r],s[r]);if(i)return i}return _t(n.length,s.length)}function qs(e){return Fa(e)}function Fa(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=qn(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Hn(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return lt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=Fa(i);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const a of s)i?i=!1:r+=",",r+=`${a}:${Fa(n.fields[a])}`;return r+"}"}(e.mapValue):pt(61005,{value:e})}function Di(e){switch(zn(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vo(e);return t?16+Di(t):16;case 5:return 2*e.stringValue.length;case 6:return Hn(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+Di(i),0)}(e.arrayValue);case 10:case 11:return function(s){let r=0;return Xr(s.fields,(i,a)=>{r+=i.length+Di(a)}),r}(e.mapValue);default:throw pt(13486,{value:e})}}function $a(e){return!!e&&"integerValue"in e}function xl(e){return!!e&&"arrayValue"in e}function ih(e){return!!e&&"nullValue"in e}function oh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function la(e){return!!e&&"mapValue"in e}function IE(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[bE])===null||n===void 0?void 0:n.stringValue)===xE}function Cr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Xr(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Cr(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Cr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function AE(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===TE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.value=t}static empty(){return new Ye({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!la(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cr(n)}setAll(t){let n=be.emptyPath(),s={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}a?s[l.lastSegment()]=Cr(a):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(t){const n=this.field(t.popLast());la(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return en(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let r=n.mapValue.fields[t.get(s)];la(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,s){Xr(n,(r,i)=>t[r]=i);for(const r of s)delete t[r]}clone(){return new Ye(Cr(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,n,s,r,i,a,l){this.key=t,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(t){return new ge(t,0,ft.min(),ft.min(),ft.min(),Ye.empty(),0)}static newFoundDocument(t,n,s,r){return new ge(t,1,n,ft.min(),s,r,0)}static newNoDocument(t,n){return new ge(t,2,n,ft.min(),ft.min(),Ye.empty(),0)}static newUnknownDocument(t,n){return new ge(t,3,n,ft.min(),ft.min(),Ye.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ye.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ye.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,n){this.position=t,this.inclusive=n}}function ah(e,t,n){let s=0;for(let r=0;r<e.position.length;r++){const i=t[r],a=e.position[r];if(i.field.isKeyField()?s=lt.comparator(lt.fromName(a.referenceValue),n.key):s=js(a,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function lh(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!en(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,n="asc"){this.field=t,this.dir=n}}function CE(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{}class Xt extends zd{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new SE(t,n,s):n==="array-contains"?new kE(t,s):n==="in"?new DE(t,s):n==="not-in"?new NE(t,s):n==="array-contains-any"?new OE(t,s):new Xt(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new PE(t,s):new VE(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(js(n,this.value)):n!==null&&zn(this.value)===zn(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nn extends zd{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new nn(t,n)}matches(t){return Kd(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Kd(e){return e.op==="and"}function Gd(e){return RE(e)&&Kd(e)}function RE(e){for(const t of e.filters)if(t instanceof nn)return!1;return!0}function Ba(e){if(e instanceof Xt)return e.field.canonicalString()+e.op.toString()+qs(e.value);if(Gd(e))return e.filters.map(t=>Ba(t)).join(",");{const t=e.filters.map(n=>Ba(n)).join(",");return`${e.op}(${t})`}}function Wd(e,t){return e instanceof Xt?function(s,r){return r instanceof Xt&&s.op===r.op&&s.field.isEqual(r.field)&&en(s.value,r.value)}(e,t):e instanceof nn?function(s,r){return r instanceof nn&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,a,l)=>i&&Wd(a,r.filters[l]),!0):!1}(e,t):void pt(19439)}function Qd(e){return e instanceof Xt?function(n){return`${n.field.canonicalString()} ${n.op} ${qs(n.value)}`}(e):e instanceof nn?function(n){return n.op.toString()+" {"+n.getFilters().map(Qd).join(" ,")+"}"}(e):"Filter"}class SE extends Xt{constructor(t,n,s){super(t,n,s),this.key=lt.fromName(s.referenceValue)}matches(t){const n=lt.comparator(t.key,this.key);return this.matchesComparison(n)}}class PE extends Xt{constructor(t,n){super(t,"in",n),this.keys=Xd("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class VE extends Xt{constructor(t,n){super(t,"not-in",n),this.keys=Xd("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Xd(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>lt.fromName(s.referenceValue))}class kE extends Xt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xl(n)&&Kr(n.arrayValue,this.value)}}class DE extends Xt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Kr(this.value.arrayValue,n)}}class NE extends Xt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Kr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kr(this.value.arrayValue,n)}}class OE extends Xt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Kr(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(t,n=null,s=[],r=[],i=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=a,this.endAt=l,this.Ie=null}}function ch(e,t=null,n=[],s=[],r=null,i=null,a=null){return new ME(e,t,n,s,r,i,a)}function Il(e){const t=xt(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Ba(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),yo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>qs(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>qs(s)).join(",")),t.Ie=n}return t.Ie}function Al(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!CE(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Wd(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lh(e.startAt,t.startAt)&&lh(e.endAt,t.endAt)}function Ua(e){return lt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,n=null,s=[],r=[],i=null,a="F",l=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function LE(e,t,n,s,r,i,a,l){return new Eo(e,t,n,s,r,i,a,l)}function Yd(e){return new Eo(e)}function uh(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function FE(e){return e.collectionGroup!==null}function Rr(e){const t=xt(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),n.add(i.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Yt(be.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new Qi(i,s))}),n.has(be.keyField().canonicalString())||t.Ee.push(new Qi(be.keyField(),s))}return t.Ee}function tn(e){const t=xt(e);return t.de||(t.de=$E(t,Rr(e))),t.de}function $E(e,t){if(e.limitType==="F")return ch(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new Qi(r.field,i)});const n=e.endAt?new Wi(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Wi(e.startAt.position,e.startAt.inclusive):null;return ch(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function ja(e,t,n){return new Eo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wo(e,t){return Al(tn(e),tn(t))&&e.limitType===t.limitType}function Jd(e){return`${Il(tn(e))}|lt:${e.limitType}`}function xs(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>Qd(r)).join(", ")}]`),yo(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>qs(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>qs(r)).join(",")),`Target(${s})`}(tn(e))}; limitType=${e.limitType})`}function bo(e,t){return t.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):lt.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(e,t)&&function(s,r){for(const i of Rr(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(s,r){return!(s.startAt&&!function(a,l,c){const h=ah(a,l,c);return a.inclusive?h<=0:h<0}(s.startAt,Rr(s),r)||s.endAt&&!function(a,l,c){const h=ah(a,l,c);return a.inclusive?h>=0:h>0}(s.endAt,Rr(s),r))}(e,t)}function BE(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Zd(e){return(t,n)=>{let s=!1;for(const r of Rr(e)){const i=UE(r,t,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function UE(e,t,n){const s=e.field.isKeyField()?lt.comparator(t.key,n.key):function(i,a,l){const c=a.data.field(i),h=l.data.field(i);return c!==null&&h!==null?js(c,h):pt(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),r=this.inner[s];if(r===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Xr(this.inner,(n,s)=>{for(const[r,i]of s)t(r,i)})}isEmpty(){return vE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=new Gt(lt.comparator);function Kn(){return jE}const tp=new Gt(lt.comparator);function mr(...e){let t=tp;for(const n of e)t=t.insert(n.key,n);return t}function qE(e){let t=tp;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function is(){return Sr()}function ep(){return Sr()}function Sr(){return new ps(e=>e.toString(),(e,t)=>e.isEqual(t))}const HE=new Yt(lt.comparator);function It(...e){let t=HE;for(const n of e)t=t.add(n);return t}const zE=new Yt(_t);function KE(){return zE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ma(t)?"-0":t}}function WE(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this._=void 0}}function QE(e,t,n){return e instanceof qa?function(r,i){const a={fields:{[jd]:{stringValue:Ud},[Hd]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Tl(i)&&(i=vo(i)),i&&(a.fields[qd]=i),{mapValue:a}}(n,t):e instanceof Xi?np(e,t):e instanceof Yi?sp(e,t):function(r,i){const a=YE(r,i),l=hh(a)+hh(r.Re);return $a(a)&&$a(r.Re)?WE(l):GE(r.serializer,l)}(e,t)}function XE(e,t,n){return e instanceof Xi?np(e,t):e instanceof Yi?sp(e,t):n}function YE(e,t){return e instanceof Ha?function(s){return $a(s)||function(i){return!!i&&"doubleValue"in i}(s)}(t)?t:{integerValue:0}:null}class qa extends To{}class Xi extends To{constructor(t){super(),this.elements=t}}function np(e,t){const n=rp(t);for(const s of e.elements)n.some(r=>en(r,s))||n.push(s);return{arrayValue:{values:n}}}class Yi extends To{constructor(t){super(),this.elements=t}}function sp(e,t){let n=rp(t);for(const s of e.elements)n=n.filter(r=>!en(r,s));return{arrayValue:{values:n}}}class Ha extends To{constructor(t,n){super(),this.serializer=t,this.Re=n}}function hh(e){return zt(e.integerValue||e.doubleValue)}function rp(e){return xl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function JE(e,t){return e.field.isEqual(t.field)&&function(s,r){return s instanceof Xi&&r instanceof Xi||s instanceof Yi&&r instanceof Yi?Us(s.elements,r.elements,en):s instanceof Ha&&r instanceof Ha?en(s.Re,r.Re):s instanceof qa&&r instanceof qa}(e.transform,t.transform)}class ls{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ls}static exists(t){return new ls(void 0,t)}static updateTime(t){return new ls(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ni(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Cl{}function ip(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new tw(e.key,ls.none()):new Rl(e.key,e.data,ls.none());{const n=e.data,s=Ye.empty();let r=new Yt(be.comparator);for(let i of t.fields)if(!r.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?s.delete(i):s.set(i,a),r=r.add(i)}return new xo(e.key,s,new Dn(r.toArray()),ls.none())}}function ZE(e,t,n){e instanceof Rl?function(r,i,a){const l=r.value.clone(),c=dh(r.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof xo?function(r,i,a){if(!Ni(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=dh(r.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(op(r)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(e,t,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Pr(e,t,n,s){return e instanceof Rl?function(i,a,l,c){if(!Ni(i.precondition,a))return l;const h=i.value.clone(),d=ph(i.fieldTransforms,c,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,s):e instanceof xo?function(i,a,l,c){if(!Ni(i.precondition,a))return l;const h=ph(i.fieldTransforms,c,a),d=a.data;return d.setAll(op(i)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(e,t,n,s):function(i,a,l){return Ni(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function fh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Us(s,r,(i,a)=>JE(i,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Rl extends Cl{constructor(t,n,s,r=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xo extends Cl{constructor(t,n,s,r,i=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function op(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function dh(e,t,n){const s=new Map;Bt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let r=0;r<n.length;r++){const i=e[r],a=i.transform,l=t.data.field(i.field);s.set(i.field,XE(a,l,n[r]))}return s}function ph(e,t,n){const s=new Map;for(const r of e){const i=r.transform,a=n.data.field(r.field);s.set(r.field,QE(i,a,t))}return s}class tw extends Cl{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,n,s,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(t.key)&&ZE(i,t,s[r])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Pr(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Pr(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=ep();return this.mutations.forEach(r=>{const i=t.get(r.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(r.key)?null:l;const c=ip(a,l);c!==null&&s.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(ft.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),It())}isEqual(t){return this.batchId===t.batchId&&Us(this.mutations,t.mutations,(n,s)=>fh(n,s))&&Us(this.baseMutations,t.baseMutations,(n,s)=>fh(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,bt;function ap(e){if(e===void 0)return vn("GRPC error has no .code"),W.UNKNOWN;switch(e){case Wt.OK:return W.OK;case Wt.CANCELLED:return W.CANCELLED;case Wt.UNKNOWN:return W.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return W.INTERNAL;case Wt.UNAVAILABLE:return W.UNAVAILABLE;case Wt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Wt.NOT_FOUND:return W.NOT_FOUND;case Wt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Wt.ABORTED:return W.ABORTED;case Wt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Wt.DATA_LOSS:return W.DATA_LOSS;default:return pt(39323,{code:e})}}(bt=Wt||(Wt={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new $n([4294967295,4294967295],0);function gh(e){const t=Fd().encode(e),n=new Pd;return n.update(t),new Uint8Array(n.digest())}function mh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),r=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new $n([n,s],0),new $n([r,i],0)]}class Sl{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new _r(`Invalid padding: ${n}`);if(s<0)throw new _r(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new _r(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new _r(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=$n.fromNumber(this.pe)}we(t,n,s){let r=t.add(n.multiply($n.fromNumber(s)));return r.compare(rw)===1&&(r=new $n([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=gh(t),[s,r]=mh(n);for(let i=0;i<this.hashCount;i++){const a=this.we(s,r,i);if(!this.be(a))return!1}return!0}static create(t,n,s){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),a=new Sl(i,r,n);return s.forEach(l=>a.insert(l)),a}insert(t){if(this.pe===0)return;const n=gh(t),[s,r]=mh(n);for(let i=0;i<this.hashCount;i++){const a=this.we(s,r,i);this.Se(a)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class _r extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,n,s,r,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const r=new Map;return r.set(t,Yr.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Io(ft.min(),r,new Gt(_t),Kn(),It())}}class Yr{constructor(t,n,s,r,i){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Yr(s,n,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,n,s,r){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=r}}class lp{constructor(t,n){this.targetId=t,this.Ce=n}}class cp{constructor(t,n,s=le.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=r}}class _h{constructor(){this.Fe=0,this.Me=yh(),this.xe=le.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=It(),n=It(),s=It();return this.Me.forEach((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:pt(38017,{changeType:i})}}),new Yr(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=yh()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Bt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class iw{constructor(t){this.ze=t,this.je=new Map,this.He=Kn(),this.Je=Ti(),this.Ye=Ti(),this.Ze=new Gt(_t)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:pt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,r)=>{this.it(r)&&n(r)})}ot(t){const n=t.targetId,s=t.Ce.count,r=this._t(n);if(r){const i=r.target;if(Ua(i))if(s===0){const a=new lt(i.path);this.tt(n,a,ge.newNoDocument(a,ft.min()))}else Bt(s===1,20013,{expectedCount:s});else{const a=this.ut(n);if(a!==s){const l=this.ct(t),c=l?this.lt(l,t,a):1;if(c!==0){this.st(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let a,l;try{a=Hn(s).toUint8Array()}catch(c){if(c instanceof Bd)return Bs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Sl(a,r,i)}catch(c){return Bs(c instanceof _r?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.tt(n,i,null),r++)}),r}It(t){const n=new Map;this.je.forEach((i,a)=>{const l=this._t(a);if(l){if(i.current&&Ua(l.target)){const c=new lt(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,ge.newNoDocument(c,t))}i.Le&&(n.set(a,i.qe()),i.Qe())}});let s=It();this.Ye.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(i))}),this.He.forEach((i,a)=>a.setReadTime(t));const r=new Io(t,n,this.Ze,this.He,s);return this.He=Kn(),this.Je=Ti(),this.Ye=Ti(),this.Ze=new Gt(_t),r}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const r=this.rt(t);this.dt(t,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new _h,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Yt(_t),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Yt(_t),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||J("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new _h),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Ti(){return new Gt(lt.comparator)}function yh(){return new Gt(lt.comparator)}const ow={asc:"ASCENDING",desc:"DESCENDING"},aw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lw={and:"AND",or:"OR"};class cw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function za(e,t){return e.useProto3Json||yo(t)?t:{value:t}}function uw(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Os(e){return Bt(!!e,49232),ft.fromTimestamp(function(n){const s=qn(n);return new Re(s.seconds,s.nanos)}(e))}function fw(e,t){return Ka(e,t).canonicalString()}function Ka(e,t){const n=function(r){return new qt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function up(e){const t=qt.fromString(e);return Bt(gp(t),10190,{key:t.toString()}),t}function ca(e,t){const n=up(t);if(n.get(1)!==e.databaseId.projectId)throw new it(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new it(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new lt(fp(n))}function hp(e,t){return fw(e.databaseId,t)}function dw(e){const t=up(e);return t.length===4?qt.emptyPath():fp(t)}function vh(e){return new qt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fp(e){return Bt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function pw(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:pt(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=function(h,d){return h.useProto3Json?(Bt(d===void 0||typeof d=="string",58123),le.fromBase64String(d||"")):(Bt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),le.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?W.UNKNOWN:ap(h.code);return new it(d,h.message||"")}(a);n=new cp(s,r,i,l||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const r=ca(e,s.document.name),i=Os(s.document.updateTime),a=s.document.createTime?Os(s.document.createTime):ft.min(),l=new Ye({mapValue:{fields:s.document.fields}}),c=ge.newFoundDocument(r,i,a,l),h=s.targetIds||[],d=s.removedTargetIds||[];n=new Oi(h,d,c.key,c)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const r=ca(e,s.document),i=s.readTime?Os(s.readTime):ft.min(),a=ge.newNoDocument(r,i),l=s.removedTargetIds||[];n=new Oi([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const r=ca(e,s.document),i=s.removedTargetIds||[];n=new Oi([],i,r,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,a=new sw(r,i),l=s.targetId;n=new lp(l,a)}}return n}function gw(e,t){return{documents:[hp(e,t.path)]}}function mw(e,t){const n={structuredQuery:{}},s=t.path;let r;t.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=hp(e,r);const i=function(h){if(h.length!==0)return pp(nn.create(h,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(h){if(h.length!==0)return h.map(d=>function(g){return{field:Is(g.field),direction:vw(g.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=za(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{gt:n,parent:r}}function _w(e){let t=dw(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Bt(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let i=[];n.where&&(i=function(p){const g=dp(p);return g instanceof nn&&Gd(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(g=>function(C){return new Qi(As(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,yo(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(p){const g=!!p.before,w=p.values||[];return new Wi(w,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,w=p.values||[];return new Wi(w,g)}(n.endAt)),LE(t,r,a,i,l,"F",c,h)}function yw(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function dp(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=As(n.unaryFilter.field);return Xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=As(n.unaryFilter.field);return Xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=As(n.unaryFilter.field);return Xt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=As(n.unaryFilter.field);return Xt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(e):e.fieldFilter!==void 0?function(n){return Xt.create(As(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return nn.create(n.compositeFilter.filters.map(s=>dp(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(n.compositeFilter.op))}(e):pt(30097,{filter:e})}function vw(e){return ow[e]}function Ew(e){return aw[e]}function ww(e){return lw[e]}function Is(e){return{fieldPath:e.canonicalString()}}function As(e){return be.fromServerFormat(e.fieldPath)}function pp(e){return e instanceof Xt?function(n){if(n.op==="=="){if(oh(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NAN"}};if(ih(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oh(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NAN"}};if(ih(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(n.field),op:Ew(n.op),value:n.value}}}(e):e instanceof nn?function(n){const s=n.getFilters().map(r=>pp(r));return s.length===1?s[0]:{compositeFilter:{op:ww(n.op),filters:s}}}(e):pt(54877,{filter:e})}function gp(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t,n,s,r,i=ft.min(),a=ft.min(),l=le.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new Nn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Nn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Nn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Nn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t){this.wt=t}}function Tw(e){const t=_w({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ja(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.Cn=new Iw}addToCollectionParentIndex(t,n){return this.Cn.add(n),L.resolve()}getCollectionParents(t,n){return L.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return L.resolve()}deleteFieldIndex(t,n){return L.resolve()}deleteAllFieldIndexes(t){return L.resolve()}createTargetIndexes(t,n){return L.resolve()}getDocumentsMatchingTarget(t,n){return L.resolve(null)}getIndexType(t,n){return L.resolve(0)}getFieldIndexes(t,n){return L.resolve([])}getNextCollectionGroupToUpdate(t){return L.resolve(null)}getMinOffset(t,n){return L.resolve(jn.min())}getMinOffsetFromCollectionGroup(t,n){return L.resolve(jn.min())}updateCollectionGroup(t,n,s){return L.resolve()}updateIndexEntries(t,n){return L.resolve()}}class Iw{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),r=this.index[n]||new Yt(qt.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(t){const n=t.lastSegment(),s=t.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(t){return(this.index[t]||new Yt(qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mp=41943040;class Ae{static withCacheSize(t){return new Ae(t,Ae.DEFAULT_COLLECTION_PERCENTILE,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ae.DEFAULT_COLLECTION_PERCENTILE=10,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ae.DEFAULT=new Ae(mp,Ae.DEFAULT_COLLECTION_PERCENTILE,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ae.DISABLED=new Ae(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Hs(0)}static lr(){return new Hs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="LruGarbageCollector",Aw=1048576;function bh([e,t],[n,s]){const r=_t(e,n);return r===0?_t(t,s):r}class Cw{constructor(t){this.Er=t,this.buffer=new Yt(bh),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();bh(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Rw{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){J(wh,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qs(n)?J(wh,"Ignoring IndexedDB error during garbage collection: ",n):await mo(n)}await this.mr(3e5)})}}class Sw{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return L.resolve(_o.le);const s=new Cw(n);return this.gr.forEachTarget(t,r=>s.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>s.Rr(r))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(Eh)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eh):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,r,i,a,l,c,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(t,r))).next(p=>(s=p,l=Date.now(),this.removeTargets(t,s,n))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(t,s))).next(p=>(h=Date.now(),Ts()<=Tt.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:p})))}}function Pw(e,t){return new Sw(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.changes=new ps(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ge.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?L.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,n,s,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(s!==null&&Pr(s.mutation,r,Dn.empty(),Re.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,It()).next(()=>s))}getLocalViewOfDocuments(t,n,s=It()){const r=is();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,s).next(i=>{let a=mr();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const s=is();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,It()))}populateOverlays(t,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(t,r).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,s,r){let i=Kn();const a=Sr(),l=function(){return Sr()}();return n.forEach((c,h)=>{const d=s.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof xo)?i=i.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),Pr(d.mutation,h,d.mutation.getFieldMask(),Re.now())):a.set(h.key,Dn.empty())}),this.recalculateAndSaveOverlays(t,i).next(c=>(c.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var p;return l.set(h,new kw(d,(p=a.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(t,n){const s=Sr();let r=new Gt((a,l)=>a-l),i=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let d=s.get(c)||Dn.empty();d=l.applyToLocalView(h,d),s.set(c,d);const p=(r.get(l.batchId)||It()).add(c);r=r.insert(l.batchId,p)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,d=c.value,p=ep();d.forEach(g=>{if(!i.has(g)){const w=ip(n.get(g),s.get(g));w!==null&&p.set(g,w),i=i.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,p))}return L.waitFor(a)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,r){return function(a){return lt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):FE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,r):this.getDocumentsMatchingCollectionQuery(t,n,s,r)}getNextDocuments(t,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,r-i.size):L.resolve(is());let l=qr,c=i;return a.next(h=>L.forEach(h,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(d)?L.resolve():this.remoteDocumentCache.getEntry(t,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(t,h,i)).next(()=>this.computeViews(t,c,h,It())).next(d=>({batchId:l,changes:qE(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new lt(n)).next(s=>{let r=mr();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,s,r){const i=n.collectionGroup;let a=mr();return this.indexManager.getCollectionParents(t,i).next(l=>L.forEach(l,c=>{const h=function(p,g){return new Eo(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(t,h,s,r).next(d=>{d.forEach((p,g)=>{a=a.insert(p,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,i,r))).next(a=>{i.forEach((c,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,ge.newInvalidDocument(d)))});let l=mr();return a.forEach((c,h)=>{const d=i.get(c);d!==void 0&&Pr(d.mutation,h,Dn.empty(),Re.now()),bo(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return L.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Os(r.createTime)}}(n)),L.resolve()}getNamedQuery(t,n){return L.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(r){return{name:r.name,query:Tw(r.bundledQuery),readTime:Os(r.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.overlays=new Gt(lt.comparator),this.Qr=new Map}getOverlay(t,n){return L.resolve(this.overlays.get(n))}getOverlays(t,n){const s=is();return L.forEach(n,r=>this.getOverlay(t,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((r,i)=>{this.St(t,n,i)}),L.resolve()}removeOverlaysForBatchId(t,n,s){const r=this.Qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(s)),L.resolve()}getOverlaysForCollection(t,n,s){const r=is(),i=n.length+1,a=new lt(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return L.resolve(r)}getOverlaysForCollectionGroup(t,n,s,r){let i=new Gt((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let d=i.get(h.largestBatchId);d===null&&(d=is(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=is(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return L.resolve(l)}St(t,n,s){const r=this.overlays.get(s.key);if(r!==null){const a=this.Qr.get(r.largestBatchId).delete(s.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new nw(n,s));let i=this.Qr.get(n);i===void 0&&(i=It(),this.Qr.set(n,i)),this.Qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.sessionToken=le.EMPTY_BYTE_STRING}getSessionToken(t){return L.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.$r=new Yt(Jt.Ur),this.Kr=new Yt(Jt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Jt(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Jt(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new lt(new qt([])),s=new Jt(n,t),r=new Jt(n,t+1),i=[];return this.Kr.forEachInRange([s,r],a=>{this.zr(a),i.push(a.key)}),i}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new lt(new qt([])),s=new Jt(n,t),r=new Jt(n,t+1);let i=It();return this.Kr.forEachInRange([s,r],a=>{i=i.add(a.key)}),i}containsKey(t){const n=new Jt(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Jt{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return lt.comparator(t.key,n.key)||_t(t.Zr,n.Zr)}static Wr(t,n){return _t(t.Zr,n.Zr)||lt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Yt(Jt.Ur)}checkEmpty(t){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new ew(i,n,s,r);this.mutationQueue.push(a);for(const l of r)this.Xr=this.Xr.add(new Jt(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return L.resolve(a)}lookupMutationBatch(t,n){return L.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,r=this.ti(s),i=r<0?0:r;return L.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?mE:this.nr-1)}getAllMutationBatches(t){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Jt(n,0),r=new Jt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([s,r],a=>{const l=this.ei(a.Zr);i.push(l)}),L.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Yt(_t);return n.forEach(r=>{const i=new Jt(r,0),a=new Jt(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,a],l=>{s=s.add(l.Zr)})}),L.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,r=s.length+1;let i=s;lt.isDocumentKey(i)||(i=i.child(""));const a=new Jt(new lt(i),0);let l=new Yt(_t);return this.Xr.forEachWhile(c=>{const h=c.key.path;return!!s.isPrefixOf(h)&&(h.length===r&&(l=l.add(c.Zr)),!0)},a),L.resolve(this.ni(l))}ni(t){const n=[];return t.forEach(s=>{const r=this.ei(s);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Bt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return L.forEach(n.mutations,r=>{const i=new Jt(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Jt(n,0),r=this.Xr.firstAfterOrEqual(s);return L.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,L.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.ii=t,this.docs=function(){return new Gt(lt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,a=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return L.resolve(s?s.document.mutableCopy():ge.newInvalidDocument(n))}getEntries(t,n){let s=Kn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():ge.newInvalidDocument(r))}),L.resolve(s)}getDocumentsMatchingQuery(t,n,s,r){let i=Kn();const a=n.path,l=new lt(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:d}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||fE(hE(d),s)<=0||(r.has(d.key)||bo(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(t,n,s,r){pt(9500)}si(t,n){return L.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new $w(this)}getSize(t){return L.resolve(this.size)}}class $w extends Vw{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(t,r)):this.Br.removeEntry(s)}),L.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t){this.persistence=t,this.oi=new ps(n=>Il(n),Al),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this._i=0,this.ai=new Pl,this.targetCount=0,this.ui=Hs.cr()}forEachTarget(t,n){return this.oi.forEach((s,r)=>n(r)),L.resolve()}getLastRemoteSnapshotVersion(t){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return L.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),L.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Hs(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,L.resolve()}updateTargetData(t,n){return this.Tr(n),L.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(t,n,s){let r=0;const i=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.oi.delete(a),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),L.waitFor(i).next(()=>r)}getTargetCount(t){return L.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return L.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),L.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(a=>{i.push(r.markPotentiallyOrphaned(t,a))}),L.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),L.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return L.resolve(s)}containsKey(t,n){return L.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,n){this.ci={},this.overlays={},this.li=new _o(0),this.hi=!1,this.hi=!0,this.Pi=new Mw,this.referenceDelegate=t(this),this.Ti=new Bw(this),this.indexManager=new xw,this.remoteDocumentCache=function(r){return new Fw(r)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new bw(n),this.Ei=new Nw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Ow,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new Lw(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){J("MemoryPersistence","Starting transaction:",t);const r=new Uw(this.li.next());return this.referenceDelegate.di(),s(r).next(i=>this.referenceDelegate.Ai(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ri(t,n){return L.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class Uw extends pE{constructor(t){super(),this.currentSequenceNumber=t}}class Vl{constructor(t){this.persistence=t,this.Vi=new Pl,this.mi=null}static fi(t){return new Vl(t)}get gi(){if(this.mi)return this.mi;throw pt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),L.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),L.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),L.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(i=>this.gi.add(i.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.gi,s=>{const r=lt.fromPath(s);return this.pi(t,r).next(i=>{i||n.removeEntry(r,ft.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return L.or([()=>L.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Ji{constructor(t,n){this.persistence=t,this.yi=new ps(s=>_E(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=Pw(this,n)}static fi(t,n){return new Ji(t,n)}di(){}Ai(t){return L.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(r=>s+r))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return L.forEach(this.yi,(s,r)=>this.Dr(t,s,r).next(i=>i?L.resolve():n(r)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(t,a=>this.Dr(t,a,n).next(l=>{l||(s++,i.removeEntry(a,ft.min()))})).next(()=>i.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),L.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),L.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),L.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),L.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Di(t.data.value)),n}Dr(t,n,s){return L.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.yi.get(n);return L.resolve(r!==void 0&&r>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n,s,r){this.targetId=t,this.fromCache=n,this.ds=s,this.As=r}static Rs(t,n){let s=It(),r=It();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new kl(t,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return O0()?8:gE(D0())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,r){const i={result:null};return this.ws(t,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.bs(t,n,r,s).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new jw;return this.Ss(t,n,a).next(l=>{if(i.result=l,this.fs)return this.Ds(t,n,a,l.size)})}).next(()=>i.result)}Ds(t,n,s,r){return s.documentReadCount<this.gs?(Ts()<=Tt.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),L.resolve()):(Ts()<=Tt.DEBUG&&J("QueryEngine","Query:",xs(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.ps*r?(Ts()<=Tt.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,tn(n))):L.resolve())}ws(t,n){if(uh(n))return L.resolve(null);let s=tn(n);return this.indexManager.getIndexType(t,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=ja(n,null,"F"),s=tn(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(i=>{const a=It(...i);return this.ys.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,s).next(c=>{const h=this.vs(n,l);return this.Cs(n,h,a,c.readTime)?this.ws(t,ja(n,null,"F")):this.Fs(t,h,n,c)}))})))}bs(t,n,s,r){return uh(n)||r.isEqual(ft.min())?L.resolve(null):this.ys.getDocuments(t,s).next(i=>{const a=this.vs(n,i);return this.Cs(n,a,s,r)?L.resolve(null):(Ts()<=Tt.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xs(n)),this.Fs(t,a,n,uE(r,qr)).next(l=>l))})}vs(t,n){let s=new Yt(Zd(t));return n.forEach((r,i)=>{bo(t,i)&&(s=s.add(i))}),s}Cs(t,n,s,r){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(t,n,s){return Ts()<=Tt.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",xs(n)),this.ys.getDocumentsMatchingQuery(t,n,jn.min(),s)}Fs(t,n,s,r){return this.ys.getDocumentsMatchingQuery(t,s,r).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl="LocalStore",Hw=3e8;class zw{constructor(t,n,s,r){this.persistence=t,this.Ms=n,this.serializer=r,this.xs=new Gt(_t),this.Os=new ps(i=>Il(i),Al),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Dw(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function Kw(e,t,n,s){return new zw(e,t,n,s)}async function yp(e,t){const n=xt(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const a=[],l=[];let c=It();for(const h of r){a.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}for(const h of i){l.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(s,c).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function vp(e){const t=xt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function Gw(e,t){const n=xt(e),s=t.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const l=[];t.targetChanges.forEach((d,p)=>{const g=r.get(p);if(!g)return;l.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,p)));let w=g.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(p)!==null?w=w.withResumeToken(le.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,s)),r=r.insert(p,w),function(R,D,K){return R.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Hw?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(g,w,d)&&l.push(n.Ti.updateTargetData(i,w))});let c=Kn(),h=It();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(Ww(i,a,t.documentUpdates).next(d=>{c=d.qs,h=d.Qs})),!s.isEqual(ft.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(p=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,s));l.push(d)}return L.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,h)).next(()=>c)}).then(i=>(n.xs=r,i))}function Ww(e,t,n){let s=It(),r=It();return n.forEach(i=>s=s.add(i)),t.getEntries(e,s).next(i=>{let a=Kn();return n.forEach((l,c)=>{const h=i.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(ft.min())?(t.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(c),a=a.insert(l,c)):J(Dl,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{qs:a,Qs:r}})}function Qw(e,t){const n=xt(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Ti.getTargetData(s,t).next(i=>i?(r=i,L.resolve(r)):n.Ti.allocateTargetId(s).next(a=>(r=new Nn(t,a,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.xs.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function Ga(e,t,n){const s=xt(e),r=s.xs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,a=>s.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Qs(a))throw a;J(Dl,`Failed to update sequence numbers for target ${t}: ${a}`)}s.xs=s.xs.remove(t),s.Os.delete(r.target)}function Th(e,t,n){const s=xt(e);let r=ft.min(),i=It();return s.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,d){const p=xt(c),g=p.Os.get(d);return g!==void 0?L.resolve(p.xs.get(g)):p.Ti.getTargetData(h,d)}(s,a,tn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>s.Ms.getDocumentsMatchingQuery(a,t,n?r:ft.min(),n?i:It())).next(l=>(Xw(s,BE(t),l),{documents:l,$s:i})))}function Xw(e,t,n){let s=e.Ns.get(t)||ft.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),e.Ns.set(t,s)}class xh{constructor(){this.activeTargetIds=KE()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Yw{constructor(){this.xo=new xh,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new xh,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="ConnectivityMonitor";class Ah{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){J(Ih,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){J(Ih,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xi=null;function Wa(){return xi===null?xi=function(){return 268435456+Math.round(2147483648*Math.random())}():xi++,"0x"+xi.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RestConnection",Zw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tb{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${r}`,this.Go=this.databaseId.database===Gi?`project_id=${s}`:`project_id=${s}&database_id=${r}`}zo(t,n,s,r,i){const a=Wa(),l=this.jo(t,n.toUriEncodedString());J(ua,`Sending RPC '${t}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,r,i);const{host:h}=new URL(l),d=El(h);return this.Jo(t,l,c,s,d).then(p=>(J(ua,`Received RPC '${t}' ${a}: `,p),p),p=>{throw Bs(ua,`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",s),p})}Yo(t,n,s,r,i,a){return this.zo(t,n,s,r,i)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ws}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>t[i]=r),s&&s.headers.forEach((r,i)=>t[i]=r)}jo(t,n){const s=Zw[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe="WebChannelConnection";class nb extends tb{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,r,i){const a=Wa();return new Promise((l,c)=>{const h=new Vd;h.setWithCredentials(!0),h.listenOnce(kd.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ki.NO_ERROR:const p=h.getResponseJson();J(fe,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case ki.TIMEOUT:J(fe,`RPC '${t}' ${a} timed out`),c(new it(W.DEADLINE_EXCEEDED,"Request time out"));break;case ki.HTTP_ERROR:const g=h.getStatus();if(J(fe,`RPC '${t}' ${a} failed with status:`,g,"response text:",h.getResponseText()),g>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w==null?void 0:w.error;if(C&&C.status&&C.message){const R=function(K){const B=K.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(B)>=0?B:W.UNKNOWN}(C.status);c(new it(R,C.message))}else c(new it(W.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new it(W.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{h_:t,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{J(fe,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);J(fe,`RPC '${t}' ${a} sending request:`,r),h.send(n,"POST",d,s,15)})}I_(t,n,s){const r=Wa(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=Od(),l=Nd(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const d=i.join("");J(fe,`Creating RPC '${t}' stream ${r}: ${d}`,c);const p=a.createWebChannel(d,c);this.E_(p);let g=!1,w=!1;const C=new eb({Zo:D=>{w?J(fe,`Not sending because RPC '${t}' stream ${r} is closed:`,D):(g||(J(fe,`Opening RPC '${t}' stream ${r} transport.`),p.open(),g=!0),J(fe,`RPC '${t}' stream ${r} sending:`,D),p.send(D))},Xo:()=>p.close()}),R=(D,K,B)=>{D.listen(K,U=>{try{B(U)}catch(q){setTimeout(()=>{throw q},0)}})};return R(p,gr.EventType.OPEN,()=>{w||(J(fe,`RPC '${t}' stream ${r} transport opened.`),C.__())}),R(p,gr.EventType.CLOSE,()=>{w||(w=!0,J(fe,`RPC '${t}' stream ${r} transport closed`),C.u_(),this.d_(p))}),R(p,gr.EventType.ERROR,D=>{w||(w=!0,Bs(fe,`RPC '${t}' stream ${r} transport errored. Name:`,D.name,"Message:",D.message),C.u_(new it(W.UNAVAILABLE,"The operation could not be completed")))}),R(p,gr.EventType.MESSAGE,D=>{var K;if(!w){const B=D.data[0];Bt(!!B,16349);const U=B,q=(U==null?void 0:U.error)||((K=U[0])===null||K===void 0?void 0:K.error);if(q){J(fe,`RPC '${t}' stream ${r} received error:`,q);const ht=q.status;let ut=function(_){const x=Wt[_];if(x!==void 0)return ap(x)}(ht),A=q.message;ut===void 0&&(ut=W.INTERNAL,A="Unknown error status: "+ht+" with message "+q.message),w=!0,C.u_(new it(ut,A)),p.close()}else J(fe,`RPC '${t}' stream ${r} received:`,B),C.c_(B)}}),R(l,Dd.STAT_EVENT,D=>{D.stat===Na.PROXY?J(fe,`RPC '${t}' stream ${r} detected buffering proxy`):D.stat===Na.NOPROXY&&J(fe,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function ha(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(e){return new cw(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t,n,s=1e3,r=1.5,i=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=r,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-s);r>0&&J("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="PersistentStream";class sb{constructor(t,n,s,r,i,a,l,c){this.xi=t,this.S_=s,this.D_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new wp(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(vn(n.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.v_===n&&this.z_(s,r)},s=>{t(()=>{const r=new it(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(r)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{s(()=>this.j_(r))}),this.stream.onMessage(r=>{s(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return J(Ch,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(J(Ch,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rb extends sb{constructor(t,n,s,r,i,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=pw(this.serializer,t),s=function(i){if(!("targetChange"in i))return ft.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ft.min():a.readTime?Os(a.readTime):ft.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=vh(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Ua(c)?{documents:gw(i,c)}:{query:mw(i,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=hw(i,a.resumeToken);const h=za(i,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(ft.min())>0){l.readTime=uw(i,a.snapshotVersion.toTimestamp());const h=za(i,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const s=yw(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=vh(this.serializer),n.removeTarget=t,this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{}class ob extends ib{constructor(t,n,s,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new it(W.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.zo(t,Ka(n,s),r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new it(W.UNKNOWN,i.toString())})}Yo(t,n,s,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(t,Ka(n,s),r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new it(W.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class ab{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(vn(n),this.ua=!1):J("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="RemoteStore";class lb{constructor(t,n,s,r,i){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(a=>{s.enqueueAndForget(async()=>{Zr(this)&&(J(zs,"Restarting streams for network reachability change."),await async function(c){const h=xt(c);h.da.add(4),await Jr(h),h.Va.set("Unknown"),h.da.delete(4),await Ao(h)}(this))})}),this.Va=new ab(s,r)}}async function Ao(e){if(Zr(e))for(const t of e.Aa)await t(!0)}async function Jr(e){for(const t of e.Aa)await t(!1)}function bp(e,t){const n=xt(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Ll(n)?Ml(n):Xs(n).N_()&&Ol(n,t))}function Nl(e,t){const n=xt(e),s=Xs(n);n.Ea.delete(t),s.N_()&&Tp(n,t),n.Ea.size===0&&(s.N_()?s.k_():Zr(n)&&n.Va.set("Unknown"))}function Ol(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ft.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xs(e).Z_(t)}function Tp(e,t){e.ma.Ke(t),Xs(e).X_(t)}function Ml(e){e.ma=new iw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Xs(e).start(),e.Va.ca()}function Ll(e){return Zr(e)&&!Xs(e).O_()&&e.Ea.size>0}function Zr(e){return xt(e).da.size===0}function xp(e){e.ma=void 0}async function cb(e){e.Va.set("Online")}async function ub(e){e.Ea.forEach((t,n)=>{Ol(e,t)})}async function hb(e,t){xp(e),Ll(e)?(e.Va.Pa(t),Ml(e)):e.Va.set("Unknown")}async function fb(e,t,n){if(e.Va.set("Online"),t instanceof cp&&t.state===2&&t.cause)try{await async function(r,i){const a=i.cause;for(const l of i.targetIds)r.Ea.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ea.delete(l),r.ma.removeTarget(l))}(e,t)}catch(s){J(zs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Rh(e,s)}else if(t instanceof Oi?e.ma.Xe(t):t instanceof lp?e.ma.ot(t):e.ma.nt(t),!n.isEqual(ft.min()))try{const s=await vp(e.localStore);n.compareTo(s)>=0&&await function(i,a){const l=i.ma.It(a);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ea.get(h);d&&i.Ea.set(h,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,h)=>{const d=i.Ea.get(c);if(!d)return;i.Ea.set(c,d.withResumeToken(le.EMPTY_BYTE_STRING,d.snapshotVersion)),Tp(i,c);const p=new Nn(d.target,c,h,d.sequenceNumber);Ol(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(s){J(zs,"Failed to raise snapshot:",s),await Rh(e,s)}}async function Rh(e,t,n){if(!Qs(t))throw t;e.da.add(1),await Jr(e),e.Va.set("Offline"),n||(n=()=>vp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{J(zs,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Ao(e)})}async function Sh(e,t){const n=xt(e);n.asyncQueue.verifyOperationInProgress(),J(zs,"RemoteStore received new credentials");const s=Zr(n);n.da.add(3),await Jr(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Ao(n)}async function db(e,t){const n=xt(e);t?(n.da.delete(2),await Ao(n)):t||(n.da.add(2),await Jr(n),n.Va.set("Unknown"))}function Xs(e){return e.fa||(e.fa=function(n,s,r){const i=xt(n);return i.oa(),new rb(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{e_:cb.bind(null,e),n_:ub.bind(null,e),i_:hb.bind(null,e),Y_:fb.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Ll(e)?Ml(e):e.Va.set("Unknown")):(await e.fa.stop(),xp(e))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,n,s,r,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,r,i){const a=Date.now()+s,l=new Fl(t,n,a,r,i);return l.start(s),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ip(e,t){if(vn("AsyncQueue",`${t}: ${e}`),Qs(e))return new it(W.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{static emptySet(t){return new Ms(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||lt.comparator(n.key,s.key):(n,s)=>lt.comparator(n.key,s.key),this.keyedMap=mr(),this.sortedSet=new Gt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ms)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ms;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this.pa=new Gt(lt.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):pt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ks{constructor(t,n,s,r,i,a,l,c,h){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(t,n,s,r,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ks(t,n,Ms.emptySet(n),a,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class gb{constructor(){this.queries=Vh(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=xt(n),i=r.queries;r.queries=Vh(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new it(W.ABORTED,"Firestore shutting down"))}}function Vh(){return new ps(e=>Jd(e),wo)}async function mb(e,t){const n=xt(e);let s=3;const r=t.query;let i=n.queries.get(r);i?!i.Da()&&t.va()&&(s=2):(i=new pb,s=t.va()?0:1);try{switch(s){case 0:i.ba=await n.onListen(r,!0);break;case 1:i.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Ip(a,`Initialization of query '${xs(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,i),i.Sa.push(t),t.Fa(n.onlineState),i.ba&&t.Ma(i.ba)&&$l(n)}async function _b(e,t){const n=xt(e),s=t.query;let r=3;const i=n.queries.get(s);if(i){const a=i.Sa.indexOf(t);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?r=t.va()?0:1:!i.Da()&&t.va()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function yb(e,t){const n=xt(e);let s=!1;for(const r of t){const i=r.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Ma(r)&&(s=!0);a.ba=r}}s&&$l(n)}function vb(e,t,n){const s=xt(e),r=s.queries.get(t);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(t)}function $l(e){e.Ca.forEach(t=>{t.next()})}var Qa,kh;(kh=Qa||(Qa={})).xa="default",kh.Cache="cache";class Eb{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const r of t.docChanges)r.type!==3&&s.push(r);t=new Ks(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Ks.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Qa.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(t){this.key=t}}class Cp{constructor(t){this.key=t}}class wb{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=It(),this.mutatedKeys=It(),this.Za=Zd(t),this.Xa=new Ms(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new Ph,r=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,p)=>{const g=r.get(d),w=bo(this.query,p)?p:null,C=!!g&&this.mutatedKeys.has(g.key),R=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let D=!1;g&&w?g.data.isEqual(w.data)?C!==R&&(s.track({type:3,doc:w}),D=!0):this.ru(g,w)||(s.track({type:2,doc:w}),D=!0,(c&&this.Za(w,c)>0||h&&this.Za(w,h)<0)&&(l=!0)):!g&&w?(s.track({type:0,doc:w}),D=!0):g&&!w&&(s.track({type:1,doc:g}),D=!0,(c||h)&&(l=!0)),D&&(w?(a=a.add(w),i=R?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{Xa:a,nu:s,Cs:l,mutatedKeys:i}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,r){const i=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((d,p)=>function(w,C){const R=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:D})}};return R(w)-R(C)}(d.type,p.type)||this.Za(d.doc,p.doc)),this.iu(s),r=r!=null&&r;const l=n&&!r?this.su():[],c=this.Ya.size===0&&this.current&&!r?1:0,h=c!==this.Ja;return this.Ja=c,a.length!==0||h?{snapshot:new Ks(this.query,t.Xa,i,a,t.mutatedKeys,c===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Ph,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=It(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new Cp(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new Ap(s))}),n}au(t){this.Ha=t.$s,this.Ya=It();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Ks.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Bl="SyncEngine";class bb{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class Tb{constructor(t){this.key=t,this.cu=!1}}class xb{constructor(t,n,s,r,i,a){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new ps(l=>Jd(l),wo),this.Pu=new Map,this.Tu=new Set,this.Iu=new Gt(lt.comparator),this.Eu=new Map,this.du=new Pl,this.Au={},this.Ru=new Map,this.Vu=Hs.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Ib(e,t,n=!0){const s=kp(e);let r;const i=s.hu.get(t);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.uu()):r=await Rp(s,t,n,!0),r}async function Ab(e,t){const n=kp(e);await Rp(n,t,!0,!1)}async function Rp(e,t,n,s){const r=await Qw(e.localStore,tn(t)),i=r.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await Cb(e,t,i,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&bp(e.remoteStore,r),l}async function Cb(e,t,n,s,r){e.fu=(p,g,w)=>async function(R,D,K,B){let U=D.view.tu(K);U.Cs&&(U=await Th(R.localStore,D.query,!1).then(({documents:A})=>D.view.tu(A,U)));const q=B&&B.targetChanges.get(D.targetId),ht=B&&B.targetMismatches.get(D.targetId)!=null,ut=D.view.applyChanges(U,R.isPrimaryClient,q,ht);return Nh(R,D.targetId,ut.ou),ut.snapshot}(e,p,g,w);const i=await Th(e.localStore,t,!0),a=new wb(t,i.$s),l=a.tu(i.documents),c=Yr.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",r),h=a.applyChanges(l,e.isPrimaryClient,c);Nh(e,n,h.ou);const d=new bb(t,n,a);return e.hu.set(t,d),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),h.snapshot}async function Rb(e,t,n){const s=xt(e),r=s.hu.get(t),i=s.Pu.get(r.targetId);if(i.length>1)return s.Pu.set(r.targetId,i.filter(a=>!wo(a,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Ga(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&Nl(s.remoteStore,r.targetId),Xa(s,r.targetId)}).catch(mo)):(Xa(s,r.targetId),await Ga(s.localStore,r.targetId,!0))}async function Sb(e,t){const n=xt(e),s=n.hu.get(t),r=n.Pu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Nl(n.remoteStore,s.targetId))}async function Sp(e,t){const n=xt(e);try{const s=await Gw(n.localStore,t);t.targetChanges.forEach((r,i)=>{const a=n.Eu.get(i);a&&(Bt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?Bt(a.cu,14607):r.removedDocuments.size>0&&(Bt(a.cu,42227),a.cu=!1))}),await Vp(n,s,t)}catch(s){await mo(s)}}function Dh(e,t,n){const s=xt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.hu.forEach((i,a)=>{const l=a.view.Fa(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const c=xt(a);c.onlineState=l;let h=!1;c.queries.forEach((d,p)=>{for(const g of p.Sa)g.Fa(l)&&(h=!0)}),h&&$l(c)}(s.eventManager,t),r.length&&s.lu.Y_(r),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Pb(e,t,n){const s=xt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const r=s.Eu.get(t),i=r&&r.key;if(i){let a=new Gt(lt.comparator);a=a.insert(i,ge.newNoDocument(i,ft.min()));const l=It().add(i),c=new Io(ft.min(),new Map,new Gt(_t),a,l);await Sp(s,c),s.Iu=s.Iu.remove(i),s.Eu.delete(t),Ul(s)}else await Ga(s.localStore,t,!1).then(()=>Xa(s,t,n)).catch(mo)}function Xa(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Pu.get(t))e.hu.delete(s),n&&e.lu.gu(s,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(s=>{e.du.containsKey(s)||Pp(e,s)})}function Pp(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(Nl(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Ul(e))}function Nh(e,t,n){for(const s of n)s instanceof Ap?(e.du.addReference(s.key,t),Vb(e,s)):s instanceof Cp?(J(Bl,"Document no longer in limbo: "+s.key),e.du.removeReference(s.key,t),e.du.containsKey(s.key)||Pp(e,s.key)):pt(19791,{pu:s})}function Vb(e,t){const n=t.key,s=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(s)||(J(Bl,"New document in limbo: "+n),e.Tu.add(s),Ul(e))}function Ul(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new lt(qt.fromString(t)),s=e.Vu.next();e.Eu.set(s,new Tb(n)),e.Iu=e.Iu.insert(n,s),bp(e.remoteStore,new Nn(tn(Yd(n.path)),s,"TargetPurposeLimboResolution",_o.le))}}async function Vp(e,t,n){const s=xt(e),r=[],i=[],a=[];s.hu.isEmpty()||(s.hu.forEach((l,c)=>{a.push(s.fu(c,t,n).then(h=>{var d;if((h||n)&&s.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;s.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(h){r.push(h);const p=kl.Rs(c.targetId,h);i.push(p)}}))}),await Promise.all(a),s.lu.Y_(r),await async function(c,h){const d=xt(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(h,g=>L.forEach(g.ds,w=>d.persistence.referenceDelegate.addReference(p,g.targetId,w)).next(()=>L.forEach(g.As,w=>d.persistence.referenceDelegate.removeReference(p,g.targetId,w)))))}catch(p){if(!Qs(p))throw p;J(Dl,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const w=d.xs.get(g),C=w.snapshotVersion,R=w.withLastLimboFreeSnapshotVersion(C);d.xs=d.xs.insert(g,R)}}}(s.localStore,i))}async function kb(e,t){const n=xt(e);if(!n.currentUser.isEqual(t)){J(Bl,"User change. New user:",t.toKey());const s=await yp(n.localStore,t);n.currentUser=t,function(i,a){i.Ru.forEach(l=>{l.forEach(c=>{c.reject(new it(W.CANCELLED,a))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Vp(n,s.ks)}}function Db(e,t){const n=xt(e),s=n.Eu.get(t);if(s&&s.cu)return It().add(s.key);{let r=It();const i=n.Pu.get(t);if(!i)return r;for(const a of i){const l=n.hu.get(a);r=r.unionWith(l.view.eu)}return r}}function kp(e){const t=xt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Sp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Db.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pb.bind(null,t),t.lu.Y_=yb.bind(null,t.eventManager),t.lu.gu=vb.bind(null,t.eventManager),t}class Zi{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ep(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return Kw(this.persistence,new qw,t.initialUser,this.serializer)}Su(t){return new _p(Vl.fi,this.serializer)}bu(t){return new Yw}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zi.provider={build:()=>new Zi};class Nb extends Zi{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Bt(this.persistence.referenceDelegate instanceof Ji,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Rw(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?Ae.withCacheSize(this.cacheSizeBytes):Ae.DEFAULT;return new _p(s=>Ji.fi(s,n),this.serializer)}}class Ya{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Dh(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kb.bind(null,this.syncEngine),await db(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new gb}()}createDatastore(t){const n=Ep(t.databaseInfo.databaseId),s=function(i){return new nb(i)}(t.databaseInfo);return function(i,a,l,c){return new ob(i,a,l,c)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,r,i,a,l){return new lb(s,r,i,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>Dh(this.syncEngine,n,0),function(){return Ah.C()?new Ah:new Jw}())}createSyncEngine(t,n){return function(r,i,a,l,c,h,d){const p=new xb(r,i,a,l,c,h);return d&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const i=xt(r);J(zs,"RemoteStore shutting down."),i.da.add(5),await Jr(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ya.provider={build:()=>new Ya};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):vn("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="FirestoreClient";class Mb{constructor(t,n,s,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=de.UNAUTHENTICATED,this.clientId=aE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async a=>{J(Gn,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(J(Gn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Ip(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function fa(e,t){e.asyncQueue.verifyOperationInProgress(),J(Gn,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async r=>{s.isEqual(r)||(await yp(t.localStore,r),s=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Oh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Lb(e);J(Gn,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(s=>Sh(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,r)=>Sh(t.remoteStore,r)),e._onlineComponents=t}async function Lb(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){J(Gn,"Using user provided OfflineComponentProvider");try{await fa(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===W.FAILED_PRECONDITION||r.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),await fa(e,new Zi)}}else J(Gn,"Using default OfflineComponentProvider"),await fa(e,new Nb(void 0));return e._offlineComponents}async function Fb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(J(Gn,"Using user provided OnlineComponentProvider"),await Oh(e,e._uninitializedComponentsProvider._online)):(J(Gn,"Using default OnlineComponentProvider"),await Oh(e,new Ya))),e._onlineComponents}async function $b(e){const t=await Fb(e),n=t.eventManager;return n.onListen=Ib.bind(null,t.syncEngine),n.onUnlisten=Rb.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Ab.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Sb.bind(null,t.syncEngine),n}function Bb(e,t,n={}){const s=new as;return e.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,h){const d=new Ob({next:g=>{d.xu(),a.enqueueAndForget(()=>_b(i,p)),g.fromCache&&c.source==="server"?h.reject(new it(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new Eb(l,d,{includeMetadataChanges:!0,Qa:!0});return mb(i,p)}(await $b(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map;function Ub(e,t,n,s){if(t===!0&&s===!0)throw new it(W.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Lh(e){if(lt.isDocumentKey(e))throw new it(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function jb(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":pt(12329,{type:typeof e})}function Ja(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new it(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jb(e);throw new it(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="firestore.googleapis.com",Fh=!0;class $h{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new it(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Np,this.ssl=Fh}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Fh;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mp;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Aw)throw new it(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ub("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dp((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new it(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new it(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new it(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jl{constructor(t,n,s,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $h({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $h(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new tE;switch(s.type){case"firstParty":return new rE(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Mh.get(n);s&&(J("ComponentProvider","Removing Datastore"),Mh.delete(n),s.terminate())}(this),Promise.resolve()}}function qb(e,t,n,s={}){var r;e=Ja(e,jl);const i=El(t),a=e._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),c=`${t}:${n}`;i&&(R0(`https://${c}`),k0("Firestore",!0)),a.host!==Np&&a.host!==c&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:c,ssl:i,emulatorOptions:s});if(!Hi(h,l)&&(e._setSettings(h),s.mockUserToken)){let d,p;if(typeof s.mockUserToken=="string")d=s.mockUserToken,p=de.MOCK_USER;else{d=S0(s.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new it(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new de(g)}e._authCredentials=new eE(new Ld(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Co(this.firestore,t,this._query)}}class Ys{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ys(this.firestore,t,this._key)}}class Ls extends Co{constructor(t,n,s){super(t,n,Yd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ys(this.firestore,null,new lt(t))}withConverter(t){return new Ls(this.firestore,t,this._path)}}function Hb(e,t,...n){if(e=U0(e),e instanceof jl){const s=qt.fromString(t,...n);return Lh(s),new Ls(e,null,s)}{if(!(e instanceof Ys||e instanceof Ls))throw new it(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(qt.fromString(t,...n));return Lh(s),new Ls(e.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="AsyncQueue";class Uh{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new wp(this,"async_queue_retry"),this.rc=()=>{const s=ha();s&&J(Bh,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=ha();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=ha();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new as;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Qs(t))throw t;J(Bh,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,vn("INTERNAL UNHANDLED ERROR: ",jh(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const r=Fl.createAndSchedule(this,t,n,s,i=>this.uc(i));return this.Zu.push(r),r}oc(){this.Xu&&pt(47125,{cc:jh(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function jh(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Op extends jl{constructor(t,n,s,r){super(t,n,s,r),this.type="firestore",this._queue=new Uh,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Uh(t),this._firestoreClient=void 0,await t}}}function zb(e,t){const n=typeof e=="object"?e:q1(),s=typeof e=="string"?e:Gi,r=F1(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=A0("firestore");i&&qb(r,...i)}return r}function Kb(e){if(e._terminated)throw new it(W.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Gb(e),e._firestoreClient}function Gb(e){var t,n,s;const r=e._freezeSettings(),i=function(l,c,h,d){return new wE(l,c,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Dp(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new Mb(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t){this._byteString=t}static fromBase64String(t){try{return new to(le.fromBase64String(t))}catch(n){throw new it(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new to(le.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new it(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new it(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new it(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return _t(this._lat,t._lat)||_t(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,t._values)}}const Xb=new RegExp("[~\\*/\\[\\]]");function Yb(e,t,n){if(t.search(Xb)>=0)throw qh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new Mp(...t.split("."))._internalPath}catch{throw qh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function qh(e,t,n,s,r){let i=`Function ${t}() called with invalid data`;i+=". ";let a="";return new it(W.INVALID_ARGUMENT,i+e+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t,n,s,r,i){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ys(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Jb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Fp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Jb extends Lp{data(){return super.data()}}function Fp(e,t){return typeof t=="string"?Yb(e,t):t instanceof Mp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new it(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tT{convertValue(t,n="none"){switch(zn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Hn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Xr(t,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(t){var n,s,r;const i=(r=(s=(n=t.fields)===null||n===void 0?void 0:n[La].arrayValue)===null||s===void 0?void 0:s.values)===null||r===void 0?void 0:r.map(a=>zt(a.doubleValue));return new Qb(i)}convertGeoPoint(t){return new Wb(zt(t.latitude),zt(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=vo(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Hr(t));default:return null}}convertTimestamp(t){const n=qn(t);return new Re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=qt.fromString(t);Bt(gp(s),9688,{name:t});const r=new zr(s.get(1),s.get(3)),i=new lt(s.popFirst(5));return r.isEqual(n)||vn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class eT extends Lp{constructor(t,n,s,r,i,a){super(t,n,s,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Mi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Fp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Mi extends eT{data(t={}){return super.data(t)}}class nT{constructor(t,n,s,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ii(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Mi(this._firestore,this._userDataWriter,s.key,s,new Ii(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const c=new Mi(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ii(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Mi(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ii(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:sT(l.type),doc:c,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:e})}}class rT extends tT{constructor(t){super(),this.firestore=t}convertBytes(t){return new to(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ys(this.firestore,null,n)}}function iT(e){e=Ja(e,Co);const t=Ja(e.firestore,Op),n=Kb(t),s=new rT(t);return Zb(e._query),Bb(n,e._query).then(r=>new nT(t,s,e,r))}(function(t,n=!0){(function(r){Ws=r})(j1),Ki(new Ur("firestore",(s,{instanceIdentifier:r,options:i})=>{const a=s.getProvider("app").getImmediate(),l=new Op(new nE(s.getProvider("auth-internal")),new iE(a,s.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new it(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zr(h.options.projectId,d)}(a,r),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Ns(Gu,Wu,t),Ns(Gu,Wu,"esm2017")})();var oT="firebase",aT="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(oT,aT,"app");const lT={apiKey:"AIzaSyDq26z1uAGlTVaAe-L4e_m9YE6Grjkkvcc",authDomain:"redpanda-cca8e.firebaseapp.com",projectId:"redpanda-cca8e",storageBucket:"redpanda-cca8e.appspot.com",messagingSenderId:"957458953340",appId:"1:957458953340:web:d0d55904558acbbb75c5f9",measurementId:"G-P4MJ9XGYR3"},cT=Cd(lT),uT=zb(cT),hT={class:"py-10 md:py-25"},fT={class:"max-w-6xl mx-auto px-4"},dT={key:0,class:"text-center py-10"},pT={key:1,class:"text-center py-10 bg-red-100 text-red-700 p-4 rounded-lg"},gT={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},mT=["src","alt"],_T={class:"p-4"},yT={class:"text-sm text-dark-gray mb-1"},vT={class:"font-semibold text-panda-black text-xl mb-2"},ET={class:"text-md text-dark-gray"},wT={key:3,class:"text-center py-10"},bT={__name:"NewsPage",setup(e){const t=Te([]),n=Te(!0),s=Te(null);return uo(async()=>{try{const r=await iT(Hb(uT,"news")),i=[];r.forEach(a=>{i.push({id:a.id,...a.data()})}),t.value=i}catch(r){console.error("Ошибка при загрузке новостей: ",r),s.value="Не удалось загрузить новости. Попробуйте позже."}finally{n.value=!1}}),(r,i)=>(nt(),ct("main",hT,[S("div",fT,[rt(Se,{class:"gap-container"},{default:yt(()=>i[0]||(i[0]=[mt(" Новости ")])),_:1,__:[0]}),i[3]||(i[3]=S("p",{class:"text-h5-panda text-dark-gray leading-relaxed text-center max-w-2xl mx-auto mb-10"},"Будьте в курсе последних событий и достижений нашей компании.",-1)),n.value?(nt(),ct("div",dT,i[1]||(i[1]=[S("p",{class:"text-lg text-dark-gray"},"Загрузка новостей...",-1)]))):s.value?(nt(),ct("div",pT,[S("p",null,Kt(s.value),1)])):t.value.length>0?(nt(),ct("div",gT,[(nt(!0),ct(jt,null,gn(t.value,a=>(nt(),ct("div",{key:a.id,class:"bg-light-gray rounded-lg overflow-hidden"},[S("img",{src:a.imageUrl,alt:a.title,class:"w-full h-auto object-cover rounded-t-lg aspect-[16/9]",onerror:"this.onerror=null;this.src='https://placehold.co/600x350/F7F7F7/131C26?text=Image+not+found';"},null,8,mT),S("div",_T,[S("p",yT,Kt(a.date),1),S("h3",vT,Kt(a.title),1),S("p",ET,Kt(a.description),1)])]))),128))])):(nt(),ct("div",wT,i[2]||(i[2]=[S("p",{class:"text-lg text-dark-gray"},"Новостей пока нет.",-1)])))])]))}},TT={class:"py-10 md:py-25"},xT={class:"max-w-6xl mx-auto px-4"},IT={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},AT={class:"flex justify-between items-start mb-4"},CT={class:"text-h4-panda font-bold text-gray-900 leading-tight"},RT={class:"flex gap-2 ml-4"},ST={class:"text-dark-gray text-small-panda mb-6 font-semibold"},PT={class:"mb-6"},VT={class:"text-gray-800 text-body-panda leading-relaxed"},kT={class:"mb-8"},DT={class:"list-decimal list-inside text-gray-800 text-body-panda leading-relaxed space-y-2"},NT={class:"bg-white rounded-2xl p-8 talent-reserve-form gap-page"},OT={class:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start"},MT={class:"flex items-center gap-3 py-3 border-b border-gray-300 cursor-pointer text-gray-600 text-sm"},LT={__name:"VacanciesPage",setup(e){const t=Te([{id:1,title:"Офис-менеджер",salary:"от 350 000 до 900 000 KZT",tags:["Девушка","Без опыта"],conditions:"Официальное трудоустройство. Рабочий день 09:00-18:00 (5/2).",responsibilities:["Ответы на телефонные звонки;","Ведение деловой корреспонденции;","Логистика;","Административно-хозяйственная часть;","Выполнение поручений руководителя."]},{id:2,title:"Печатник",salary:"от 350 000 до 900 000 KZT",tags:["Мужчина","Опыт 1-3 года"],conditions:"Официальное трудоустройство. Рабочий день 09:00-18:00 (5/2).",responsibilities:["Работа на машинах: Mimaki, Roland, XEROX;","Постпечатная обработка продукции."]}]),n=Te({desiredPosition:"",name:"",phone:"",resume:null}),s=a=>{n.value.desiredPosition=a;const l=document.querySelector(".talent-reserve-form");l&&l.scrollIntoView({behavior:"smooth"})},r=a=>{const l=a.target.files[0];l&&(n.value.resume=l)},i=()=>{alert(`Спасибо за отклик, ${n.value.name}! Мы свяжемся с вами.`),n.value={desiredPosition:"",name:"",phone:"",resume:null}};return(a,l)=>(nt(),ct("main",TT,[S("div",xT,[S("section",null,[rt(Se,{class:"gap-container"},{default:yt(()=>l[3]||(l[3]=[mt(" Вакансии ")])),_:1,__:[3]}),S("div",IT,[(nt(!0),ct(jt,null,gn(t.value,c=>(nt(),ct("div",{key:c.id,class:"bg-gray-50 rounded-3xl p-8 relative"},[S("div",AT,[S("h3",CT,Kt(c.title),1),S("div",RT,[(nt(!0),ct(jt,null,gn(c.tags,h=>(nt(),ct("span",{key:h,class:"bg-white rounded-full px-4 py-2 text-sm font-medium text-gray-700 border border-gray-200 whitespace-nowrap"},Kt(h),1))),128))])]),S("div",ST,Kt(c.salary),1),S("div",PT,[l[4]||(l[4]=S("div",{class:"text-panda-orange font-bold text-body-panda mb-3"},"Условия",-1)),S("div",VT,Kt(c.conditions),1)]),S("div",kT,[l[5]||(l[5]=S("div",{class:"text-panda-orange font-bold text-body-panda mb-3"},"Обязанности",-1)),S("ol",DT,[(nt(!0),ct(jt,null,gn(c.responsibilities,h=>(nt(),ct("li",{key:h,class:"pl-1"},Kt(h),1))),128))])]),rt(ye,{onClick:h=>s(c.title),variant:"fill-black"},{default:yt(()=>l[6]||(l[6]=[mt("Откликнуться")])),_:2,__:[6]},1032,["onClick"])]))),128))])]),S("section",NT,[S("div",OT,[S("div",null,[rt(Se,null,{default:yt(()=>l[7]||(l[7]=[mt(" Кадровый резерв ")])),_:1,__:[7]}),l[8]||(l[8]=S("p",{class:"text-h5-panda text-gray-600 text-center mt-4"},"Хотите работать у нас, но нет подходящей вакансии? Оставьте заявку!",-1))]),S("div",null,[S("form",{onSubmit:gl(i,["prevent"]),class:"space-y-6"},[S("div",null,[un(S("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>n.value.desiredPosition=c),type:"text",placeholder:"Желаемая вакансия",class:"w-full border-0 border-b border-gray-300 py-3 px-0 text-body-panda text-gray-900 placeholder-gray-500 bg-transparent focus:outline-none focus:border-orange-500 focus:ring-0",required:""},null,512),[[hn,n.value.desiredPosition]])]),S("div",null,[un(S("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>n.value.name=c),type:"text",placeholder:"Ваше имя",class:"w-full border-0 border-b border-gray-300 py-3 px-0 text-body-panda text-gray-900 placeholder-gray-500 bg-transparent focus:outline-none focus:border-orange-500 focus:ring-0",required:""},null,512),[[hn,n.value.name]])]),S("div",null,[un(S("input",{"onUpdate:modelValue":l[2]||(l[2]=c=>n.value.phone=c),type:"tel",placeholder:"Телефон",class:"w-full border-0 border-b border-gray-300 py-3 px-0 text-body-panda text-gray-900 placeholder-gray-500 bg-transparent focus:outline-none focus:border-orange-500 focus:ring-0",required:""},null,512),[[hn,n.value.phone]])]),S("div",null,[S("label",MT,[l[9]||(l[9]=S("span",{class:"text-2xl"},"📎",-1)),S("span",null,Kt(n.value.resume?n.value.resume.name:"Приложите резюме или ссылку"),1),S("input",{type:"file",onChange:r,accept:".pdf,.doc,.docx",class:"hidden"},null,32)])]),rt(ye,{type:"submit",variant:"fill-black"},{default:yt(()=>l[10]||(l[10]=[mt("Отправить")])),_:1,__:[10]})],32)])])])])]))}},FT="/assets/Roland%20VersaCAMM%20VS-640-B_BFlbi6.png",$T="/assets/Roland%20VersaUV%20LEF-200-D0GjV_ep.png",BT="/assets/Roland%20EGX-350-CTK2FBf1.png",UT="/assets/XEROX%20Versant%20280-_whOoNA4.png",jT="/assets/Duplo%20DC-616-C7BluFMR.png",qT="/assets/PFI%20Blade%20B3-CbXp79l7.png",HT={class:"py-10 md:py-25"},zT={class:"max-w-6xl mx-auto px-4"},KT={__name:"EquipmentPage",setup(e){return(t,n)=>(nt(),ct("main",HT,[S("div",zT,[rt(Se,{class:"gap-container"},{default:yt(()=>n[0]||(n[0]=[mt(" Наше Оборудование ")])),_:1,__:[0]}),n[1]||(n[1]=Mn('<section class="group grid grid-cols-1 lg:grid-cols-2 gap-16 items-start"><div class="bg-light-gray rounded-lg p-8 flex items-center justify-center"><img src="'+FT+'" alt="Изображение Roland VersaCAMM VS-640" class="w-full h-auto max-w-sm"></div><div class="space-y-6"><h2 class="text-h3-panda font-bold text-gray-900 transition-colors duration-300 group-hover:text-panda-orange">Roland VersaCAMM VS-640</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-body-panda"><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1">Тип</h3><p class="text-gray-600">Экосольвентный плоттер-печатник с функцией плоттерной резки</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Ширина печати</h3><p class="text-gray-600">До 1615 мм</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Цветовая схема</h3><p class="text-gray-600">CMYK + Light Cyan, Light Magenta, White, Metallic</p></div></div><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1">Чернила</h3><p class="text-gray-600">Roland ECO-SOL MAX / MAX 2</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Разрешение печати</h3><p class="text-gray-600">До 1440 DPI</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Применение</h3><p class="text-gray-600">Наружная реклама, наклейки, стикеры, витрины, печать по ПВХ, баннеру и пр.</p></div></div></div></div></section><hr class="border-t border-gray my-16"><section class="group grid grid-cols-1 lg:grid-cols-2 gap-16 items-start"><div class="bg-light-gray rounded-lg p-8 flex items-center justify-center"><img src="'+$T+'" alt="Изображение Roland VersaUV LEF-200" class="w-full h-auto max-w-sm"></div><div class="space-y-6"><h2 class="text-h3-panda font-bold text-gray-900 transition-colors duration-300 group-hover:text-panda-orange">Roland VersaUV LEF-200</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-body-panda"><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1">Тип</h3><p class="text-gray-600">УФ-принтер (ультрафиолетовая струйная печать)</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Область печати</h3><p class="text-gray-600">508 х 330 мм. Высота до 100 мм</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Цветовая схема</h3><p class="text-gray-600">CMYK + White + Gloss (лак)</p></div></div><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1">Чернила</h3><p class="text-gray-600">Roland ECO-UV</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Разрешение печати</h3><p class="text-gray-600">До 1440 DPI</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Применение</h3><p class="text-gray-600">Печать на сувенирах, пластике, дереве, стекле, металле, коже и др.</p></div></div></div></div></section><hr class="border-t border-gray my-16"><section class="group grid grid-cols-1 lg:grid-cols-2 gap-16 items-start"><div class="bg-light-gray rounded-lg p-8 flex items-center justify-center"><img src="'+BT+'" alt="Изображение Roland EGX-350" class="w-full h-auto max-w-sm"></div><div class="space-y-6"><h2 class="text-h3-panda font-bold text-gray-900 transition-colors duration-300 group-hover:text-panda-orange">Roland EGX-350</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-body-panda"><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1">Тип</h3><p class="text-gray-600">Настольный фрезерно-гравировальный станок</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Область печати</h3><p class="text-gray-600">305х230 мм, Высота до 40 мм</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Скорость</h3><p class="text-gray-600">1200 мм/мин</p></div></div><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1">Стандартные материалы</h3><p class="text-gray-600">Двухслойные пластики, акрил, дерево, латунь, алюминий</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Применение</h3><p class="text-gray-600">Таблички, шильды, сувенирная продукция, штампы, клише</p></div></div></div></div></section><hr class="border-t border-gray my-16"><section class="group grid grid-cols-1 lg:grid-cols-2 gap-16 items-start"><div class="bg-light-gray rounded-lg p-8 flex items-center justify-center"><img src="'+UT+'" alt="Изображение XEROX Versant 280" class="w-full h-auto max-w-sm"></div><div class="space-y-6"><h2 class="text-h3-panda font-bold text-gray-900 transition-colors duration-300 group-hover:text-panda-orange">XEROX Versant 280</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-body-panda"><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1">Тип</h3><p class="text-gray-600">Цветная цифровая печатная машина</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Скорость</h3><p class="text-gray-600">До 80 стр./мин (А4)</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Плотность бумаги</h3><p class="text-gray-600">52-400 г/м²</p></div></div><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1">Разрешение печати</h3><p class="text-gray-600">2400 x 2400 DPI</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Специальные тонеры</h3><p class="text-gray-600">Золото, серебро, белый, прозрачный, флуоресцентные</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Применение</h3><p class="text-gray-600">Высококачественная полиграфия, буклеты, брошюры, визитки.</p></div></div></div></div></section><hr class="border-t border-gray my-16"><section class="group grid grid-cols-1 lg:grid-cols-2 gap-16 items-start"><div class="bg-light-gray rounded-lg p-8 flex items-center justify-center"><img src="'+jT+'" alt="Изображение Duplo DC-616" class="w-full h-auto max-w-sm"></div><div class="space-y-6"><h2 class="text-h3-panda font-bold text-gray-900 transition-colors duration-300 group-hover:text-panda-orange">Duplo DC-616</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-body-panda"><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1">Тип</h3><p class="text-gray-600">Автоматический Слиттер / Каттер / Биговщик</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Скорость обработки</h3><p class="text-gray-600">До 10 листов в минуту</p></div></div><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1">Функции</h3><p class="text-gray-600">Продольная и поперечная резка, биговка</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Применение</h3><p class="text-gray-600">Визитки, открытки, приглашения, буклеты, меню.</p></div></div></div></div></section><hr class="border-t border-gray my-16"><section class="group grid grid-cols-1 lg:grid-cols-2 gap-16 items-start"><div class="bg-light-gray rounded-lg p-8 flex items-center justify-center"><img src="'+qT+'" alt="Изображение PFI Blade B3" class="w-full h-auto max-w-sm"></div><div class="space-y-6"><h2 class="text-h3-panda font-bold text-gray-900 transition-colors duration-300 group-hover:text-panda-orange">PFI Blade B3</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-body-panda"><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1">Тип</h3><p class="text-gray-600">Цифровой режущий стол с автоматической подачей листов</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Область обработки</h3><p class="text-gray-600">340х480 мм</p></div><div><h3 class="font-semibold text-gray-900 mb-1">Скорость резки</h3><p class="text-gray-600">До 800 мм/сек</p></div></div><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1">Применение</h3><p class="text-gray-600">Этикетки, kiss-cut, биговка, перфорация, изготовление прототипов упаковки, открыток, приглашений, бирок и др.</p></div></div></div></div></section>',11))])]))}},GT="/assets/cupon-new-client-C3p4ZV48.svg",WT="/assets/cupom-back-to-school-Coey-SnQ.svg",QT={class:"py-10 md:py-25"},XT={class:"max-w-6xl mx-auto px-4"},YT={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},JT={class:"bg-light-gray rounded-lg overflow-hidden p-6 text-center"},ZT={class:"bg-light-gray rounded-lg overflow-hidden p-6 text-center"},tx={__name:"PromotionsPage",setup(e){return(t,n)=>(nt(),ct("main",QT,[S("div",XT,[rt(Se,{class:"gap-container"},{default:yt(()=>n[0]||(n[0]=[mt(" Акции ")])),_:1,__:[0]}),n[9]||(n[9]=S("p",{class:"text-h5-panda text-dark-gray leading-relaxed text-center max-w-2xl mx-auto mb-10"},"Ознакомьтесь с нашими текущими акциями и специальными предложениями!",-1)),S("div",YT,[S("div",JT,[n[2]||(n[2]=S("img",{src:GT,alt:"Скидка на первый заказ",class:"w-full h-auto object-cover rounded-md mb-4"},null,-1)),n[3]||(n[3]=S("h2",{class:"font-semibold text-panda-black text-h4-panda mb-2"},"Скидка 15% на первый заказ",-1)),n[4]||(n[4]=S("p",{class:"text-body-panda text-dark-gray mb-4"},"Для всех новых клиентов Red Panda.",-1)),rt(ye,{to:"/",variant:"fill-orange"},{default:yt(()=>n[1]||(n[1]=[mt("Воспользоваться")])),_:1,__:[1]})]),S("div",ZT,[n[6]||(n[6]=S("img",{src:WT,alt:"Скидка к школе",class:"w-full h-auto object-cover rounded-md mb-4"},null,-1)),n[7]||(n[7]=S("h2",{class:"font-semibold text-panda-black text-h4-panda mb-2"},"Скидка 10% до 1 сентября",-1)),n[8]||(n[8]=S("p",{class:"text-body-panda text-dark-gray mb-4"},"Подготовьтесь к новому учебному году или сезону с выгодой!",-1)),rt(ye,{to:"/",variant:"fill-black"},{default:yt(()=>n[5]||(n[5]=[mt("Воспользоваться")])),_:1,__:[5]})])])])]))}},ex={class:"py-10 md:py-25"},nx={class:"max-w-6xl mx-auto px-4"},sx={class:"flex flex-wrap gap-4"},rx={class:"flex flex-col items-center"},ix={class:"text-center"},ox={class:"flex flex-col items-center"},ax={class:"text-center"},lx={class:"gap-page"},cx={class:"text-center bg-light-gray rounded-lg p-12 gap-page"},ux={__name:"PreparationPage",setup(e){return(t,n)=>(nt(),ct("main",ex,[S("div",nx,[S("section",null,[rt(Se,{class:"gap-container"},{default:yt(()=>n[0]||(n[0]=[mt("Шаблоны")])),_:1,__:[0]}),S("div",sx,[S("div",rx,[n[3]||(n[3]=S("div",{class:"w-20 h-28 bg-dark-gray rounded-sm flex items-center justify-center mb-2"},[S("svg",{class:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[S("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})])],-1)),S("div",ix,[n[2]||(n[2]=S("div",{class:"text-xs text-panda-orange mb-1"},"320x200 мм",-1)),rt(ye,{href:"#",variant:"fill-black",class:"!px-3 !py-1 !text-xs"},{default:yt(()=>n[1]||(n[1]=[mt("Скачать")])),_:1,__:[1]})])]),S("div",ox,[n[6]||(n[6]=S("div",{class:"w-20 h-28 bg-dark-gray rounded-sm flex items-center justify-center mb-2"},[S("svg",{class:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[S("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})])],-1)),S("div",ax,[n[5]||(n[5]=S("div",{class:"text-xs text-panda-orange mb-1"},"250x350 мм",-1)),rt(ye,{href:"#",variant:"fill-black",class:"!px-3 !py-1 !text-xs"},{default:yt(()=>n[4]||(n[4]=[mt("Скачать")])),_:1,__:[4]})])])])]),S("section",lx,[rt(Se,{class:"gap-container"},{default:yt(()=>n[7]||(n[7]=[mt("Требования к макетам")])),_:1,__:[7]}),n[8]||(n[8]=Mn('<div class="space-y-6 text-body-panda"><div><h3 class="font-bold text-panda-black text-h5-panda mb-2">Формат файла</h3><p class="text-dark-gray">Предпочтительный формат файла PDF. Также принимаются CDR, AI, PSD, EPS.</p></div><div><h3 class="font-bold text-panda-black text-h5-panda mb-2">Цветовая модель</h3><p class="text-dark-gray">Все макеты должны быть в цветовой модели CMYK. Файлы в RGB будут конвертированы автоматически, что может привести к искажению цветов.</p></div><div><h3 class="font-bold text-panda-black text-h5-panda mb-2">Шрифты</h3><p class="text-dark-gray">Все текстовые элементы должны быть переведены в кривые (curves/outlines).</p></div><div><h3 class="font-bold text-panda-black text-h5-panda mb-2">Вылеты (Bleeds)</h3><p class="text-dark-gray">Для всей продукции, где есть элементы &quot;навылет&quot;, необходимо добавить вылеты по 3-5 мм с каждой стороны.</p></div></div>',1))]),S("div",cx,[n[10]||(n[10]=S("h3",{class:"text-h3-panda font-bold text-panda-black mb-4"},"Нет времени на подготовку файлов?",-1)),n[11]||(n[11]=S("p",{class:"text-h5-panda text-panda-black mb-6"},"Оперативно сделаем за Вас!",-1)),rt(ye,{to:"/",variant:"fill-orange"},{default:yt(()=>n[9]||(n[9]=[mt("Заказать подготовку файлов")])),_:1,__:[9]})])])]))}},hx={class:"py-10 md:py-25"},fx={class:"max-w-6xl mx-auto px-4"},dx={class:"flex flex-col items-center justify-center text-center",style:{"min-height":"calc(100vh - 400px)"}},px={__name:"NotFoundPage",setup(e){return(t,n)=>(nt(),ct("main",hx,[S("div",fx,[S("div",dx,[n[1]||(n[1]=S("h1",{class:"font-bold text-panda-orange mb-4",style:{"font-size":"160px","line-height":"1"}},"404",-1)),n[2]||(n[2]=S("h2",{class:"text-h3-panda font-semibold text-panda-black mb-2"},"Страница не найдена",-1)),n[3]||(n[3]=S("p",{class:"text-body-panda text-dark-gray mb-8 max-w-md"}," К сожалению, страница, которую вы ищете, не существует, была перемещена или удалена. ",-1)),rt(ye,{to:"/"},{default:yt(()=>n[0]||(n[0]=[mt("Вернуться на главную")])),_:1,__:[0]})])])]))}},gx=ds(px,[["__scopeId","data-v-edd87505"]]),mx=[{path:"/",name:"Home",component:Bv},{path:"/gallery",name:"Gallery",component:Xv},{path:"/project-detail",name:"ProjectDetail",component:e0},{path:"/shop",name:"Shop",component:h0},{path:"/team",name:"Team",component:g0},{path:"/news",name:"News",component:bT},{path:"/vacancies",name:"Vacancies",component:LT},{path:"/equipment",name:"Equipment",component:KT},{path:"/promotions",name:"Promotions",component:tx},{path:"/preparation",name:"Preparation",component:ux},{path:"/:pathMatch(.*)*",name:"NotFound",component:gx}],_x=$y({history:py(),routes:mx,scrollBehavior(e,t,n){return n||{top:0}}}),$p=V_(cv);$p.use(_x);$p.mount("#app");
